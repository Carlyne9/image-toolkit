(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();function Ad(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ec={exports:{}},Ns={},Cc={exports:{}},Ie={};var Bp;function ry(){if(Bp)return Ie;Bp=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function y(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function x(E,O,q){this.props=E,this.context=O,this.refs=k,this.updater=q||w}x.prototype.isReactComponent={},x.prototype.setState=function(E,O){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,O,"setState")},x.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=x.prototype;function M(E,O,q){this.props=E,this.context=O,this.refs=k,this.updater=q||w}var D=M.prototype=new R;D.constructor=M,C(D,x.prototype),D.isPureReactComponent=!0;var V=Array.isArray,J=Object.prototype.hasOwnProperty,me={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function Y(E,O,q){var te,ce={},fe=null,Ne=null;if(O!=null)for(te in O.ref!==void 0&&(Ne=O.ref),O.key!==void 0&&(fe=""+O.key),O)J.call(O,te)&&!Z.hasOwnProperty(te)&&(ce[te]=O[te]);var Le=arguments.length-2;if(Le===1)ce.children=q;else if(1<Le){for(var Be=Array(Le),Ze=0;Ze<Le;Ze++)Be[Ze]=arguments[Ze+2];ce.children=Be}if(E&&E.defaultProps)for(te in Le=E.defaultProps,Le)ce[te]===void 0&&(ce[te]=Le[te]);return{$$typeof:s,type:E,key:fe,ref:Ne,props:ce,_owner:me.current}}function ke(E,O){return{$$typeof:s,type:E.type,key:O,ref:E.ref,props:E.props,_owner:E._owner}}function be(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function X(E){var O={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(q){return O[q]})}var Ae=/\/+/g;function Oe(E,O){return typeof E=="object"&&E!==null&&E.key!=null?X(""+E.key):O.toString(36)}function Fe(E,O,q,te,ce){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var Ne=!1;if(E===null)Ne=!0;else switch(fe){case"string":case"number":Ne=!0;break;case"object":switch(E.$$typeof){case s:case e:Ne=!0}}if(Ne)return Ne=E,ce=ce(Ne),E=te===""?"."+Oe(Ne,0):te,V(ce)?(q="",E!=null&&(q=E.replace(Ae,"$&/")+"/"),Fe(ce,O,q,"",function(Ze){return Ze})):ce!=null&&(be(ce)&&(ce=ke(ce,q+(!ce.key||Ne&&Ne.key===ce.key?"":(""+ce.key).replace(Ae,"$&/")+"/")+E)),O.push(ce)),1;if(Ne=0,te=te===""?".":te+":",V(E))for(var Le=0;Le<E.length;Le++){fe=E[Le];var Be=te+Oe(fe,Le);Ne+=Fe(fe,O,q,Be,ce)}else if(Be=y(E),typeof Be=="function")for(E=Be.call(E),Le=0;!(fe=E.next()).done;)fe=fe.value,Be=te+Oe(fe,Le++),Ne+=Fe(fe,O,q,Be,ce);else if(fe==="object")throw O=String(E),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return Ne}function Me(E,O,q){if(E==null)return E;var te=[],ce=0;return Fe(E,te,"","",function(fe){return O.call(q,fe,ce++)}),te}function ie(E){if(E._status===-1){var O=E._result;O=O(),O.then(function(q){(E._status===0||E._status===-1)&&(E._status=1,E._result=q)},function(q){(E._status===0||E._status===-1)&&(E._status=2,E._result=q)}),E._status===-1&&(E._status=0,E._result=O)}if(E._status===1)return E._result.default;throw E._result}var z={current:null},F={transition:null},A={ReactCurrentDispatcher:z,ReactCurrentBatchConfig:F,ReactCurrentOwner:me};function $(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Me,forEach:function(E,O,q){Me(E,function(){O.apply(this,arguments)},q)},count:function(E){var O=0;return Me(E,function(){O++}),O},toArray:function(E){return Me(E,function(O){return O})||[]},only:function(E){if(!be(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Ie.Component=x,Ie.Fragment=r,Ie.Profiler=o,Ie.PureComponent=M,Ie.StrictMode=i,Ie.Suspense=p,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Ie.act=$,Ie.cloneElement=function(E,O,q){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var te=C({},E.props),ce=E.key,fe=E.ref,Ne=E._owner;if(O!=null){if(O.ref!==void 0&&(fe=O.ref,Ne=me.current),O.key!==void 0&&(ce=""+O.key),E.type&&E.type.defaultProps)var Le=E.type.defaultProps;for(Be in O)J.call(O,Be)&&!Z.hasOwnProperty(Be)&&(te[Be]=O[Be]===void 0&&Le!==void 0?Le[Be]:O[Be])}var Be=arguments.length-2;if(Be===1)te.children=q;else if(1<Be){Le=Array(Be);for(var Ze=0;Ze<Be;Ze++)Le[Ze]=arguments[Ze+2];te.children=Le}return{$$typeof:s,type:E.type,key:ce,ref:fe,props:te,_owner:Ne}},Ie.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:l,_context:E},E.Consumer=E},Ie.createElement=Y,Ie.createFactory=function(E){var O=Y.bind(null,E);return O.type=E,O},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(E){return{$$typeof:d,render:E}},Ie.isValidElement=be,Ie.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:ie}},Ie.memo=function(E,O){return{$$typeof:g,type:E,compare:O===void 0?null:O}},Ie.startTransition=function(E){var O=F.transition;F.transition={};try{E()}finally{F.transition=O}},Ie.unstable_act=$,Ie.useCallback=function(E,O){return z.current.useCallback(E,O)},Ie.useContext=function(E){return z.current.useContext(E)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(E){return z.current.useDeferredValue(E)},Ie.useEffect=function(E,O){return z.current.useEffect(E,O)},Ie.useId=function(){return z.current.useId()},Ie.useImperativeHandle=function(E,O,q){return z.current.useImperativeHandle(E,O,q)},Ie.useInsertionEffect=function(E,O){return z.current.useInsertionEffect(E,O)},Ie.useLayoutEffect=function(E,O){return z.current.useLayoutEffect(E,O)},Ie.useMemo=function(E,O){return z.current.useMemo(E,O)},Ie.useReducer=function(E,O,q){return z.current.useReducer(E,O,q)},Ie.useRef=function(E){return z.current.useRef(E)},Ie.useState=function(E){return z.current.useState(E)},Ie.useSyncExternalStore=function(E,O,q){return z.current.useSyncExternalStore(E,O,q)},Ie.useTransition=function(){return z.current.useTransition()},Ie.version="18.3.1",Ie}var Vp;function Fd(){return Vp||(Vp=1,Cc.exports=ry()),Cc.exports}var Hp;function ny(){if(Hp)return Ns;Hp=1;var s=Fd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,g){var v,_={},y=null,w=null;g!==void 0&&(y=""+g),p.key!==void 0&&(y=""+p.key),p.ref!==void 0&&(w=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(_[v]=p[v]);if(d&&d.defaultProps)for(v in p=d.defaultProps,p)_[v]===void 0&&(_[v]=p[v]);return{$$typeof:e,type:d,key:y,ref:w,props:_,_owner:o.current}}return Ns.Fragment=r,Ns.jsx=c,Ns.jsxs=c,Ns}var Wp;function iy(){return Wp||(Wp=1,Ec.exports=ny()),Ec.exports}var S=iy(),ve=Fd();const sy=Ad(ve);var Ua={},Pc={exports:{}},Vt={},Tc={exports:{}},Rc={};var Gp;function oy(){return Gp||(Gp=1,(function(s){function e(F,A){var $=F.length;F.push(A);e:for(;0<$;){var E=$-1>>>1,O=F[E];if(0<o(O,A))F[E]=A,F[$]=O,$=E;else break e}}function r(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var A=F[0],$=F.pop();if($!==A){F[0]=$;e:for(var E=0,O=F.length,q=O>>>1;E<q;){var te=2*(E+1)-1,ce=F[te],fe=te+1,Ne=F[fe];if(0>o(ce,$))fe<O&&0>o(Ne,ce)?(F[E]=Ne,F[fe]=$,E=fe):(F[E]=ce,F[te]=$,E=te);else if(fe<O&&0>o(Ne,$))F[E]=Ne,F[fe]=$,E=fe;else break e}}return A}function o(F,A){var $=F.sortIndex-A.sortIndex;return $!==0?$:F.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();s.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,_=null,y=3,w=!1,C=!1,k=!1,x=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(F){for(var A=r(g);A!==null;){if(A.callback===null)i(g);else if(A.startTime<=F)i(g),A.sortIndex=A.expirationTime,e(p,A);else break;A=r(g)}}function V(F){if(k=!1,D(F),!C)if(r(p)!==null)C=!0,ie(J);else{var A=r(g);A!==null&&z(V,A.startTime-F)}}function J(F,A){C=!1,k&&(k=!1,R(Y),Y=-1),w=!0;var $=y;try{for(D(A),_=r(p);_!==null&&(!(_.expirationTime>A)||F&&!X());){var E=_.callback;if(typeof E=="function"){_.callback=null,y=_.priorityLevel;var O=E(_.expirationTime<=A);A=s.unstable_now(),typeof O=="function"?_.callback=O:_===r(p)&&i(p),D(A)}else i(p);_=r(p)}if(_!==null)var q=!0;else{var te=r(g);te!==null&&z(V,te.startTime-A),q=!1}return q}finally{_=null,y=$,w=!1}}var me=!1,Z=null,Y=-1,ke=5,be=-1;function X(){return!(s.unstable_now()-be<ke)}function Ae(){if(Z!==null){var F=s.unstable_now();be=F;var A=!0;try{A=Z(!0,F)}finally{A?Oe():(me=!1,Z=null)}}else me=!1}var Oe;if(typeof M=="function")Oe=function(){M(Ae)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,Me=Fe.port2;Fe.port1.onmessage=Ae,Oe=function(){Me.postMessage(null)}}else Oe=function(){x(Ae,0)};function ie(F){Z=F,me||(me=!0,Oe())}function z(F,A){Y=x(function(){F(s.unstable_now())},A)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_continueExecution=function(){C||w||(C=!0,ie(J))},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ke=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return y},s.unstable_getFirstCallbackNode=function(){return r(p)},s.unstable_next=function(F){switch(y){case 1:case 2:case 3:var A=3;break;default:A=y}var $=y;y=A;try{return F()}finally{y=$}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(F,A){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var $=y;y=F;try{return A()}finally{y=$}},s.unstable_scheduleCallback=function(F,A,$){var E=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?E+$:E):$=E,F){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,F={id:v++,callback:A,priorityLevel:F,startTime:$,expirationTime:O,sortIndex:-1},$>E?(F.sortIndex=$,e(g,F),r(p)===null&&F===r(g)&&(k?(R(Y),Y=-1):k=!0,z(V,$-E))):(F.sortIndex=O,e(p,F),C||w||(C=!0,ie(J))),F},s.unstable_shouldYield=X,s.unstable_wrapCallback=function(F){var A=y;return function(){var $=y;y=A;try{return F.apply(this,arguments)}finally{y=$}}}})(Rc)),Rc}var Zp;function ay(){return Zp||(Zp=1,Tc.exports=oy()),Tc.exports}var qp;function ly(){if(qp)return Vt;qp=1;var s=Fd(),e=ay();function r(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(t,n){c(t,n),c(t+"Capture",n)}function c(t,n){for(o[t]=n,t=0;t<n.length;t++)i.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function y(t){return p.call(_,t)?!0:p.call(v,t)?!1:g.test(t)?_[t]=!0:(v[t]=!0,!1)}function w(t,n,a,u){if(a!==null&&a.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C(t,n,a,u){if(n===null||typeof n>"u"||w(t,n,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function k(t,n,a,u,f,h,m){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=t,this.type=n,this.sanitizeURL=h,this.removeEmptyString=m}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){x[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];x[n]=new k(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){x[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){x[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){x[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){x[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){x[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){x[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){x[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function M(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(R,M);x[n]=new k(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(R,M);x[n]=new k(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(R,M);x[n]=new k(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){x[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){x[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function D(t,n,a,u){var f=x.hasOwnProperty(n)?x[n]:null;(f!==null?f.type!==0:u||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(C(n,a,f,u)&&(a=null),u||f===null?y(n)&&(a===null?t.removeAttribute(n):t.setAttribute(n,""+a)):f.mustUseProperty?t[f.propertyName]=a===null?f.type===3?!1:"":a:(n=f.attributeName,u=f.attributeNamespace,a===null?t.removeAttribute(n):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,u?t.setAttributeNS(u,n,a):t.setAttribute(n,a))))}var V=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),me=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),X=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Oe=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),z=Symbol.for("react.offscreen"),F=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var $=Object.assign,E;function O(t){if(E===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+t}var q=!1;function te(t,n){if(!t||q)return"";q=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(j){var u=j}Reflect.construct(t,[],n)}else{try{n.call()}catch(j){u=j}t.call(n.prototype)}else{try{throw Error()}catch(j){u=j}t()}}catch(j){if(j&&u&&typeof j.stack=="string"){for(var f=j.stack.split(`
`),h=u.stack.split(`
`),m=f.length-1,b=h.length-1;1<=m&&0<=b&&f[m]!==h[b];)b--;for(;1<=m&&0<=b;m--,b--)if(f[m]!==h[b]){if(m!==1||b!==1)do if(m--,b--,0>b||f[m]!==h[b]){var P=`
`+f[m].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=m&&0<=b);break}}}finally{q=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?O(t):""}function ce(t){switch(t.tag){case 5:return O(t.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return t=te(t.type,!1),t;case 11:return t=te(t.type.render,!1),t;case 1:return t=te(t.type,!0),t;default:return""}}function fe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Z:return"Fragment";case me:return"Portal";case ke:return"Profiler";case Y:return"StrictMode";case Oe:return"Suspense";case Fe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X:return(t.displayName||"Context")+".Consumer";case be:return(t._context.displayName||"Context")+".Provider";case Ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Me:return n=t.displayName||null,n!==null?n:fe(t.type)||"Memo";case ie:n=t._payload,t=t._init;try{return fe(t(n))}catch{}}return null}function Ne(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(n);case 8:return n===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ze(t){var n=Be(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(m){u=""+m,h.call(this,m)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function cr(t){t._valueTracker||(t._valueTracker=Ze(t))}function Q(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),u="";return t&&(u=Be(t)?t.checked?"true":"false":t.value),t=u,t!==a?(n.setValue(t),!0):!1}function ae(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Re(t,n){var a=n.checked;return $({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function xe(t,n){var a=n.defaultValue==null?"":n.defaultValue,u=n.checked!=null?n.checked:n.defaultChecked;a=Le(n.value!=null?n.value:a),t._wrapperState={initialChecked:u,initialValue:a,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function tt(t,n){n=n.checked,n!=null&&D(t,"checked",n,!1)}function De(t,n){tt(t,n);var a=Le(n.value),u=n.type;if(a!=null)u==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?Xe(t,n.type,a):n.hasOwnProperty("defaultValue")&&Xe(t,n.type,Le(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Ge(t,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var u=n.type;if(!(u!=="submit"&&u!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,a||n===t.value||(t.value=n),t.defaultValue=n}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Xe(t,n,a){(n!=="number"||ae(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var qt=Array.isArray;function dr(t,n,a,u){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&u&&(t[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Nt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return $({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nn(t,n){var a=n.value;if(a==null){if(a=n.children,n=n.defaultValue,a!=null){if(n!=null)throw Error(r(92));if(qt(a)){if(1<a.length)throw Error(r(93));a=a[0]}n=a}n==null&&(n=""),a=n}t._wrapperState={initialValue:Le(a)}}function Oo(t,n){var a=Le(n.value),u=Le(n.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),n.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),u!=null&&(t.defaultValue=""+u)}function ei(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Gi(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ar(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Gi(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var It,jo=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,a,u,f){MSApp.execUnsafeLocalFunction(function(){return t(n,a,u,f)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=It.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function In(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o_=["Webkit","ms","Moz","O"];Object.keys(Zi).forEach(function(t){o_.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Zi[n]=Zi[t]})});function rf(t,n,a){return n==null||typeof n=="boolean"||n===""?"":a||typeof n!="number"||n===0||Zi.hasOwnProperty(t)&&Zi[t]?(""+n).trim():n+"px"}function nf(t,n){t=t.style;for(var a in n)if(n.hasOwnProperty(a)){var u=a.indexOf("--")===0,f=rf(a,n[a],u);a==="float"&&(a="cssFloat"),u?t.setProperty(a,f):t[a]=f}}var a_=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,n){if(n){if(a_[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function $l(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Dl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,ti=null,ri=null;function sf(t){if(t=gs(t)){if(typeof Ul!="function")throw Error(r(280));var n=t.stateNode;n&&(n=ra(n),Ul(t.stateNode,t.type,n))}}function of(t){ti?ri?ri.push(t):ri=[t]:ti=t}function af(){if(ti){var t=ti,n=ri;if(ri=ti=null,sf(t),n)for(t=0;t<n.length;t++)sf(n[t])}}function lf(t,n){return t(n)}function uf(){}var Bl=!1;function cf(t,n,a){if(Bl)return t(n,a);Bl=!0;try{return lf(t,n,a)}finally{Bl=!1,(ti!==null||ri!==null)&&(uf(),af())}}function qi(t,n){var a=t.stateNode;if(a===null)return null;var u=ra(a);if(u===null)return null;a=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Vl=!1;if(d)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Vl=!1}function l_(t,n,a,u,f,h,m,b,P){var j=Array.prototype.slice.call(arguments,3);try{n.apply(a,j)}catch(B){this.onError(B)}}var Qi=!1,Mo=null,Ao=!1,Hl=null,u_={onError:function(t){Qi=!0,Mo=t}};function c_(t,n,a,u,f,h,m,b,P){Qi=!1,Mo=null,l_.apply(u_,arguments)}function d_(t,n,a,u,f,h,m,b,P){if(c_.apply(this,arguments),Qi){if(Qi){var j=Mo;Qi=!1,Mo=null}else throw Error(r(198));Ao||(Ao=!0,Hl=j)}}function On(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function df(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function ff(t){if(On(t)!==t)throw Error(r(188))}function f_(t){var n=t.alternate;if(!n){if(n=On(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,u=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(u=f.return,u!==null){a=u;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return ff(f),t;if(h===u)return ff(f),n;h=h.sibling}throw Error(r(188))}if(a.return!==u.return)a=f,u=h;else{for(var m=!1,b=f.child;b;){if(b===a){m=!0,a=f,u=h;break}if(b===u){m=!0,u=f,a=h;break}b=b.sibling}if(!m){for(b=h.child;b;){if(b===a){m=!0,a=h,u=f;break}if(b===u){m=!0,u=h,a=f;break}b=b.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==u)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function hf(t){return t=f_(t),t!==null?pf(t):null}function pf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=pf(t);if(n!==null)return n;t=t.sibling}return null}var gf=e.unstable_scheduleCallback,vf=e.unstable_cancelCallback,h_=e.unstable_shouldYield,p_=e.unstable_requestPaint,at=e.unstable_now,g_=e.unstable_getCurrentPriorityLevel,Wl=e.unstable_ImmediatePriority,mf=e.unstable_UserBlockingPriority,Fo=e.unstable_NormalPriority,v_=e.unstable_LowPriority,_f=e.unstable_IdlePriority,Lo=null,Er=null;function m_(t){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Lo,t,void 0,(t.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:w_,__=Math.log,y_=Math.LN2;function w_(t){return t>>>=0,t===0?32:31-(__(t)/y_|0)|0}var $o=64,zo=4194304;function Xi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Do(t,n){var a=t.pendingLanes;if(a===0)return 0;var u=0,f=t.suspendedLanes,h=t.pingedLanes,m=a&268435455;if(m!==0){var b=m&~f;b!==0?u=Xi(b):(h&=m,h!==0&&(u=Xi(h)))}else m=a&~f,m!==0?u=Xi(m):h!==0&&(u=Xi(h));if(u===0)return 0;if(n!==0&&n!==u&&(n&f)===0&&(f=u&-u,h=n&-n,f>=h||f===16&&(h&4194240)!==0))return n;if((u&4)!==0&&(u|=a&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=u;0<n;)a=31-fr(n),f=1<<a,u|=t[a],n&=~f;return u}function x_(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k_(t,n){for(var a=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes;0<h;){var m=31-fr(h),b=1<<m,P=f[m];P===-1?((b&a)===0||(b&u)!==0)&&(f[m]=x_(b,n)):P<=n&&(t.expiredLanes|=b),h&=~b}}function Gl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yf(){var t=$o;return $o<<=1,($o&4194240)===0&&($o=64),t}function Zl(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ki(t,n,a){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-fr(n),t[n]=a}function b_(t,n){var a=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<a;){var f=31-fr(a),h=1<<f;n[f]=0,u[f]=-1,t[f]=-1,a&=~h}}function ql(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var u=31-fr(a),f=1<<u;f&n|t[u]&n&&(t[u]|=n),a&=~f}}var We=0;function wf(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var xf,Yl,kf,bf,Sf,Ql=!1,Uo=[],en=null,tn=null,rn=null,Ji=new Map,es=new Map,nn=[],S_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ef(t,n){switch(t){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":tn=null;break;case"mouseover":case"mouseout":rn=null;break;case"pointerover":case"pointerout":Ji.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(n.pointerId)}}function ts(t,n,a,u,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:u,nativeEvent:h,targetContainers:[f]},n!==null&&(n=gs(n),n!==null&&Yl(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function E_(t,n,a,u,f){switch(n){case"focusin":return en=ts(en,t,n,a,u,f),!0;case"dragenter":return tn=ts(tn,t,n,a,u,f),!0;case"mouseover":return rn=ts(rn,t,n,a,u,f),!0;case"pointerover":var h=f.pointerId;return Ji.set(h,ts(Ji.get(h)||null,t,n,a,u,f)),!0;case"gotpointercapture":return h=f.pointerId,es.set(h,ts(es.get(h)||null,t,n,a,u,f)),!0}return!1}function Cf(t){var n=jn(t.target);if(n!==null){var a=On(n);if(a!==null){if(n=a.tag,n===13){if(n=df(a),n!==null){t.blockedOn=n,Sf(t.priority,function(){kf(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Kl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var u=new a.constructor(a.type,a);zl=u,a.target.dispatchEvent(u),zl=null}else return n=gs(a),n!==null&&Yl(n),t.blockedOn=a,!1;n.shift()}return!0}function Pf(t,n,a){Bo(t)&&a.delete(n)}function C_(){Ql=!1,en!==null&&Bo(en)&&(en=null),tn!==null&&Bo(tn)&&(tn=null),rn!==null&&Bo(rn)&&(rn=null),Ji.forEach(Pf),es.forEach(Pf)}function rs(t,n){t.blockedOn===n&&(t.blockedOn=null,Ql||(Ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,C_)))}function ns(t){function n(f){return rs(f,t)}if(0<Uo.length){rs(Uo[0],t);for(var a=1;a<Uo.length;a++){var u=Uo[a];u.blockedOn===t&&(u.blockedOn=null)}}for(en!==null&&rs(en,t),tn!==null&&rs(tn,t),rn!==null&&rs(rn,t),Ji.forEach(n),es.forEach(n),a=0;a<nn.length;a++)u=nn[a],u.blockedOn===t&&(u.blockedOn=null);for(;0<nn.length&&(a=nn[0],a.blockedOn===null);)Cf(a),a.blockedOn===null&&nn.shift()}var ni=V.ReactCurrentBatchConfig,Vo=!0;function P_(t,n,a,u){var f=We,h=ni.transition;ni.transition=null;try{We=1,Xl(t,n,a,u)}finally{We=f,ni.transition=h}}function T_(t,n,a,u){var f=We,h=ni.transition;ni.transition=null;try{We=4,Xl(t,n,a,u)}finally{We=f,ni.transition=h}}function Xl(t,n,a,u){if(Vo){var f=Kl(t,n,a,u);if(f===null)gu(t,n,u,Ho,a),Ef(t,u);else if(E_(f,t,n,a,u))u.stopPropagation();else if(Ef(t,u),n&4&&-1<S_.indexOf(t)){for(;f!==null;){var h=gs(f);if(h!==null&&xf(h),h=Kl(t,n,a,u),h===null&&gu(t,n,u,Ho,a),h===f)break;f=h}f!==null&&u.stopPropagation()}else gu(t,n,u,null,a)}}var Ho=null;function Kl(t,n,a,u){if(Ho=null,t=Dl(u),t=jn(t),t!==null)if(n=On(t),n===null)t=null;else if(a=n.tag,a===13){if(t=df(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Ho=t,null}function Tf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Wl:return 1;case mf:return 4;case Fo:case v_:return 16;case _f:return 536870912;default:return 16}default:return 16}}var sn=null,Jl=null,Wo=null;function Rf(){if(Wo)return Wo;var t,n=Jl,a=n.length,u,f="value"in sn?sn.value:sn.textContent,h=f.length;for(t=0;t<a&&n[t]===f[t];t++);var m=a-t;for(u=1;u<=m&&n[a-u]===f[h-u];u++);return Wo=f.slice(t,1<u?1-u:void 0)}function Go(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zo(){return!0}function Nf(){return!1}function Yt(t){function n(a,u,f,h,m){this._reactName=a,this._targetInst=f,this.type=u,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zo:Nf,this.isPropagationStopped=Nf,this}return $(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),n}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eu=Yt(ii),is=$({},ii,{view:0,detail:0}),R_=Yt(is),tu,ru,ss,qo=$({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ss&&(ss&&t.type==="mousemove"?(tu=t.screenX-ss.screenX,ru=t.screenY-ss.screenY):ru=tu=0,ss=t),tu)},movementY:function(t){return"movementY"in t?t.movementY:ru}}),If=Yt(qo),N_=$({},qo,{dataTransfer:0}),I_=Yt(N_),O_=$({},is,{relatedTarget:0}),nu=Yt(O_),j_=$({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),M_=Yt(j_),A_=$({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F_=Yt(A_),L_=$({},ii,{data:0}),Of=Yt(L_),$_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=D_[t])?!!n[t]:!1}function iu(){return U_}var B_=$({},is,{key:function(t){if(t.key){var n=$_[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?z_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(t){return t.type==="keypress"?Go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),V_=Yt(B_),H_=$({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jf=Yt(H_),W_=$({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),G_=Yt(W_),Z_=$({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),q_=Yt(Z_),Y_=$({},qo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q_=Yt(Y_),X_=[9,13,27,32],su=d&&"CompositionEvent"in window,os=null;d&&"documentMode"in document&&(os=document.documentMode);var K_=d&&"TextEvent"in window&&!os,Mf=d&&(!su||os&&8<os&&11>=os),Af=" ",Ff=!1;function Lf(t,n){switch(t){case"keyup":return X_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function J_(t,n){switch(t){case"compositionend":return $f(n);case"keypress":return n.which!==32?null:(Ff=!0,Af);case"textInput":return t=n.data,t===Af&&Ff?null:t;default:return null}}function e0(t,n){if(si)return t==="compositionend"||!su&&Lf(t,n)?(t=Rf(),Wo=Jl=sn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mf&&n.locale!=="ko"?null:n.data;default:return null}}var t0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!t0[t.type]:n==="textarea"}function Df(t,n,a,u){of(u),n=Jo(n,"onChange"),0<n.length&&(a=new eu("onChange","change",null,a,u),t.push({event:a,listeners:n}))}var as=null,ls=null;function r0(t){ih(t,0)}function Yo(t){var n=ci(t);if(Q(n))return t}function n0(t,n){if(t==="change")return n}var Uf=!1;if(d){var ou;if(d){var au="oninput"in document;if(!au){var Bf=document.createElement("div");Bf.setAttribute("oninput","return;"),au=typeof Bf.oninput=="function"}ou=au}else ou=!1;Uf=ou&&(!document.documentMode||9<document.documentMode)}function Vf(){as&&(as.detachEvent("onpropertychange",Hf),ls=as=null)}function Hf(t){if(t.propertyName==="value"&&Yo(ls)){var n=[];Df(n,ls,t,Dl(t)),cf(r0,n)}}function i0(t,n,a){t==="focusin"?(Vf(),as=n,ls=a,as.attachEvent("onpropertychange",Hf)):t==="focusout"&&Vf()}function s0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yo(ls)}function o0(t,n){if(t==="click")return Yo(n)}function a0(t,n){if(t==="input"||t==="change")return Yo(n)}function l0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hr=typeof Object.is=="function"?Object.is:l0;function us(t,n){if(hr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),u=Object.keys(n);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var f=a[u];if(!p.call(n,f)||!hr(t[f],n[f]))return!1}return!0}function Wf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gf(t,n){var a=Wf(t);t=0;for(var u;a;){if(a.nodeType===3){if(u=t+a.textContent.length,t<=n&&u>=n)return{node:a,offset:n-t};t=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wf(a)}}function Zf(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zf(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qf(){for(var t=window,n=ae();n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ae(t.document)}return n}function lu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function u0(t){var n=qf(),a=t.focusedElem,u=t.selectionRange;if(n!==a&&a&&a.ownerDocument&&Zf(a.ownerDocument.documentElement,a)){if(u!==null&&lu(a)){if(n=u.start,t=u.end,t===void 0&&(t=n),"selectionStart"in a)a.selectionStart=n,a.selectionEnd=Math.min(t,a.value.length);else if(t=(n=a.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var f=a.textContent.length,h=Math.min(u.start,f);u=u.end===void 0?h:Math.min(u.end,f),!t.extend&&h>u&&(f=u,u=h,h=f),f=Gf(a,h);var m=Gf(a,u);f&&m&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),t.removeAllRanges(),h>u?(t.addRange(n),t.extend(m.node,m.offset)):(n.setEnd(m.node,m.offset),t.addRange(n)))}}for(n=[],t=a;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<n.length;a++)t=n[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var c0=d&&"documentMode"in document&&11>=document.documentMode,oi=null,uu=null,cs=null,cu=!1;function Yf(t,n,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cu||oi==null||oi!==ae(u)||(u=oi,"selectionStart"in u&&lu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cs&&us(cs,u)||(cs=u,u=Jo(uu,"onSelect"),0<u.length&&(n=new eu("onSelect","select",null,n,a),t.push({event:n,listeners:u}),n.target=oi)))}function Qo(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ai={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},du={},Qf={};d&&(Qf=document.createElement("div").style,"AnimationEvent"in window||(delete ai.animationend.animation,delete ai.animationiteration.animation,delete ai.animationstart.animation),"TransitionEvent"in window||delete ai.transitionend.transition);function Xo(t){if(du[t])return du[t];if(!ai[t])return t;var n=ai[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Qf)return du[t]=n[a];return t}var Xf=Xo("animationend"),Kf=Xo("animationiteration"),Jf=Xo("animationstart"),eh=Xo("transitionend"),th=new Map,rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(t,n){th.set(t,n),l(n,[t])}for(var fu=0;fu<rh.length;fu++){var hu=rh[fu],d0=hu.toLowerCase(),f0=hu[0].toUpperCase()+hu.slice(1);on(d0,"on"+f0)}on(Xf,"onAnimationEnd"),on(Kf,"onAnimationIteration"),on(Jf,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(eh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function nh(t,n,a){var u=t.type||"unknown-event";t.currentTarget=a,d_(u,n,void 0,t),t.currentTarget=null}function ih(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var u=t[a],f=u.event;u=u.listeners;e:{var h=void 0;if(n)for(var m=u.length-1;0<=m;m--){var b=u[m],P=b.instance,j=b.currentTarget;if(b=b.listener,P!==h&&f.isPropagationStopped())break e;nh(f,b,j),h=P}else for(m=0;m<u.length;m++){if(b=u[m],P=b.instance,j=b.currentTarget,b=b.listener,P!==h&&f.isPropagationStopped())break e;nh(f,b,j),h=P}}}if(Ao)throw t=Hl,Ao=!1,Hl=null,t}function Ke(t,n){var a=n[xu];a===void 0&&(a=n[xu]=new Set);var u=t+"__bubble";a.has(u)||(sh(n,t,2,!1),a.add(u))}function pu(t,n,a){var u=0;n&&(u|=4),sh(a,t,u,n)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function fs(t){if(!t[Ko]){t[Ko]=!0,i.forEach(function(a){a!=="selectionchange"&&(h0.has(a)||pu(a,!1,t),pu(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ko]||(n[Ko]=!0,pu("selectionchange",!1,n))}}function sh(t,n,a,u){switch(Tf(n)){case 1:var f=P_;break;case 4:f=T_;break;default:f=Xl}a=f.bind(null,n,a,t),f=void 0,!Vl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function gu(t,n,a,u,f){var h=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var b=u.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(m===4)for(m=u.return;m!==null;){var P=m.tag;if((P===3||P===4)&&(P=m.stateNode.containerInfo,P===f||P.nodeType===8&&P.parentNode===f))return;m=m.return}for(;b!==null;){if(m=jn(b),m===null)return;if(P=m.tag,P===5||P===6){u=h=m;continue e}b=b.parentNode}}u=u.return}cf(function(){var j=h,B=Dl(a),H=[];e:{var U=th.get(t);if(U!==void 0){var se=eu,de=t;switch(t){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":se=V_;break;case"focusin":de="focus",se=nu;break;case"focusout":de="blur",se=nu;break;case"beforeblur":case"afterblur":se=nu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=I_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=G_;break;case Xf:case Kf:case Jf:se=M_;break;case eh:se=q_;break;case"scroll":se=R_;break;case"wheel":se=Q_;break;case"copy":case"cut":case"paste":se=F_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=jf}var he=(n&4)!==0,lt=!he&&t==="scroll",N=he?U!==null?U+"Capture":null:U;he=[];for(var T=j,I;T!==null;){I=T;var G=I.stateNode;if(I.tag===5&&G!==null&&(I=G,N!==null&&(G=qi(T,N),G!=null&&he.push(hs(T,G,I)))),lt)break;T=T.return}0<he.length&&(U=new se(U,de,null,a,B),H.push({event:U,listeners:he}))}}if((n&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",U&&a!==zl&&(de=a.relatedTarget||a.fromElement)&&(jn(de)||de[Fr]))break e;if((se||U)&&(U=B.window===B?B:(U=B.ownerDocument)?U.defaultView||U.parentWindow:window,se?(de=a.relatedTarget||a.toElement,se=j,de=de?jn(de):null,de!==null&&(lt=On(de),de!==lt||de.tag!==5&&de.tag!==6)&&(de=null)):(se=null,de=j),se!==de)){if(he=If,G="onMouseLeave",N="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(he=jf,G="onPointerLeave",N="onPointerEnter",T="pointer"),lt=se==null?U:ci(se),I=de==null?U:ci(de),U=new he(G,T+"leave",se,a,B),U.target=lt,U.relatedTarget=I,G=null,jn(B)===j&&(he=new he(N,T+"enter",de,a,B),he.target=I,he.relatedTarget=lt,G=he),lt=G,se&&de)t:{for(he=se,N=de,T=0,I=he;I;I=li(I))T++;for(I=0,G=N;G;G=li(G))I++;for(;0<T-I;)he=li(he),T--;for(;0<I-T;)N=li(N),I--;for(;T--;){if(he===N||N!==null&&he===N.alternate)break t;he=li(he),N=li(N)}he=null}else he=null;se!==null&&oh(H,U,se,he,!1),de!==null&&lt!==null&&oh(H,lt,de,he,!0)}}e:{if(U=j?ci(j):window,se=U.nodeName&&U.nodeName.toLowerCase(),se==="select"||se==="input"&&U.type==="file")var pe=n0;else if(zf(U))if(Uf)pe=a0;else{pe=s0;var ye=i0}else(se=U.nodeName)&&se.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(pe=o0);if(pe&&(pe=pe(t,j))){Df(H,pe,a,B);break e}ye&&ye(t,U,j),t==="focusout"&&(ye=U._wrapperState)&&ye.controlled&&U.type==="number"&&Xe(U,"number",U.value)}switch(ye=j?ci(j):window,t){case"focusin":(zf(ye)||ye.contentEditable==="true")&&(oi=ye,uu=j,cs=null);break;case"focusout":cs=uu=oi=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Yf(H,a,B);break;case"selectionchange":if(c0)break;case"keydown":case"keyup":Yf(H,a,B)}var we;if(su)e:{switch(t){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else si?Lf(t,a)&&(Ce="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ce="onCompositionStart");Ce&&(Mf&&a.locale!=="ko"&&(si||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&si&&(we=Rf()):(sn=B,Jl="value"in sn?sn.value:sn.textContent,si=!0)),ye=Jo(j,Ce),0<ye.length&&(Ce=new Of(Ce,t,null,a,B),H.push({event:Ce,listeners:ye}),we?Ce.data=we:(we=$f(a),we!==null&&(Ce.data=we)))),(we=K_?J_(t,a):e0(t,a))&&(j=Jo(j,"onBeforeInput"),0<j.length&&(B=new Of("onBeforeInput","beforeinput",null,a,B),H.push({event:B,listeners:j}),B.data=we))}ih(H,n)})}function hs(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Jo(t,n){for(var a=n+"Capture",u=[];t!==null;){var f=t,h=f.stateNode;f.tag===5&&h!==null&&(f=h,h=qi(t,a),h!=null&&u.unshift(hs(t,h,f)),h=qi(t,n),h!=null&&u.push(hs(t,h,f))),t=t.return}return u}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oh(t,n,a,u,f){for(var h=n._reactName,m=[];a!==null&&a!==u;){var b=a,P=b.alternate,j=b.stateNode;if(P!==null&&P===u)break;b.tag===5&&j!==null&&(b=j,f?(P=qi(a,h),P!=null&&m.unshift(hs(a,P,b))):f||(P=qi(a,h),P!=null&&m.push(hs(a,P,b)))),a=a.return}m.length!==0&&t.push({event:n,listeners:m})}var p0=/\r\n?/g,g0=/\u0000|\uFFFD/g;function ah(t){return(typeof t=="string"?t:""+t).replace(p0,`
`).replace(g0,"")}function ea(t,n,a){if(n=ah(n),ah(t)!==n&&a)throw Error(r(425))}function ta(){}var vu=null,mu=null;function _u(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yu=typeof setTimeout=="function"?setTimeout:void 0,v0=typeof clearTimeout=="function"?clearTimeout:void 0,lh=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof lh<"u"?function(t){return lh.resolve(null).then(t).catch(_0)}:yu;function _0(t){setTimeout(function(){throw t})}function wu(t,n){var a=n,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(u===0){t.removeChild(f),ns(n);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=f}while(a);ns(n)}function an(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function uh(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),Cr="__reactFiber$"+ui,ps="__reactProps$"+ui,Fr="__reactContainer$"+ui,xu="__reactEvents$"+ui,y0="__reactListeners$"+ui,w0="__reactHandles$"+ui;function jn(t){var n=t[Cr];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Fr]||a[Cr]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=uh(t);t!==null;){if(a=t[Cr])return a;t=uh(t)}return n}t=a,a=t.parentNode}return null}function gs(t){return t=t[Cr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function ra(t){return t[ps]||null}var ku=[],di=-1;function ln(t){return{current:t}}function Je(t){0>di||(t.current=ku[di],ku[di]=null,di--)}function qe(t,n){di++,ku[di]=t.current,t.current=n}var un={},Et=ln(un),$t=ln(!1),Mn=un;function fi(t,n){var a=t.type.contextTypes;if(!a)return un;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===n)return u.__reactInternalMemoizedMaskedChildContext;var f={},h;for(h in a)f[h]=n[h];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=f),f}function zt(t){return t=t.childContextTypes,t!=null}function na(){Je($t),Je(Et)}function ch(t,n,a){if(Et.current!==un)throw Error(r(168));qe(Et,n),qe($t,a)}function dh(t,n,a){var u=t.stateNode;if(n=n.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var f in u)if(!(f in n))throw Error(r(108,Ne(t)||"Unknown",f));return $({},a,u)}function ia(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||un,Mn=Et.current,qe(Et,t),qe($t,$t.current),!0}function fh(t,n,a){var u=t.stateNode;if(!u)throw Error(r(169));a?(t=dh(t,n,Mn),u.__reactInternalMemoizedMergedChildContext=t,Je($t),Je(Et),qe(Et,t)):Je($t),qe($t,a)}var Lr=null,sa=!1,bu=!1;function hh(t){Lr===null?Lr=[t]:Lr.push(t)}function x0(t){sa=!0,hh(t)}function cn(){if(!bu&&Lr!==null){bu=!0;var t=0,n=We;try{var a=Lr;for(We=1;t<a.length;t++){var u=a[t];do u=u(!0);while(u!==null)}Lr=null,sa=!1}catch(f){throw Lr!==null&&(Lr=Lr.slice(t+1)),gf(Wl,cn),f}finally{We=n,bu=!1}}return null}var hi=[],pi=0,oa=null,aa=0,tr=[],rr=0,An=null,$r=1,zr="";function Fn(t,n){hi[pi++]=aa,hi[pi++]=oa,oa=t,aa=n}function ph(t,n,a){tr[rr++]=$r,tr[rr++]=zr,tr[rr++]=An,An=t;var u=$r;t=zr;var f=32-fr(u)-1;u&=~(1<<f),a+=1;var h=32-fr(n)+f;if(30<h){var m=f-f%5;h=(u&(1<<m)-1).toString(32),u>>=m,f-=m,$r=1<<32-fr(n)+f|a<<f|u,zr=h+t}else $r=1<<h|a<<f|u,zr=t}function Su(t){t.return!==null&&(Fn(t,1),ph(t,1,0))}function Eu(t){for(;t===oa;)oa=hi[--pi],hi[pi]=null,aa=hi[--pi],hi[pi]=null;for(;t===An;)An=tr[--rr],tr[rr]=null,zr=tr[--rr],tr[rr]=null,$r=tr[--rr],tr[rr]=null}var Qt=null,Xt=null,rt=!1,pr=null;function gh(t,n){var a=or(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=t,n=t.deletions,n===null?(t.deletions=[a],t.flags|=16):n.push(a)}function vh(t,n){switch(t.tag){case 5:var a=t.type;return n=n.nodeType!==1||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Qt=t,Xt=an(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Qt=t,Xt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(a=An!==null?{id:$r,overflow:zr}:null,t.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=or(18,null,null,0),a.stateNode=n,a.return=t,t.child=a,Qt=t,Xt=null,!0):!1;default:return!1}}function Cu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Pu(t){if(rt){var n=Xt;if(n){var a=n;if(!vh(t,n)){if(Cu(t))throw Error(r(418));n=an(a.nextSibling);var u=Qt;n&&vh(t,n)?gh(u,a):(t.flags=t.flags&-4097|2,rt=!1,Qt=t)}}else{if(Cu(t))throw Error(r(418));t.flags=t.flags&-4097|2,rt=!1,Qt=t}}}function mh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qt=t}function la(t){if(t!==Qt)return!1;if(!rt)return mh(t),rt=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!_u(t.type,t.memoizedProps)),n&&(n=Xt)){if(Cu(t))throw _h(),Error(r(418));for(;n;)gh(t,n),n=an(n.nextSibling)}if(mh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(n===0){Xt=an(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++}t=t.nextSibling}Xt=null}}else Xt=Qt?an(t.stateNode.nextSibling):null;return!0}function _h(){for(var t=Xt;t;)t=an(t.nextSibling)}function gi(){Xt=Qt=null,rt=!1}function Tu(t){pr===null?pr=[t]:pr.push(t)}var k0=V.ReactCurrentBatchConfig;function vs(t,n,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(r(309));var u=a.stateNode}if(!u)throw Error(r(147,t));var f=u,h=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(m){var b=f.refs;m===null?delete b[h]:b[h]=m},n._stringRef=h,n)}if(typeof t!="string")throw Error(r(284));if(!a._owner)throw Error(r(290,t))}return t}function ua(t,n){throw t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function yh(t){var n=t._init;return n(t._payload)}function wh(t){function n(N,T){if(t){var I=N.deletions;I===null?(N.deletions=[T],N.flags|=16):I.push(T)}}function a(N,T){if(!t)return null;for(;T!==null;)n(N,T),T=T.sibling;return null}function u(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function f(N,T){return N=_n(N,T),N.index=0,N.sibling=null,N}function h(N,T,I){return N.index=I,t?(I=N.alternate,I!==null?(I=I.index,I<T?(N.flags|=2,T):I):(N.flags|=2,T)):(N.flags|=1048576,T)}function m(N){return t&&N.alternate===null&&(N.flags|=2),N}function b(N,T,I,G){return T===null||T.tag!==6?(T=yc(I,N.mode,G),T.return=N,T):(T=f(T,I),T.return=N,T)}function P(N,T,I,G){var pe=I.type;return pe===Z?B(N,T,I.props.children,G,I.key):T!==null&&(T.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&yh(pe)===T.type)?(G=f(T,I.props),G.ref=vs(N,T,I),G.return=N,G):(G=ja(I.type,I.key,I.props,null,N.mode,G),G.ref=vs(N,T,I),G.return=N,G)}function j(N,T,I,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==I.containerInfo||T.stateNode.implementation!==I.implementation?(T=wc(I,N.mode,G),T.return=N,T):(T=f(T,I.children||[]),T.return=N,T)}function B(N,T,I,G,pe){return T===null||T.tag!==7?(T=Hn(I,N.mode,G,pe),T.return=N,T):(T=f(T,I),T.return=N,T)}function H(N,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return T=yc(""+T,N.mode,I),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case J:return I=ja(T.type,T.key,T.props,null,N.mode,I),I.ref=vs(N,null,T),I.return=N,I;case me:return T=wc(T,N.mode,I),T.return=N,T;case ie:var G=T._init;return H(N,G(T._payload),I)}if(qt(T)||A(T))return T=Hn(T,N.mode,I,null),T.return=N,T;ua(N,T)}return null}function U(N,T,I,G){var pe=T!==null?T.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return pe!==null?null:b(N,T,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case J:return I.key===pe?P(N,T,I,G):null;case me:return I.key===pe?j(N,T,I,G):null;case ie:return pe=I._init,U(N,T,pe(I._payload),G)}if(qt(I)||A(I))return pe!==null?null:B(N,T,I,G,null);ua(N,I)}return null}function se(N,T,I,G,pe){if(typeof G=="string"&&G!==""||typeof G=="number")return N=N.get(I)||null,b(T,N,""+G,pe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case J:return N=N.get(G.key===null?I:G.key)||null,P(T,N,G,pe);case me:return N=N.get(G.key===null?I:G.key)||null,j(T,N,G,pe);case ie:var ye=G._init;return se(N,T,I,ye(G._payload),pe)}if(qt(G)||A(G))return N=N.get(I)||null,B(T,N,G,pe,null);ua(T,G)}return null}function de(N,T,I,G){for(var pe=null,ye=null,we=T,Ce=T=0,_t=null;we!==null&&Ce<I.length;Ce++){we.index>Ce?(_t=we,we=null):_t=we.sibling;var Ue=U(N,we,I[Ce],G);if(Ue===null){we===null&&(we=_t);break}t&&we&&Ue.alternate===null&&n(N,we),T=h(Ue,T,Ce),ye===null?pe=Ue:ye.sibling=Ue,ye=Ue,we=_t}if(Ce===I.length)return a(N,we),rt&&Fn(N,Ce),pe;if(we===null){for(;Ce<I.length;Ce++)we=H(N,I[Ce],G),we!==null&&(T=h(we,T,Ce),ye===null?pe=we:ye.sibling=we,ye=we);return rt&&Fn(N,Ce),pe}for(we=u(N,we);Ce<I.length;Ce++)_t=se(we,N,Ce,I[Ce],G),_t!==null&&(t&&_t.alternate!==null&&we.delete(_t.key===null?Ce:_t.key),T=h(_t,T,Ce),ye===null?pe=_t:ye.sibling=_t,ye=_t);return t&&we.forEach(function(yn){return n(N,yn)}),rt&&Fn(N,Ce),pe}function he(N,T,I,G){var pe=A(I);if(typeof pe!="function")throw Error(r(150));if(I=pe.call(I),I==null)throw Error(r(151));for(var ye=pe=null,we=T,Ce=T=0,_t=null,Ue=I.next();we!==null&&!Ue.done;Ce++,Ue=I.next()){we.index>Ce?(_t=we,we=null):_t=we.sibling;var yn=U(N,we,Ue.value,G);if(yn===null){we===null&&(we=_t);break}t&&we&&yn.alternate===null&&n(N,we),T=h(yn,T,Ce),ye===null?pe=yn:ye.sibling=yn,ye=yn,we=_t}if(Ue.done)return a(N,we),rt&&Fn(N,Ce),pe;if(we===null){for(;!Ue.done;Ce++,Ue=I.next())Ue=H(N,Ue.value,G),Ue!==null&&(T=h(Ue,T,Ce),ye===null?pe=Ue:ye.sibling=Ue,ye=Ue);return rt&&Fn(N,Ce),pe}for(we=u(N,we);!Ue.done;Ce++,Ue=I.next())Ue=se(we,N,Ce,Ue.value,G),Ue!==null&&(t&&Ue.alternate!==null&&we.delete(Ue.key===null?Ce:Ue.key),T=h(Ue,T,Ce),ye===null?pe=Ue:ye.sibling=Ue,ye=Ue);return t&&we.forEach(function(ty){return n(N,ty)}),rt&&Fn(N,Ce),pe}function lt(N,T,I,G){if(typeof I=="object"&&I!==null&&I.type===Z&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case J:e:{for(var pe=I.key,ye=T;ye!==null;){if(ye.key===pe){if(pe=I.type,pe===Z){if(ye.tag===7){a(N,ye.sibling),T=f(ye,I.props.children),T.return=N,N=T;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ie&&yh(pe)===ye.type){a(N,ye.sibling),T=f(ye,I.props),T.ref=vs(N,ye,I),T.return=N,N=T;break e}a(N,ye);break}else n(N,ye);ye=ye.sibling}I.type===Z?(T=Hn(I.props.children,N.mode,G,I.key),T.return=N,N=T):(G=ja(I.type,I.key,I.props,null,N.mode,G),G.ref=vs(N,T,I),G.return=N,N=G)}return m(N);case me:e:{for(ye=I.key;T!==null;){if(T.key===ye)if(T.tag===4&&T.stateNode.containerInfo===I.containerInfo&&T.stateNode.implementation===I.implementation){a(N,T.sibling),T=f(T,I.children||[]),T.return=N,N=T;break e}else{a(N,T);break}else n(N,T);T=T.sibling}T=wc(I,N.mode,G),T.return=N,N=T}return m(N);case ie:return ye=I._init,lt(N,T,ye(I._payload),G)}if(qt(I))return de(N,T,I,G);if(A(I))return he(N,T,I,G);ua(N,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,T!==null&&T.tag===6?(a(N,T.sibling),T=f(T,I),T.return=N,N=T):(a(N,T),T=yc(I,N.mode,G),T.return=N,N=T),m(N)):a(N,T)}return lt}var vi=wh(!0),xh=wh(!1),ca=ln(null),da=null,mi=null,Ru=null;function Nu(){Ru=mi=da=null}function Iu(t){var n=ca.current;Je(ca),t._currentValue=n}function Ou(t,n,a){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===a)break;t=t.return}}function _i(t,n){da=t,Ru=mi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(Dt=!0),t.firstContext=null)}function nr(t){var n=t._currentValue;if(Ru!==t)if(t={context:t,memoizedValue:n,next:null},mi===null){if(da===null)throw Error(r(308));mi=t,da.dependencies={lanes:0,firstContext:t}}else mi=mi.next=t;return n}var Ln=null;function ju(t){Ln===null?Ln=[t]:Ln.push(t)}function kh(t,n,a,u){var f=n.interleaved;return f===null?(a.next=a,ju(n)):(a.next=f.next,f.next=a),n.interleaved=a,Dr(t,u)}function Dr(t,n){t.lanes|=n;var a=t.alternate;for(a!==null&&(a.lanes|=n),a=t,t=t.return;t!==null;)t.childLanes|=n,a=t.alternate,a!==null&&(a.childLanes|=n),a=t,t=t.return;return a.tag===3?a.stateNode:null}var dn=!1;function Mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ur(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function fn(t,n,a){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(ze&2)!==0){var f=u.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),u.pending=n,Dr(t,a)}return f=u.interleaved,f===null?(n.next=n,ju(u)):(n.next=f.next,f.next=n),u.interleaved=n,Dr(t,a)}function fa(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,ql(t,a)}}function Sh(t,n){var a=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var m={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};h===null?f=h=m:h=h.next=m,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:u.shared,effects:u.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}function ha(t,n,a,u){var f=t.updateQueue;dn=!1;var h=f.firstBaseUpdate,m=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var P=b,j=P.next;P.next=null,m===null?h=j:m.next=j,m=P;var B=t.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==m&&(b===null?B.firstBaseUpdate=j:b.next=j,B.lastBaseUpdate=P))}if(h!==null){var H=f.baseState;m=0,B=j=P=null,b=h;do{var U=b.lane,se=b.eventTime;if((u&U)===U){B!==null&&(B=B.next={eventTime:se,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=t,he=b;switch(U=n,se=a,he.tag){case 1:if(de=he.payload,typeof de=="function"){H=de.call(se,H,U);break e}H=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=he.payload,U=typeof de=="function"?de.call(se,H,U):de,U==null)break e;H=$({},H,U);break e;case 2:dn=!0}}b.callback!==null&&b.lane!==0&&(t.flags|=64,U=f.effects,U===null?f.effects=[b]:U.push(b))}else se={eventTime:se,lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(j=B=se,P=H):B=B.next=se,m|=U;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;U=b,b=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);if(B===null&&(P=H),f.baseState=P,f.firstBaseUpdate=j,f.lastBaseUpdate=B,n=f.shared.interleaved,n!==null){f=n;do m|=f.lane,f=f.next;while(f!==n)}else h===null&&(f.shared.lanes=0);Dn|=m,t.lanes=m,t.memoizedState=H}}function Eh(t,n,a){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var u=t[n],f=u.callback;if(f!==null){if(u.callback=null,u=a,typeof f!="function")throw Error(r(191,f));f.call(u)}}}var ms={},Pr=ln(ms),_s=ln(ms),ys=ln(ms);function $n(t){if(t===ms)throw Error(r(174));return t}function Au(t,n){switch(qe(ys,n),qe(_s,t),qe(Pr,ms),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ar(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Ar(n,t)}Je(Pr),qe(Pr,n)}function yi(){Je(Pr),Je(_s),Je(ys)}function Ch(t){$n(ys.current);var n=$n(Pr.current),a=Ar(n,t.type);n!==a&&(qe(_s,t),qe(Pr,a))}function Fu(t){_s.current===t&&(Je(Pr),Je(_s))}var nt=ln(0);function pa(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Lu=[];function $u(){for(var t=0;t<Lu.length;t++)Lu[t]._workInProgressVersionPrimary=null;Lu.length=0}var ga=V.ReactCurrentDispatcher,zu=V.ReactCurrentBatchConfig,zn=0,it=null,ht=null,vt=null,va=!1,ws=!1,xs=0,b0=0;function Ct(){throw Error(r(321))}function Du(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hr(t[a],n[a]))return!1;return!0}function Uu(t,n,a,u,f,h){if(zn=h,it=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,ga.current=t===null||t.memoizedState===null?P0:T0,t=a(u,f),ws){h=0;do{if(ws=!1,xs=0,25<=h)throw Error(r(301));h+=1,vt=ht=null,n.updateQueue=null,ga.current=R0,t=a(u,f)}while(ws)}if(ga.current=ya,n=ht!==null&&ht.next!==null,zn=0,vt=ht=it=null,va=!1,n)throw Error(r(300));return t}function Bu(){var t=xs!==0;return xs=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?it.memoizedState=vt=t:vt=vt.next=t,vt}function ir(){if(ht===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var n=vt===null?it.memoizedState:vt.next;if(n!==null)vt=n,ht=t;else{if(t===null)throw Error(r(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?it.memoizedState=vt=t:vt=vt.next=t}return vt}function ks(t,n){return typeof n=="function"?n(t):n}function Vu(t){var n=ir(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var u=ht,f=u.baseQueue,h=a.pending;if(h!==null){if(f!==null){var m=f.next;f.next=h.next,h.next=m}u.baseQueue=f=h,a.pending=null}if(f!==null){h=f.next,u=u.baseState;var b=m=null,P=null,j=h;do{var B=j.lane;if((zn&B)===B)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),u=j.hasEagerState?j.eagerState:t(u,j.action);else{var H={lane:B,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(b=P=H,m=u):P=P.next=H,it.lanes|=B,Dn|=B}j=j.next}while(j!==null&&j!==h);P===null?m=u:P.next=b,hr(u,n.memoizedState)||(Dt=!0),n.memoizedState=u,n.baseState=m,n.baseQueue=P,a.lastRenderedState=u}if(t=a.interleaved,t!==null){f=t;do h=f.lane,it.lanes|=h,Dn|=h,f=f.next;while(f!==t)}else f===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function Hu(t){var n=ir(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var u=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var m=f=f.next;do h=t(h,m.action),m=m.next;while(m!==f);hr(h,n.memoizedState)||(Dt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,u]}function Ph(){}function Th(t,n){var a=it,u=ir(),f=n(),h=!hr(u.memoizedState,f);if(h&&(u.memoizedState=f,Dt=!0),u=u.queue,Wu(Ih.bind(null,a,u,t),[t]),u.getSnapshot!==n||h||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,bs(9,Nh.bind(null,a,u,f,n),void 0,null),mt===null)throw Error(r(349));(zn&30)!==0||Rh(a,n,f)}return f}function Rh(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Nh(t,n,a,u){n.value=a,n.getSnapshot=u,Oh(n)&&jh(t)}function Ih(t,n,a){return a(function(){Oh(n)&&jh(t)})}function Oh(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hr(t,a)}catch{return!0}}function jh(t){var n=Dr(t,1);n!==null&&_r(n,t,1,-1)}function Mh(t){var n=Tr();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},n.queue=t,t=t.dispatch=C0.bind(null,it,t),[n.memoizedState,t]}function bs(t,n,a,u){return t={tag:t,create:n,destroy:a,deps:u,next:null},n=it.updateQueue,n===null?(n={lastEffect:null,stores:null},it.updateQueue=n,n.lastEffect=t.next=t):(a=n.lastEffect,a===null?n.lastEffect=t.next=t:(u=a.next,a.next=t,t.next=u,n.lastEffect=t)),t}function Ah(){return ir().memoizedState}function ma(t,n,a,u){var f=Tr();it.flags|=t,f.memoizedState=bs(1|n,a,void 0,u===void 0?null:u)}function _a(t,n,a,u){var f=ir();u=u===void 0?null:u;var h=void 0;if(ht!==null){var m=ht.memoizedState;if(h=m.destroy,u!==null&&Du(u,m.deps)){f.memoizedState=bs(n,a,h,u);return}}it.flags|=t,f.memoizedState=bs(1|n,a,h,u)}function Fh(t,n){return ma(8390656,8,t,n)}function Wu(t,n){return _a(2048,8,t,n)}function Lh(t,n){return _a(4,2,t,n)}function $h(t,n){return _a(4,4,t,n)}function zh(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Dh(t,n,a){return a=a!=null?a.concat([t]):null,_a(4,4,zh.bind(null,n,t),a)}function Gu(){}function Uh(t,n){var a=ir();n=n===void 0?null:n;var u=a.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(a.memoizedState=[t,n],t)}function Bh(t,n){var a=ir();n=n===void 0?null:n;var u=a.memoizedState;return u!==null&&n!==null&&Du(n,u[1])?u[0]:(t=t(),a.memoizedState=[t,n],t)}function Vh(t,n,a){return(zn&21)===0?(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=a):(hr(a,n)||(a=yf(),it.lanes|=a,Dn|=a,t.baseState=!0),n)}function S0(t,n){var a=We;We=a!==0&&4>a?a:4,t(!0);var u=zu.transition;zu.transition={};try{t(!1),n()}finally{We=a,zu.transition=u}}function Hh(){return ir().memoizedState}function E0(t,n,a){var u=vn(t);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Wh(t))Gh(n,a);else if(a=kh(t,n,a,u),a!==null){var f=jt();_r(a,t,u,f),Zh(a,n,u)}}function C0(t,n,a){var u=vn(t),f={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wh(t))Gh(n,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var m=n.lastRenderedState,b=h(m,a);if(f.hasEagerState=!0,f.eagerState=b,hr(b,m)){var P=n.interleaved;P===null?(f.next=f,ju(n)):(f.next=P.next,P.next=f),n.interleaved=f;return}}catch{}a=kh(t,n,f,u),a!==null&&(f=jt(),_r(a,t,u,f),Zh(a,n,u))}}function Wh(t){var n=t.alternate;return t===it||n!==null&&n===it}function Gh(t,n){ws=va=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Zh(t,n,a){if((a&4194240)!==0){var u=n.lanes;u&=t.pendingLanes,a|=u,n.lanes=a,ql(t,a)}}var ya={readContext:nr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},P0={readContext:nr,useCallback:function(t,n){return Tr().memoizedState=[t,n===void 0?null:n],t},useContext:nr,useEffect:Fh,useImperativeHandle:function(t,n,a){return a=a!=null?a.concat([t]):null,ma(4194308,4,zh.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ma(4194308,4,t,n)},useInsertionEffect:function(t,n){return ma(4,2,t,n)},useMemo:function(t,n){var a=Tr();return n=n===void 0?null:n,t=t(),a.memoizedState=[t,n],t},useReducer:function(t,n,a){var u=Tr();return n=a!==void 0?a(n):n,u.memoizedState=u.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},u.queue=t,t=t.dispatch=E0.bind(null,it,t),[u.memoizedState,t]},useRef:function(t){var n=Tr();return t={current:t},n.memoizedState=t},useState:Mh,useDebugValue:Gu,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=Mh(!1),n=t[0];return t=S0.bind(null,t[1]),Tr().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,a){var u=it,f=Tr();if(rt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),mt===null)throw Error(r(349));(zn&30)!==0||Rh(u,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,Fh(Ih.bind(null,u,h,t),[t]),u.flags|=2048,bs(9,Nh.bind(null,u,h,a,n),void 0,null),a},useId:function(){var t=Tr(),n=mt.identifierPrefix;if(rt){var a=zr,u=$r;a=(u&~(1<<32-fr(u)-1)).toString(32)+a,n=":"+n+"R"+a,a=xs++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=b0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},T0={readContext:nr,useCallback:Uh,useContext:nr,useEffect:Wu,useImperativeHandle:Dh,useInsertionEffect:Lh,useLayoutEffect:$h,useMemo:Bh,useReducer:Vu,useRef:Ah,useState:function(){return Vu(ks)},useDebugValue:Gu,useDeferredValue:function(t){var n=ir();return Vh(n,ht.memoizedState,t)},useTransition:function(){var t=Vu(ks)[0],n=ir().memoizedState;return[t,n]},useMutableSource:Ph,useSyncExternalStore:Th,useId:Hh,unstable_isNewReconciler:!1},R0={readContext:nr,useCallback:Uh,useContext:nr,useEffect:Wu,useImperativeHandle:Dh,useInsertionEffect:Lh,useLayoutEffect:$h,useMemo:Bh,useReducer:Hu,useRef:Ah,useState:function(){return Hu(ks)},useDebugValue:Gu,useDeferredValue:function(t){var n=ir();return ht===null?n.memoizedState=t:Vh(n,ht.memoizedState,t)},useTransition:function(){var t=Hu(ks)[0],n=ir().memoizedState;return[t,n]},useMutableSource:Ph,useSyncExternalStore:Th,useId:Hh,unstable_isNewReconciler:!1};function gr(t,n){if(t&&t.defaultProps){n=$({},n),t=t.defaultProps;for(var a in t)n[a]===void 0&&(n[a]=t[a]);return n}return n}function Zu(t,n,a,u){n=t.memoizedState,a=a(u,n),a=a==null?n:$({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wa={isMounted:function(t){return(t=t._reactInternals)?On(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var u=jt(),f=vn(t),h=Ur(u,f);h.payload=n,a!=null&&(h.callback=a),n=fn(t,h,f),n!==null&&(_r(n,t,f,u),fa(n,t,f))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var u=jt(),f=vn(t),h=Ur(u,f);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=fn(t,h,f),n!==null&&(_r(n,t,f,u),fa(n,t,f))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jt(),u=vn(t),f=Ur(a,u);f.tag=2,n!=null&&(f.callback=n),n=fn(t,f,u),n!==null&&(_r(n,t,u,a),fa(n,t,u))}};function qh(t,n,a,u,f,h,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,h,m):n.prototype&&n.prototype.isPureReactComponent?!us(a,u)||!us(f,h):!0}function Yh(t,n,a){var u=!1,f=un,h=n.contextType;return typeof h=="object"&&h!==null?h=nr(h):(f=zt(n)?Mn:Et.current,u=n.contextTypes,h=(u=u!=null)?fi(t,f):un),n=new n(a,h),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=wa,t.stateNode=n,n._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=h),n}function Qh(t,n,a,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,u),n.state!==t&&wa.enqueueReplaceState(n,n.state,null)}function qu(t,n,a,u){var f=t.stateNode;f.props=a,f.state=t.memoizedState,f.refs={},Mu(t);var h=n.contextType;typeof h=="object"&&h!==null?f.context=nr(h):(h=zt(n)?Mn:Et.current,f.context=fi(t,h)),f.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Zu(t,n,h,a),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(n=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),n!==f.state&&wa.enqueueReplaceState(f,f.state,null),ha(t,a,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function wi(t,n){try{var a="",u=n;do a+=ce(u),u=u.return;while(u);var f=a}catch(h){f=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:n,stack:f,digest:null}}function Yu(t,n,a){return{value:t,source:null,stack:a??null,digest:n??null}}function Qu(t,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var N0=typeof WeakMap=="function"?WeakMap:Map;function Xh(t,n,a){a=Ur(-1,a),a.tag=3,a.payload={element:null};var u=n.value;return a.callback=function(){Pa||(Pa=!0,dc=u),Qu(t,n)},a}function Kh(t,n,a){a=Ur(-1,a),a.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=n.value;a.payload=function(){return u(f)},a.callback=function(){Qu(t,n)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(a.callback=function(){Qu(t,n),typeof u!="function"&&(pn===null?pn=new Set([this]):pn.add(this));var m=n.stack;this.componentDidCatch(n.value,{componentStack:m!==null?m:""})}),a}function Jh(t,n,a){var u=t.pingCache;if(u===null){u=t.pingCache=new N0;var f=new Set;u.set(n,f)}else f=u.get(n),f===void 0&&(f=new Set,u.set(n,f));f.has(a)||(f.add(a),t=H0.bind(null,t,n,a),n.then(t,t))}function ep(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function tp(t,n,a,u,f){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=Ur(-1,1),n.tag=2,fn(a,n,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var I0=V.ReactCurrentOwner,Dt=!1;function Ot(t,n,a,u){n.child=t===null?xh(n,null,a,u):vi(n,t.child,a,u)}function rp(t,n,a,u,f){a=a.render;var h=n.ref;return _i(n,f),u=Uu(t,n,a,u,h,f),a=Bu(),t!==null&&!Dt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,Br(t,n,f)):(rt&&a&&Su(n),n.flags|=1,Ot(t,n,u,f),n.child)}function np(t,n,a,u,f){if(t===null){var h=a.type;return typeof h=="function"&&!_c(h)&&h.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=h,ip(t,n,h,u,f)):(t=ja(a.type,null,u,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,(t.lanes&f)===0){var m=h.memoizedProps;if(a=a.compare,a=a!==null?a:us,a(m,u)&&t.ref===n.ref)return Br(t,n,f)}return n.flags|=1,t=_n(h,u),t.ref=n.ref,t.return=n,n.child=t}function ip(t,n,a,u,f){if(t!==null){var h=t.memoizedProps;if(us(h,u)&&t.ref===n.ref)if(Dt=!1,n.pendingProps=u=h,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Dt=!0);else return n.lanes=t.lanes,Br(t,n,f)}return Xu(t,n,a,u,f)}function sp(t,n,a){var u=n.pendingProps,f=u.children,h=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(ki,Kt),Kt|=a;else{if((a&1073741824)===0)return t=h!==null?h.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,qe(ki,Kt),Kt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=h!==null?h.baseLanes:a,qe(ki,Kt),Kt|=u}else h!==null?(u=h.baseLanes|a,n.memoizedState=null):u=a,qe(ki,Kt),Kt|=u;return Ot(t,n,f,a),n.child}function op(t,n){var a=n.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function Xu(t,n,a,u,f){var h=zt(a)?Mn:Et.current;return h=fi(n,h),_i(n,f),a=Uu(t,n,a,u,h,f),u=Bu(),t!==null&&!Dt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~f,Br(t,n,f)):(rt&&u&&Su(n),n.flags|=1,Ot(t,n,a,f),n.child)}function ap(t,n,a,u,f){if(zt(a)){var h=!0;ia(n)}else h=!1;if(_i(n,f),n.stateNode===null)ka(t,n),Yh(n,a,u),qu(n,a,u,f),u=!0;else if(t===null){var m=n.stateNode,b=n.memoizedProps;m.props=b;var P=m.context,j=a.contextType;typeof j=="object"&&j!==null?j=nr(j):(j=zt(a)?Mn:Et.current,j=fi(n,j));var B=a.getDerivedStateFromProps,H=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function";H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==u||P!==j)&&Qh(n,m,u,j),dn=!1;var U=n.memoizedState;m.state=U,ha(n,u,m,f),P=n.memoizedState,b!==u||U!==P||$t.current||dn?(typeof B=="function"&&(Zu(n,a,B,u),P=n.memoizedState),(b=dn||qh(n,a,b,u,U,P,j))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=P),m.props=u,m.state=P,m.context=j,u=b):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{m=n.stateNode,bh(t,n),b=n.memoizedProps,j=n.type===n.elementType?b:gr(n.type,b),m.props=j,H=n.pendingProps,U=m.context,P=a.contextType,typeof P=="object"&&P!==null?P=nr(P):(P=zt(a)?Mn:Et.current,P=fi(n,P));var se=a.getDerivedStateFromProps;(B=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==H||U!==P)&&Qh(n,m,u,P),dn=!1,U=n.memoizedState,m.state=U,ha(n,u,m,f);var de=n.memoizedState;b!==H||U!==de||$t.current||dn?(typeof se=="function"&&(Zu(n,a,se,u),de=n.memoizedState),(j=dn||qh(n,a,j,u,U,de,P)||!1)?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,de,P),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,de,P)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=de),m.props=u,m.state=de,m.context=P,u=j):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&U===t.memoizedState||(n.flags|=1024),u=!1)}return Ku(t,n,a,u,h,f)}function Ku(t,n,a,u,f,h){op(t,n);var m=(n.flags&128)!==0;if(!u&&!m)return f&&fh(n,a,!1),Br(t,n,h);u=n.stateNode,I0.current=n;var b=m&&typeof a.getDerivedStateFromError!="function"?null:u.render();return n.flags|=1,t!==null&&m?(n.child=vi(n,t.child,null,h),n.child=vi(n,null,b,h)):Ot(t,n,b,h),n.memoizedState=u.state,f&&fh(n,a,!0),n.child}function lp(t){var n=t.stateNode;n.pendingContext?ch(t,n.pendingContext,n.pendingContext!==n.context):n.context&&ch(t,n.context,!1),Au(t,n.containerInfo)}function up(t,n,a,u,f){return gi(),Tu(f),n.flags|=256,Ot(t,n,a,u),n.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function cp(t,n,a){var u=n.pendingProps,f=nt.current,h=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(f&2)!==0),b?(h=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),qe(nt,f&1),t===null)return Pu(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(m=u.children,t=u.fallback,h?(u=n.mode,h=n.child,m={mode:"hidden",children:m},(u&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=Ma(m,u,0,null),t=Hn(t,u,a,null),h.return=n,t.return=n,h.sibling=t,n.child=h,n.child.memoizedState=ec(a),n.memoizedState=Ju,t):tc(n,m));if(f=t.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return O0(t,n,m,u,b,f,a);if(h){h=u.fallback,m=n.mode,f=t.child,b=f.sibling;var P={mode:"hidden",children:u.children};return(m&1)===0&&n.child!==f?(u=n.child,u.childLanes=0,u.pendingProps=P,n.deletions=null):(u=_n(f,P),u.subtreeFlags=f.subtreeFlags&14680064),b!==null?h=_n(b,h):(h=Hn(h,m,a,null),h.flags|=2),h.return=n,u.return=n,u.sibling=h,n.child=u,u=h,h=n.child,m=t.child.memoizedState,m=m===null?ec(a):{baseLanes:m.baseLanes|a,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=t.childLanes&~a,n.memoizedState=Ju,u}return h=t.child,t=h.sibling,u=_n(h,{mode:"visible",children:u.children}),(n.mode&1)===0&&(u.lanes=a),u.return=n,u.sibling=null,t!==null&&(a=n.deletions,a===null?(n.deletions=[t],n.flags|=16):a.push(t)),n.child=u,n.memoizedState=null,u}function tc(t,n){return n=Ma({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function xa(t,n,a,u){return u!==null&&Tu(u),vi(n,t.child,null,a),t=tc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function O0(t,n,a,u,f,h,m){if(a)return n.flags&256?(n.flags&=-257,u=Yu(Error(r(422))),xa(t,n,m,u)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(h=u.fallback,f=n.mode,u=Ma({mode:"visible",children:u.children},f,0,null),h=Hn(h,f,m,null),h.flags|=2,u.return=n,h.return=n,u.sibling=h,n.child=u,(n.mode&1)!==0&&vi(n,t.child,null,m),n.child.memoizedState=ec(m),n.memoizedState=Ju,h);if((n.mode&1)===0)return xa(t,n,m,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var b=u.dgst;return u=b,h=Error(r(419)),u=Yu(h,u,void 0),xa(t,n,m,u)}if(b=(m&t.childLanes)!==0,Dt||b){if(u=mt,u!==null){switch(m&-m){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|m))!==0?0:f,f!==0&&f!==h.retryLane&&(h.retryLane=f,Dr(t,f),_r(u,t,f,-1))}return mc(),u=Yu(Error(r(421))),xa(t,n,m,u)}return f.data==="$?"?(n.flags|=128,n.child=t.child,n=W0.bind(null,t),f._reactRetry=n,null):(t=h.treeContext,Xt=an(f.nextSibling),Qt=n,rt=!0,pr=null,t!==null&&(tr[rr++]=$r,tr[rr++]=zr,tr[rr++]=An,$r=t.id,zr=t.overflow,An=n),n=tc(n,u.children),n.flags|=4096,n)}function dp(t,n,a){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Ou(t.return,n,a)}function rc(t,n,a,u,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=u,h.tail=a,h.tailMode=f)}function fp(t,n,a){var u=n.pendingProps,f=u.revealOrder,h=u.tail;if(Ot(t,n,u.children,a),u=nt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dp(t,a,n);else if(t.tag===19)dp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(nt,u),(n.mode&1)===0)n.memoizedState=null;else switch(f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&pa(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),rc(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&pa(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}rc(n,!0,a,null,h);break;case"together":rc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ka(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function Br(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Dn|=n.lanes,(a&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=_n(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=_n(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function j0(t,n,a){switch(n.tag){case 3:lp(n),gi();break;case 5:Ch(n);break;case 1:zt(n.type)&&ia(n);break;case 4:Au(n,n.stateNode.containerInfo);break;case 10:var u=n.type._context,f=n.memoizedProps.value;qe(ca,u._currentValue),u._currentValue=f;break;case 13:if(u=n.memoizedState,u!==null)return u.dehydrated!==null?(qe(nt,nt.current&1),n.flags|=128,null):(a&n.child.childLanes)!==0?cp(t,n,a):(qe(nt,nt.current&1),t=Br(t,n,a),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(u=(a&n.childLanes)!==0,(t.flags&128)!==0){if(u)return fp(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(nt,nt.current),u)break;return null;case 22:case 23:return n.lanes=0,sp(t,n,a)}return Br(t,n,a)}var hp,nc,pp,gp;hp=function(t,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},nc=function(){},pp=function(t,n,a,u){var f=t.memoizedProps;if(f!==u){t=n.stateNode,$n(Pr.current);var h=null;switch(a){case"input":f=Re(t,f),u=Re(t,u),h=[];break;case"select":f=$({},f,{value:void 0}),u=$({},u,{value:void 0}),h=[];break;case"textarea":f=Nt(t,f),u=Nt(t,u),h=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=ta)}Ll(a,u);var m;a=null;for(j in f)if(!u.hasOwnProperty(j)&&f.hasOwnProperty(j)&&f[j]!=null)if(j==="style"){var b=f[j];for(m in b)b.hasOwnProperty(m)&&(a||(a={}),a[m]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?h||(h=[]):(h=h||[]).push(j,null));for(j in u){var P=u[j];if(b=f?.[j],u.hasOwnProperty(j)&&P!==b&&(P!=null||b!=null))if(j==="style")if(b){for(m in b)!b.hasOwnProperty(m)||P&&P.hasOwnProperty(m)||(a||(a={}),a[m]="");for(m in P)P.hasOwnProperty(m)&&b[m]!==P[m]&&(a||(a={}),a[m]=P[m])}else a||(h||(h=[]),h.push(j,a)),a=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,b=b?b.__html:void 0,P!=null&&b!==P&&(h=h||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(h=h||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(o.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&Ke("scroll",t),h||b===P||(h=[])):(h=h||[]).push(j,P))}a&&(h=h||[]).push("style",a);var j=h;(n.updateQueue=j)&&(n.flags|=4)}},gp=function(t,n,a,u){a!==u&&(n.flags|=4)};function Ss(t,n){if(!rt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Pt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,u=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=a,n}function M0(t,n,a){var u=n.pendingProps;switch(Eu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(n),null;case 1:return zt(n.type)&&na(),Pt(n),null;case 3:return u=n.stateNode,yi(),Je($t),Je(Et),$u(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(la(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,pr!==null&&(pc(pr),pr=null))),nc(t,n),Pt(n),null;case 5:Fu(n);var f=$n(ys.current);if(a=n.type,t!==null&&n.stateNode!=null)pp(t,n,a,u,f),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!u){if(n.stateNode===null)throw Error(r(166));return Pt(n),null}if(t=$n(Pr.current),la(n)){u=n.stateNode,a=n.type;var h=n.memoizedProps;switch(u[Cr]=n,u[ps]=h,t=(n.mode&1)!==0,a){case"dialog":Ke("cancel",u),Ke("close",u);break;case"iframe":case"object":case"embed":Ke("load",u);break;case"video":case"audio":for(f=0;f<ds.length;f++)Ke(ds[f],u);break;case"source":Ke("error",u);break;case"img":case"image":case"link":Ke("error",u),Ke("load",u);break;case"details":Ke("toggle",u);break;case"input":xe(u,h),Ke("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!h.multiple},Ke("invalid",u);break;case"textarea":Nn(u,h),Ke("invalid",u)}Ll(a,h),f=null;for(var m in h)if(h.hasOwnProperty(m)){var b=h[m];m==="children"?typeof b=="string"?u.textContent!==b&&(h.suppressHydrationWarning!==!0&&ea(u.textContent,b,t),f=["children",b]):typeof b=="number"&&u.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&ea(u.textContent,b,t),f=["children",""+b]):o.hasOwnProperty(m)&&b!=null&&m==="onScroll"&&Ke("scroll",u)}switch(a){case"input":cr(u),Ge(u,h,!0);break;case"textarea":cr(u),ei(u);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(u.onclick=ta)}u=f,n.updateQueue=u,u!==null&&(n.flags|=4)}else{m=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gi(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=m.createElement(a,{is:u.is}):(t=m.createElement(a),a==="select"&&(m=t,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):t=m.createElementNS(t,a),t[Cr]=n,t[ps]=u,hp(t,n,!1,!1),n.stateNode=t;e:{switch(m=$l(a,u),a){case"dialog":Ke("cancel",t),Ke("close",t),f=u;break;case"iframe":case"object":case"embed":Ke("load",t),f=u;break;case"video":case"audio":for(f=0;f<ds.length;f++)Ke(ds[f],t);f=u;break;case"source":Ke("error",t),f=u;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),f=u;break;case"details":Ke("toggle",t),f=u;break;case"input":xe(t,u),f=Re(t,u),Ke("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=$({},u,{value:void 0}),Ke("invalid",t);break;case"textarea":Nn(t,u),f=Nt(t,u),Ke("invalid",t);break;default:f=u}Ll(a,f),b=f;for(h in b)if(b.hasOwnProperty(h)){var P=b[h];h==="style"?nf(t,P):h==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&jo(t,P)):h==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&In(t,P):typeof P=="number"&&In(t,""+P):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(o.hasOwnProperty(h)?P!=null&&h==="onScroll"&&Ke("scroll",t):P!=null&&D(t,h,P,m))}switch(a){case"input":cr(t),Ge(t,u,!1);break;case"textarea":cr(t),ei(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,h=u.value,h!=null?dr(t,!!u.multiple,h,!1):u.defaultValue!=null&&dr(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=ta)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Pt(n),null;case 6:if(t&&n.stateNode!=null)gp(t,n,t.memoizedProps,u);else{if(typeof u!="string"&&n.stateNode===null)throw Error(r(166));if(a=$n(ys.current),$n(Pr.current),la(n)){if(u=n.stateNode,a=n.memoizedProps,u[Cr]=n,(h=u.nodeValue!==a)&&(t=Qt,t!==null))switch(t.tag){case 3:ea(u.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ea(u.nodeValue,a,(t.mode&1)!==0)}h&&(n.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Cr]=n,n.stateNode=u}return Pt(n),null;case 13:if(Je(nt),u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&Xt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)_h(),gi(),n.flags|=98560,h=!1;else if(h=la(n),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Cr]=n}else gi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pt(n),h=!1}else pr!==null&&(pc(pr),pr=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=a,n):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(nt.current&1)!==0?pt===0&&(pt=3):mc())),n.updateQueue!==null&&(n.flags|=4),Pt(n),null);case 4:return yi(),nc(t,n),t===null&&fs(n.stateNode.containerInfo),Pt(n),null;case 10:return Iu(n.type._context),Pt(n),null;case 17:return zt(n.type)&&na(),Pt(n),null;case 19:if(Je(nt),h=n.memoizedState,h===null)return Pt(n),null;if(u=(n.flags&128)!==0,m=h.rendering,m===null)if(u)Ss(h,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=pa(t),m!==null){for(n.flags|=128,Ss(h,!1),u=m.updateQueue,u!==null&&(n.updateQueue=u,n.flags|=4),n.subtreeFlags=0,u=a,a=n.child;a!==null;)h=a,t=u,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,t=m.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return qe(nt,nt.current&1|2),n.child}t=t.sibling}h.tail!==null&&at()>bi&&(n.flags|=128,u=!0,Ss(h,!1),n.lanes=4194304)}else{if(!u)if(t=pa(m),t!==null){if(n.flags|=128,u=!0,a=t.updateQueue,a!==null&&(n.updateQueue=a,n.flags|=4),Ss(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!rt)return Pt(n),null}else 2*at()-h.renderingStartTime>bi&&a!==1073741824&&(n.flags|=128,u=!0,Ss(h,!1),n.lanes=4194304);h.isBackwards?(m.sibling=n.child,n.child=m):(a=h.last,a!==null?a.sibling=m:n.child=m,h.last=m)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=at(),n.sibling=null,a=nt.current,qe(nt,u?a&1|2:a&1),n):(Pt(n),null);case 22:case 23:return vc(),u=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(n.flags|=8192),u&&(n.mode&1)!==0?(Kt&1073741824)!==0&&(Pt(n),n.subtreeFlags&6&&(n.flags|=8192)):Pt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function A0(t,n){switch(Eu(n),n.tag){case 1:return zt(n.type)&&na(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return yi(),Je($t),Je(Et),$u(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Fu(n),null;case 13:if(Je(nt),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Je(nt),null;case 4:return yi(),null;case 10:return Iu(n.type._context),null;case 22:case 23:return vc(),null;case 24:return null;default:return null}}var ba=!1,Tt=!1,F0=typeof WeakSet=="function"?WeakSet:Set,le=null;function xi(t,n){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){ot(t,n,u)}else a.current=null}function ic(t,n,a){try{a()}catch(u){ot(t,n,u)}}var vp=!1;function L0(t,n){if(vu=Vo,t=qf(),lu(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var f=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var m=0,b=-1,P=-1,j=0,B=0,H=t,U=null;t:for(;;){for(var se;H!==a||f!==0&&H.nodeType!==3||(b=m+f),H!==h||u!==0&&H.nodeType!==3||(P=m+u),H.nodeType===3&&(m+=H.nodeValue.length),(se=H.firstChild)!==null;)U=H,H=se;for(;;){if(H===t)break t;if(U===a&&++j===f&&(b=m),U===h&&++B===u&&(P=m),(se=H.nextSibling)!==null)break;H=U,U=H.parentNode}H=se}a=b===-1||P===-1?null:{start:b,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(mu={focusedElem:t,selectionRange:a},Vo=!1,le=n;le!==null;)if(n=le,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,le=t;else for(;le!==null;){n=le;try{var de=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var he=de.memoizedProps,lt=de.memoizedState,N=n.stateNode,T=N.getSnapshotBeforeUpdate(n.elementType===n.type?he:gr(n.type,he),lt);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var I=n.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(G){ot(n,n.return,G)}if(t=n.sibling,t!==null){t.return=n.return,le=t;break}le=n.return}return de=vp,vp=!1,de}function Es(t,n,a){var u=n.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var h=f.destroy;f.destroy=void 0,h!==void 0&&ic(n,a,h)}f=f.next}while(f!==u)}}function Sa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var u=a.create;a.destroy=u()}a=a.next}while(a!==n)}}function sc(t){var n=t.ref;if(n!==null){var a=t.stateNode;t.tag,t=a,typeof n=="function"?n(t):n.current=t}}function mp(t){var n=t.alternate;n!==null&&(t.alternate=null,mp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Cr],delete n[ps],delete n[xu],delete n[y0],delete n[w0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _p(t){return t.tag===5||t.tag===3||t.tag===4}function yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_p(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function oc(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ta));else if(u!==4&&(t=t.child,t!==null))for(oc(t,n,a),t=t.sibling;t!==null;)oc(t,n,a),t=t.sibling}function ac(t,n,a){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(ac(t,n,a),t=t.sibling;t!==null;)ac(t,n,a),t=t.sibling}var wt=null,vr=!1;function hn(t,n,a){for(a=a.child;a!==null;)wp(t,n,a),a=a.sibling}function wp(t,n,a){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Lo,a)}catch{}switch(a.tag){case 5:Tt||xi(a,n);case 6:var u=wt,f=vr;wt=null,hn(t,n,a),wt=u,vr=f,wt!==null&&(vr?(t=wt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):wt.removeChild(a.stateNode));break;case 18:wt!==null&&(vr?(t=wt,a=a.stateNode,t.nodeType===8?wu(t.parentNode,a):t.nodeType===1&&wu(t,a),ns(t)):wu(wt,a.stateNode));break;case 4:u=wt,f=vr,wt=a.stateNode.containerInfo,vr=!0,hn(t,n,a),wt=u,vr=f;break;case 0:case 11:case 14:case 15:if(!Tt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var h=f,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&ic(a,n,m),f=f.next}while(f!==u)}hn(t,n,a);break;case 1:if(!Tt&&(xi(a,n),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(b){ot(a,n,b)}hn(t,n,a);break;case 21:hn(t,n,a);break;case 22:a.mode&1?(Tt=(u=Tt)||a.memoizedState!==null,hn(t,n,a),Tt=u):hn(t,n,a);break;default:hn(t,n,a)}}function xp(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new F0),n.forEach(function(u){var f=G0.bind(null,t,u);a.has(u)||(a.add(u),u.then(f,f))})}}function mr(t,n){var a=n.deletions;if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];try{var h=t,m=n,b=m;e:for(;b!==null;){switch(b.tag){case 5:wt=b.stateNode,vr=!1;break e;case 3:wt=b.stateNode.containerInfo,vr=!0;break e;case 4:wt=b.stateNode.containerInfo,vr=!0;break e}b=b.return}if(wt===null)throw Error(r(160));wp(h,m,f),wt=null,vr=!1;var P=f.alternate;P!==null&&(P.return=null),f.return=null}catch(j){ot(f,n,j)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)kp(n,t),n=n.sibling}function kp(t,n){var a=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(n,t),Rr(t),u&4){try{Es(3,t,t.return),Sa(3,t)}catch(he){ot(t,t.return,he)}try{Es(5,t,t.return)}catch(he){ot(t,t.return,he)}}break;case 1:mr(n,t),Rr(t),u&512&&a!==null&&xi(a,a.return);break;case 5:if(mr(n,t),Rr(t),u&512&&a!==null&&xi(a,a.return),t.flags&32){var f=t.stateNode;try{In(f,"")}catch(he){ot(t,t.return,he)}}if(u&4&&(f=t.stateNode,f!=null)){var h=t.memoizedProps,m=a!==null?a.memoizedProps:h,b=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&tt(f,h),$l(b,m);var j=$l(b,h);for(m=0;m<P.length;m+=2){var B=P[m],H=P[m+1];B==="style"?nf(f,H):B==="dangerouslySetInnerHTML"?jo(f,H):B==="children"?In(f,H):D(f,B,H,j)}switch(b){case"input":De(f,h);break;case"textarea":Oo(f,h);break;case"select":var U=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!h.multiple;var se=h.value;se!=null?dr(f,!!h.multiple,se,!1):U!==!!h.multiple&&(h.defaultValue!=null?dr(f,!!h.multiple,h.defaultValue,!0):dr(f,!!h.multiple,h.multiple?[]:"",!1))}f[ps]=h}catch(he){ot(t,t.return,he)}}break;case 6:if(mr(n,t),Rr(t),u&4){if(t.stateNode===null)throw Error(r(162));f=t.stateNode,h=t.memoizedProps;try{f.nodeValue=h}catch(he){ot(t,t.return,he)}}break;case 3:if(mr(n,t),Rr(t),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ns(n.containerInfo)}catch(he){ot(t,t.return,he)}break;case 4:mr(n,t),Rr(t);break;case 13:mr(n,t),Rr(t),f=t.child,f.flags&8192&&(h=f.memoizedState!==null,f.stateNode.isHidden=h,!h||f.alternate!==null&&f.alternate.memoizedState!==null||(cc=at())),u&4&&xp(t);break;case 22:if(B=a!==null&&a.memoizedState!==null,t.mode&1?(Tt=(j=Tt)||B,mr(n,t),Tt=j):mr(n,t),Rr(t),u&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!B&&(t.mode&1)!==0)for(le=t,B=t.child;B!==null;){for(H=le=B;le!==null;){switch(U=le,se=U.child,U.tag){case 0:case 11:case 14:case 15:Es(4,U,U.return);break;case 1:xi(U,U.return);var de=U.stateNode;if(typeof de.componentWillUnmount=="function"){u=U,a=U.return;try{n=u,de.props=n.memoizedProps,de.state=n.memoizedState,de.componentWillUnmount()}catch(he){ot(u,a,he)}}break;case 5:xi(U,U.return);break;case 22:if(U.memoizedState!==null){Ep(H);continue}}se!==null?(se.return=U,le=se):Ep(H)}B=B.sibling}e:for(B=null,H=t;;){if(H.tag===5){if(B===null){B=H;try{f=H.stateNode,j?(h=f.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=H.stateNode,P=H.memoizedProps.style,m=P!=null&&P.hasOwnProperty("display")?P.display:null,b.style.display=rf("display",m))}catch(he){ot(t,t.return,he)}}}else if(H.tag===6){if(B===null)try{H.stateNode.nodeValue=j?"":H.memoizedProps}catch(he){ot(t,t.return,he)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===t)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===t)break e;for(;H.sibling===null;){if(H.return===null||H.return===t)break e;B===H&&(B=null),H=H.return}B===H&&(B=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:mr(n,t),Rr(t),u&4&&xp(t);break;case 21:break;default:mr(n,t),Rr(t)}}function Rr(t){var n=t.flags;if(n&2){try{e:{for(var a=t.return;a!==null;){if(_p(a)){var u=a;break e}a=a.return}throw Error(r(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(In(f,""),u.flags&=-33);var h=yp(t);ac(t,h,f);break;case 3:case 4:var m=u.stateNode.containerInfo,b=yp(t);oc(t,b,m);break;default:throw Error(r(161))}}catch(P){ot(t,t.return,P)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function $0(t,n,a){le=t,bp(t)}function bp(t,n,a){for(var u=(t.mode&1)!==0;le!==null;){var f=le,h=f.child;if(f.tag===22&&u){var m=f.memoizedState!==null||ba;if(!m){var b=f.alternate,P=b!==null&&b.memoizedState!==null||Tt;b=ba;var j=Tt;if(ba=m,(Tt=P)&&!j)for(le=f;le!==null;)m=le,P=m.child,m.tag===22&&m.memoizedState!==null?Cp(f):P!==null?(P.return=m,le=P):Cp(f);for(;h!==null;)le=h,bp(h),h=h.sibling;le=f,ba=b,Tt=j}Sp(t)}else(f.subtreeFlags&8772)!==0&&h!==null?(h.return=f,le=h):Sp(t)}}function Sp(t){for(;le!==null;){var n=le;if((n.flags&8772)!==0){var a=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Tt||Sa(5,n);break;case 1:var u=n.stateNode;if(n.flags&4&&!Tt)if(a===null)u.componentDidMount();else{var f=n.elementType===n.type?a.memoizedProps:gr(n.type,a.memoizedProps);u.componentDidUpdate(f,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Eh(n,h,u);break;case 3:var m=n.updateQueue;if(m!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=n.child.stateNode;break;case 1:a=n.child.stateNode}Eh(n,m,a)}break;case 5:var b=n.stateNode;if(a===null&&n.flags&4){a=b;var P=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var j=n.alternate;if(j!==null){var B=j.memoizedState;if(B!==null){var H=B.dehydrated;H!==null&&ns(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tt||n.flags&512&&sc(n)}catch(U){ot(n,n.return,U)}}if(n===t){le=null;break}if(a=n.sibling,a!==null){a.return=n.return,le=a;break}le=n.return}}function Ep(t){for(;le!==null;){var n=le;if(n===t){le=null;break}var a=n.sibling;if(a!==null){a.return=n.return,le=a;break}le=n.return}}function Cp(t){for(;le!==null;){var n=le;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{Sa(4,n)}catch(P){ot(n,a,P)}break;case 1:var u=n.stateNode;if(typeof u.componentDidMount=="function"){var f=n.return;try{u.componentDidMount()}catch(P){ot(n,f,P)}}var h=n.return;try{sc(n)}catch(P){ot(n,h,P)}break;case 5:var m=n.return;try{sc(n)}catch(P){ot(n,m,P)}}}catch(P){ot(n,n.return,P)}if(n===t){le=null;break}var b=n.sibling;if(b!==null){b.return=n.return,le=b;break}le=n.return}}var z0=Math.ceil,Ea=V.ReactCurrentDispatcher,lc=V.ReactCurrentOwner,sr=V.ReactCurrentBatchConfig,ze=0,mt=null,dt=null,xt=0,Kt=0,ki=ln(0),pt=0,Cs=null,Dn=0,Ca=0,uc=0,Ps=null,Ut=null,cc=0,bi=1/0,Vr=null,Pa=!1,dc=null,pn=null,Ta=!1,gn=null,Ra=0,Ts=0,fc=null,Na=-1,Ia=0;function jt(){return(ze&6)!==0?at():Na!==-1?Na:Na=at()}function vn(t){return(t.mode&1)===0?1:(ze&2)!==0&&xt!==0?xt&-xt:k0.transition!==null?(Ia===0&&(Ia=yf()),Ia):(t=We,t!==0||(t=window.event,t=t===void 0?16:Tf(t.type)),t)}function _r(t,n,a,u){if(50<Ts)throw Ts=0,fc=null,Error(r(185));Ki(t,a,u),((ze&2)===0||t!==mt)&&(t===mt&&((ze&2)===0&&(Ca|=a),pt===4&&mn(t,xt)),Bt(t,u),a===1&&ze===0&&(n.mode&1)===0&&(bi=at()+500,sa&&cn()))}function Bt(t,n){var a=t.callbackNode;k_(t,n);var u=Do(t,t===mt?xt:0);if(u===0)a!==null&&vf(a),t.callbackNode=null,t.callbackPriority=0;else if(n=u&-u,t.callbackPriority!==n){if(a!=null&&vf(a),n===1)t.tag===0?x0(Tp.bind(null,t)):hh(Tp.bind(null,t)),m0(function(){(ze&6)===0&&cn()}),a=null;else{switch(wf(u)){case 1:a=Wl;break;case 4:a=mf;break;case 16:a=Fo;break;case 536870912:a=_f;break;default:a=Fo}a=Fp(a,Pp.bind(null,t))}t.callbackPriority=n,t.callbackNode=a}}function Pp(t,n){if(Na=-1,Ia=0,(ze&6)!==0)throw Error(r(327));var a=t.callbackNode;if(Si()&&t.callbackNode!==a)return null;var u=Do(t,t===mt?xt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||n)n=Oa(t,u);else{n=u;var f=ze;ze|=2;var h=Np();(mt!==t||xt!==n)&&(Vr=null,bi=at()+500,Bn(t,n));do try{B0();break}catch(b){Rp(t,b)}while(!0);Nu(),Ea.current=h,ze=f,dt!==null?n=0:(mt=null,xt=0,n=pt)}if(n!==0){if(n===2&&(f=Gl(t),f!==0&&(u=f,n=hc(t,f))),n===1)throw a=Cs,Bn(t,0),mn(t,u),Bt(t,at()),a;if(n===6)mn(t,u);else{if(f=t.current.alternate,(u&30)===0&&!D0(f)&&(n=Oa(t,u),n===2&&(h=Gl(t),h!==0&&(u=h,n=hc(t,h))),n===1))throw a=Cs,Bn(t,0),mn(t,u),Bt(t,at()),a;switch(t.finishedWork=f,t.finishedLanes=u,n){case 0:case 1:throw Error(r(345));case 2:Vn(t,Ut,Vr);break;case 3:if(mn(t,u),(u&130023424)===u&&(n=cc+500-at(),10<n)){if(Do(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=yu(Vn.bind(null,t,Ut,Vr),n);break}Vn(t,Ut,Vr);break;case 4:if(mn(t,u),(u&4194240)===u)break;for(n=t.eventTimes,f=-1;0<u;){var m=31-fr(u);h=1<<m,m=n[m],m>f&&(f=m),u&=~h}if(u=f,u=at()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*z0(u/1960))-u,10<u){t.timeoutHandle=yu(Vn.bind(null,t,Ut,Vr),u);break}Vn(t,Ut,Vr);break;case 5:Vn(t,Ut,Vr);break;default:throw Error(r(329))}}}return Bt(t,at()),t.callbackNode===a?Pp.bind(null,t):null}function hc(t,n){var a=Ps;return t.current.memoizedState.isDehydrated&&(Bn(t,n).flags|=256),t=Oa(t,n),t!==2&&(n=Ut,Ut=a,n!==null&&pc(n)),t}function pc(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function D0(t){for(var n=t;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var f=a[u],h=f.getSnapshot;f=f.value;try{if(!hr(h(),f))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mn(t,n){for(n&=~uc,n&=~Ca,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var a=31-fr(n),u=1<<a;t[a]=-1,n&=~u}}function Tp(t){if((ze&6)!==0)throw Error(r(327));Si();var n=Do(t,0);if((n&1)===0)return Bt(t,at()),null;var a=Oa(t,n);if(t.tag!==0&&a===2){var u=Gl(t);u!==0&&(n=u,a=hc(t,u))}if(a===1)throw a=Cs,Bn(t,0),mn(t,n),Bt(t,at()),a;if(a===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Vn(t,Ut,Vr),Bt(t,at()),null}function gc(t,n){var a=ze;ze|=1;try{return t(n)}finally{ze=a,ze===0&&(bi=at()+500,sa&&cn())}}function Un(t){gn!==null&&gn.tag===0&&(ze&6)===0&&Si();var n=ze;ze|=1;var a=sr.transition,u=We;try{if(sr.transition=null,We=1,t)return t()}finally{We=u,sr.transition=a,ze=n,(ze&6)===0&&cn()}}function vc(){Kt=ki.current,Je(ki)}function Bn(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,v0(a)),dt!==null)for(a=dt.return;a!==null;){var u=a;switch(Eu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&na();break;case 3:yi(),Je($t),Je(Et),$u();break;case 5:Fu(u);break;case 4:yi();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Iu(u.type._context);break;case 22:case 23:vc()}a=a.return}if(mt=t,dt=t=_n(t.current,null),xt=Kt=n,pt=0,Cs=null,uc=Ca=Dn=0,Ut=Ps=null,Ln!==null){for(n=0;n<Ln.length;n++)if(a=Ln[n],u=a.interleaved,u!==null){a.interleaved=null;var f=u.next,h=a.pending;if(h!==null){var m=h.next;h.next=f,u.next=m}a.pending=u}Ln=null}return t}function Rp(t,n){do{var a=dt;try{if(Nu(),ga.current=ya,va){for(var u=it.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}va=!1}if(zn=0,vt=ht=it=null,ws=!1,xs=0,lc.current=null,a===null||a.return===null){pt=1,Cs=n,dt=null;break}e:{var h=t,m=a.return,b=a,P=n;if(n=xt,b.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,B=b,H=B.tag;if((B.mode&1)===0&&(H===0||H===11||H===15)){var U=B.alternate;U?(B.updateQueue=U.updateQueue,B.memoizedState=U.memoizedState,B.lanes=U.lanes):(B.updateQueue=null,B.memoizedState=null)}var se=ep(m);if(se!==null){se.flags&=-257,tp(se,m,b,h,n),se.mode&1&&Jh(h,j,n),n=se,P=j;var de=n.updateQueue;if(de===null){var he=new Set;he.add(P),n.updateQueue=he}else de.add(P);break e}else{if((n&1)===0){Jh(h,j,n),mc();break e}P=Error(r(426))}}else if(rt&&b.mode&1){var lt=ep(m);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),tp(lt,m,b,h,n),Tu(wi(P,b));break e}}h=P=wi(P,b),pt!==4&&(pt=2),Ps===null?Ps=[h]:Ps.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var N=Xh(h,P,n);Sh(h,N);break e;case 1:b=P;var T=h.type,I=h.stateNode;if((h.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(pn===null||!pn.has(I)))){h.flags|=65536,n&=-n,h.lanes|=n;var G=Kh(h,b,n);Sh(h,G);break e}}h=h.return}while(h!==null)}Op(a)}catch(pe){n=pe,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function Np(){var t=Ea.current;return Ea.current=ya,t===null?ya:t}function mc(){(pt===0||pt===3||pt===2)&&(pt=4),mt===null||(Dn&268435455)===0&&(Ca&268435455)===0||mn(mt,xt)}function Oa(t,n){var a=ze;ze|=2;var u=Np();(mt!==t||xt!==n)&&(Vr=null,Bn(t,n));do try{U0();break}catch(f){Rp(t,f)}while(!0);if(Nu(),ze=a,Ea.current=u,dt!==null)throw Error(r(261));return mt=null,xt=0,pt}function U0(){for(;dt!==null;)Ip(dt)}function B0(){for(;dt!==null&&!h_();)Ip(dt)}function Ip(t){var n=Ap(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,n===null?Op(t):dt=n,lc.current=null}function Op(t){var n=t;do{var a=n.alternate;if(t=n.return,(n.flags&32768)===0){if(a=M0(a,n,Kt),a!==null){dt=a;return}}else{if(a=A0(a,n),a!==null){a.flags&=32767,dt=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,dt=null;return}}if(n=n.sibling,n!==null){dt=n;return}dt=n=t}while(n!==null);pt===0&&(pt=5)}function Vn(t,n,a){var u=We,f=sr.transition;try{sr.transition=null,We=1,V0(t,n,a,u)}finally{sr.transition=f,We=u}return null}function V0(t,n,a,u){do Si();while(gn!==null);if((ze&6)!==0)throw Error(r(327));a=t.finishedWork;var f=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var h=a.lanes|a.childLanes;if(b_(t,h),t===mt&&(dt=mt=null,xt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ta||(Ta=!0,Fp(Fo,function(){return Si(),null})),h=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||h){h=sr.transition,sr.transition=null;var m=We;We=1;var b=ze;ze|=4,lc.current=null,L0(t,a),kp(a,t),u0(mu),Vo=!!vu,mu=vu=null,t.current=a,$0(a),p_(),ze=b,We=m,sr.transition=h}else t.current=a;if(Ta&&(Ta=!1,gn=t,Ra=f),h=t.pendingLanes,h===0&&(pn=null),m_(a.stateNode),Bt(t,at()),n!==null)for(u=t.onRecoverableError,a=0;a<n.length;a++)f=n[a],u(f.value,{componentStack:f.stack,digest:f.digest});if(Pa)throw Pa=!1,t=dc,dc=null,t;return(Ra&1)!==0&&t.tag!==0&&Si(),h=t.pendingLanes,(h&1)!==0?t===fc?Ts++:(Ts=0,fc=t):Ts=0,cn(),null}function Si(){if(gn!==null){var t=wf(Ra),n=sr.transition,a=We;try{if(sr.transition=null,We=16>t?16:t,gn===null)var u=!1;else{if(t=gn,gn=null,Ra=0,(ze&6)!==0)throw Error(r(331));var f=ze;for(ze|=4,le=t.current;le!==null;){var h=le,m=h.child;if((le.flags&16)!==0){var b=h.deletions;if(b!==null){for(var P=0;P<b.length;P++){var j=b[P];for(le=j;le!==null;){var B=le;switch(B.tag){case 0:case 11:case 15:Es(8,B,h)}var H=B.child;if(H!==null)H.return=B,le=H;else for(;le!==null;){B=le;var U=B.sibling,se=B.return;if(mp(B),B===j){le=null;break}if(U!==null){U.return=se,le=U;break}le=se}}}var de=h.alternate;if(de!==null){var he=de.child;if(he!==null){de.child=null;do{var lt=he.sibling;he.sibling=null,he=lt}while(he!==null)}}le=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,le=m;else e:for(;le!==null;){if(h=le,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Es(9,h,h.return)}var N=h.sibling;if(N!==null){N.return=h.return,le=N;break e}le=h.return}}var T=t.current;for(le=T;le!==null;){m=le;var I=m.child;if((m.subtreeFlags&2064)!==0&&I!==null)I.return=m,le=I;else e:for(m=T;le!==null;){if(b=le,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:Sa(9,b)}}catch(pe){ot(b,b.return,pe)}if(b===m){le=null;break e}var G=b.sibling;if(G!==null){G.return=b.return,le=G;break e}le=b.return}}if(ze=f,cn(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Lo,t)}catch{}u=!0}return u}finally{We=a,sr.transition=n}}return!1}function jp(t,n,a){n=wi(a,n),n=Xh(t,n,1),t=fn(t,n,1),n=jt(),t!==null&&(Ki(t,1,n),Bt(t,n))}function ot(t,n,a){if(t.tag===3)jp(t,t,a);else for(;n!==null;){if(n.tag===3){jp(n,t,a);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pn===null||!pn.has(u))){t=wi(a,t),t=Kh(n,t,1),n=fn(n,t,1),t=jt(),n!==null&&(Ki(n,1,t),Bt(n,t));break}}n=n.return}}function H0(t,n,a){var u=t.pingCache;u!==null&&u.delete(n),n=jt(),t.pingedLanes|=t.suspendedLanes&a,mt===t&&(xt&a)===a&&(pt===4||pt===3&&(xt&130023424)===xt&&500>at()-cc?Bn(t,0):uc|=a),Bt(t,n)}function Mp(t,n){n===0&&((t.mode&1)===0?n=1:(n=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var a=jt();t=Dr(t,n),t!==null&&(Ki(t,n,a),Bt(t,a))}function W0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Mp(t,a)}function G0(t,n){var a=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(r(314))}u!==null&&u.delete(n),Mp(t,a)}var Ap;Ap=function(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps||$t.current)Dt=!0;else{if((t.lanes&a)===0&&(n.flags&128)===0)return Dt=!1,j0(t,n,a);Dt=(t.flags&131072)!==0}else Dt=!1,rt&&(n.flags&1048576)!==0&&ph(n,aa,n.index);switch(n.lanes=0,n.tag){case 2:var u=n.type;ka(t,n),t=n.pendingProps;var f=fi(n,Et.current);_i(n,a),f=Uu(null,n,u,t,f,a);var h=Bu();return n.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,zt(u)?(h=!0,ia(n)):h=!1,n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Mu(n),f.updater=wa,n.stateNode=f,f._reactInternals=n,qu(n,u,t,a),n=Ku(null,n,u,!0,h,a)):(n.tag=0,rt&&h&&Su(n),Ot(null,n,f,a),n=n.child),n;case 16:u=n.elementType;e:{switch(ka(t,n),t=n.pendingProps,f=u._init,u=f(u._payload),n.type=u,f=n.tag=q0(u),t=gr(u,t),f){case 0:n=Xu(null,n,u,t,a);break e;case 1:n=ap(null,n,u,t,a);break e;case 11:n=rp(null,n,u,t,a);break e;case 14:n=np(null,n,u,gr(u.type,t),a);break e}throw Error(r(306,u,""))}return n;case 0:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:gr(u,f),Xu(t,n,u,f,a);case 1:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:gr(u,f),ap(t,n,u,f,a);case 3:e:{if(lp(n),t===null)throw Error(r(387));u=n.pendingProps,h=n.memoizedState,f=h.element,bh(t,n),ha(n,u,null,a);var m=n.memoizedState;if(u=m.element,h.isDehydrated)if(h={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){f=wi(Error(r(423)),n),n=up(t,n,u,a,f);break e}else if(u!==f){f=wi(Error(r(424)),n),n=up(t,n,u,a,f);break e}else for(Xt=an(n.stateNode.containerInfo.firstChild),Qt=n,rt=!0,pr=null,a=xh(n,null,u,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(gi(),u===f){n=Br(t,n,a);break e}Ot(t,n,u,a)}n=n.child}return n;case 5:return Ch(n),t===null&&Pu(n),u=n.type,f=n.pendingProps,h=t!==null?t.memoizedProps:null,m=f.children,_u(u,f)?m=null:h!==null&&_u(u,h)&&(n.flags|=32),op(t,n),Ot(t,n,m,a),n.child;case 6:return t===null&&Pu(n),null;case 13:return cp(t,n,a);case 4:return Au(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=vi(n,null,u,a):Ot(t,n,u,a),n.child;case 11:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:gr(u,f),rp(t,n,u,f,a);case 7:return Ot(t,n,n.pendingProps,a),n.child;case 8:return Ot(t,n,n.pendingProps.children,a),n.child;case 12:return Ot(t,n,n.pendingProps.children,a),n.child;case 10:e:{if(u=n.type._context,f=n.pendingProps,h=n.memoizedProps,m=f.value,qe(ca,u._currentValue),u._currentValue=m,h!==null)if(hr(h.value,m)){if(h.children===f.children&&!$t.current){n=Br(t,n,a);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var b=h.dependencies;if(b!==null){m=h.child;for(var P=b.firstContext;P!==null;){if(P.context===u){if(h.tag===1){P=Ur(-1,a&-a),P.tag=2;var j=h.updateQueue;if(j!==null){j=j.shared;var B=j.pending;B===null?P.next=P:(P.next=B.next,B.next=P),j.pending=P}}h.lanes|=a,P=h.alternate,P!==null&&(P.lanes|=a),Ou(h.return,a,n),b.lanes|=a;break}P=P.next}}else if(h.tag===10)m=h.type===n.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(r(341));m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Ou(m,a,n),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===n){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}Ot(t,n,f.children,a),n=n.child}return n;case 9:return f=n.type,u=n.pendingProps.children,_i(n,a),f=nr(f),u=u(f),n.flags|=1,Ot(t,n,u,a),n.child;case 14:return u=n.type,f=gr(u,n.pendingProps),f=gr(u.type,f),np(t,n,u,f,a);case 15:return ip(t,n,n.type,n.pendingProps,a);case 17:return u=n.type,f=n.pendingProps,f=n.elementType===u?f:gr(u,f),ka(t,n),n.tag=1,zt(u)?(t=!0,ia(n)):t=!1,_i(n,a),Yh(n,u,f),qu(n,u,f,a),Ku(null,n,u,!0,t,a);case 19:return fp(t,n,a);case 22:return sp(t,n,a)}throw Error(r(156,n.tag))};function Fp(t,n){return gf(t,n)}function Z0(t,n,a,u){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,n,a,u){return new Z0(t,n,a,u)}function _c(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q0(t){if(typeof t=="function")return _c(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ae)return 11;if(t===Me)return 14}return 2}function _n(t,n){var a=t.alternate;return a===null?(a=or(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function ja(t,n,a,u,f,h){var m=2;if(u=t,typeof t=="function")_c(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case Z:return Hn(a.children,f,h,n);case Y:m=8,f|=8;break;case ke:return t=or(12,a,n,f|2),t.elementType=ke,t.lanes=h,t;case Oe:return t=or(13,a,n,f),t.elementType=Oe,t.lanes=h,t;case Fe:return t=or(19,a,n,f),t.elementType=Fe,t.lanes=h,t;case z:return Ma(a,f,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:m=10;break e;case X:m=9;break e;case Ae:m=11;break e;case Me:m=14;break e;case ie:m=16,u=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return n=or(m,a,n,f),n.elementType=t,n.type=u,n.lanes=h,n}function Hn(t,n,a,u){return t=or(7,t,u,n),t.lanes=a,t}function Ma(t,n,a,u){return t=or(22,t,u,n),t.elementType=z,t.lanes=a,t.stateNode={isHidden:!1},t}function yc(t,n,a){return t=or(6,t,null,n),t.lanes=a,t}function wc(t,n,a){return n=or(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Y0(t,n,a,u,f){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function xc(t,n,a,u,f,h,m,b,P){return t=new Y0(t,n,a,b,P),n===1?(n=1,h===!0&&(n|=8)):n=0,h=or(3,null,null,n),t.current=h,h.stateNode=t,h.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mu(h),t}function Q0(t,n,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:me,key:u==null?null:""+u,children:t,containerInfo:n,implementation:a}}function Lp(t){if(!t)return un;t=t._reactInternals;e:{if(On(t)!==t||t.tag!==1)throw Error(r(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(zt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(t.tag===1){var a=t.type;if(zt(a))return dh(t,a,n)}return n}function $p(t,n,a,u,f,h,m,b,P){return t=xc(a,u,!0,t,f,h,m,b,P),t.context=Lp(null),a=t.current,u=jt(),f=vn(a),h=Ur(u,f),h.callback=n??null,fn(a,h,f),t.current.lanes=f,Ki(t,f,u),Bt(t,u),t}function Aa(t,n,a,u){var f=n.current,h=jt(),m=vn(f);return a=Lp(a),n.context===null?n.context=a:n.pendingContext=a,n=Ur(h,m),n.payload={element:t},u=u===void 0?null:u,u!==null&&(n.callback=u),t=fn(f,n,m),t!==null&&(_r(t,f,m,h),fa(t,f,m)),m}function Fa(t){return t=t.current,t.child?(t.child.tag===5,t.child.stateNode):null}function zp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function kc(t,n){zp(t,n),(t=t.alternate)&&zp(t,n)}function X0(){return null}var Dp=typeof reportError=="function"?reportError:function(t){console.error(t)};function bc(t){this._internalRoot=t}La.prototype.render=bc.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));Aa(t,n,null,null)},La.prototype.unmount=bc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Un(function(){Aa(null,t,null,null)}),n[Fr]=null}};function La(t){this._internalRoot=t}La.prototype.unstable_scheduleHydration=function(t){if(t){var n=bf();t={blockedOn:null,target:t,priority:n};for(var a=0;a<nn.length&&n!==0&&n<nn[a].priority;a++);nn.splice(a,0,t),a===0&&Cf(t)}};function Sc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Up(){}function K0(t,n,a,u,f){if(f){if(typeof u=="function"){var h=u;u=function(){var j=Fa(m);h.call(j)}}var m=$p(n,u,t,0,null,!1,!1,"",Up);return t._reactRootContainer=m,t[Fr]=m.current,fs(t.nodeType===8?t.parentNode:t),Un(),m}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var b=u;u=function(){var j=Fa(P);b.call(j)}}var P=xc(t,0,!1,null,null,!1,!1,"",Up);return t._reactRootContainer=P,t[Fr]=P.current,fs(t.nodeType===8?t.parentNode:t),Un(function(){Aa(n,P,a,u)}),P}function za(t,n,a,u,f){var h=a._reactRootContainer;if(h){var m=h;if(typeof f=="function"){var b=f;f=function(){var P=Fa(m);b.call(P)}}Aa(n,m,t,f)}else m=K0(a,n,t,f,u);return Fa(m)}xf=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var a=Xi(n.pendingLanes);a!==0&&(ql(n,a|1),Bt(n,at()),(ze&6)===0&&(bi=at()+500,cn()))}break;case 13:Un(function(){var u=Dr(t,1);if(u!==null){var f=jt();_r(u,t,1,f)}}),kc(t,1)}},Yl=function(t){if(t.tag===13){var n=Dr(t,134217728);if(n!==null){var a=jt();_r(n,t,134217728,a)}kc(t,134217728)}},kf=function(t){if(t.tag===13){var n=vn(t),a=Dr(t,n);if(a!==null){var u=jt();_r(a,t,n,u)}kc(t,n)}},bf=function(){return We},Sf=function(t,n){var a=We;try{return We=t,n()}finally{We=a}},Ul=function(t,n,a){switch(n){case"input":if(De(t,a),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var u=a[n];if(u!==t&&u.form===t.form){var f=ra(u);if(!f)throw Error(r(90));Q(u),De(u,f)}}}break;case"textarea":Oo(t,a);break;case"select":n=a.value,n!=null&&dr(t,!!a.multiple,n,!1)}},lf=gc,uf=Un;var J0={usingClientEntryPoint:!1,Events:[gs,ci,ra,of,af,gc]},Rs={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ey={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hf(t),t===null?null:t.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||X0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{Lo=Da.inject(ey),Er=Da}catch{}}return Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0,Vt.createPortal=function(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sc(n))throw Error(r(200));return Q0(t,n,null,a)},Vt.createRoot=function(t,n){if(!Sc(t))throw Error(r(299));var a=!1,u="",f=Dp;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),n=xc(t,1,!1,null,null,a,!1,u,f),t[Fr]=n.current,fs(t.nodeType===8?t.parentNode:t),new bc(n)},Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=hf(n),t=t===null?null:t.stateNode,t},Vt.flushSync=function(t){return Un(t)},Vt.hydrate=function(t,n,a){if(!$a(n))throw Error(r(200));return za(null,t,n,!0,a)},Vt.hydrateRoot=function(t,n,a){if(!Sc(t))throw Error(r(405));var u=a!=null&&a.hydratedSources||null,f=!1,h="",m=Dp;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(m=a.onRecoverableError)),n=$p(n,null,t,1,a??null,f,!1,h,m),t[Fr]=n.current,fs(t),u)for(t=0;t<u.length;t++)a=u[t],f=a._getVersion,f=f(a._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[a,f]:n.mutableSourceEagerHydrationData.push(a,f);return new La(n)},Vt.render=function(t,n,a){if(!$a(n))throw Error(r(200));return za(null,t,n,!1,a)},Vt.unmountComponentAtNode=function(t){if(!$a(t))throw Error(r(40));return t._reactRootContainer?(Un(function(){za(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1},Vt.unstable_batchedUpdates=gc,Vt.unstable_renderSubtreeIntoContainer=function(t,n,a,u){if(!$a(a))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return za(t,n,a,!1,u)},Vt.version="18.3.1-next-f1338f8080-20240426",Vt}var Yp;function uy(){if(Yp)return Pc.exports;Yp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pc.exports=ly(),Pc.exports}var Qp;function cy(){if(Qp)return Ua;Qp=1;var s=uy();return Ua.createRoot=s.createRoot,Ua.hydrateRoot=s.hydrateRoot,Ua}var dy=cy();const fy=Ad(dy);var L=typeof window<"u"?window:void 0,St=typeof globalThis<"u"?globalThis:L;typeof self>"u"&&(St.self=St),typeof File>"u"&&(St.File=function(){});var _v=Array.prototype,Xp=_v.forEach,Kp=_v.indexOf,Jt=St?.navigator,re=St?.document,Wt=St?.location,Xc=St?.fetch,Kc=St!=null&&St.XMLHttpRequest&&"withCredentials"in new St.XMLHttpRequest?St.XMLHttpRequest:void 0,Jp=St?.AbortController,Ht=Jt?.userAgent,_e=L??{},Gr={DEBUG:!1,LIB_VERSION:"1.310.1"};function eg(s,e,r,i,o,l,c){try{var d=s[l](c),p=d.value}catch(g){return void r(g)}d.done?e(p):Promise.resolve(p).then(i,o)}function tg(s){return function(){var e=this,r=arguments;return new Promise((function(i,o){var l=s.apply(e,r);function c(p){eg(l,i,o,c,d,"next",p)}function d(p){eg(l,i,o,c,d,"throw",p)}c(void 0)}))}}function ue(){return ue=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},ue.apply(null,arguments)}function yv(s,e){if(s==null)return{};var r={};for(var i in s)if({}.hasOwnProperty.call(s,i)){if(e.indexOf(i)!==-1)continue;r[i]=s[i]}return r}var hy=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],rg=function(s,e){if(e===void 0&&(e=[]),!s)return!1;var r=s.toLowerCase();return hy.concat(e).some((i=>{var o=i.toLowerCase();return r.indexOf(o)!==-1}))},py=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function je(s,e){return s.indexOf(e)!==-1}var Pl=function(s){return s.trim()},Jc=function(s){return s.replace(/^\$/,"")},gy=Array.isArray,wv=Object.prototype,xv=wv.hasOwnProperty,Tl=wv.toString,He=gy||function(s){return Tl.call(s)==="[object Array]"},En=s=>typeof s=="function",yt=s=>s===Object(s)&&!He(s),Ri=s=>{if(yt(s)){for(var e in s)if(xv.call(s,e))return!1;return!0}return!1},K=s=>s===void 0,gt=s=>Tl.call(s)=="[object String]",ed=s=>gt(s)&&s.trim().length===0,Sr=s=>s===null,Ve=s=>K(s)||Sr(s),jr=s=>Tl.call(s)=="[object Number]",Kr=s=>Tl.call(s)==="[object Boolean]",vy=s=>s instanceof FormData,my=s=>je(py,s);function td(s){return s===null||typeof s!="object"}function rl(s,e){return Object.prototype.toString.call(s)==="[object "+e+"]"}function kv(s){return!K(Event)&&(function(e,r){try{return e instanceof r}catch{return!1}})(s,Event)}var _y=[!0,"true",1,"1","yes"],Nc=s=>je(_y,s),yy=[!1,"false",0,"0","no"];function Nr(s,e,r,i,o){return e>r&&(i.warn("min cannot be greater than max."),e=r),jr(s)?s>r?(i.warn(" cannot be  greater than max: "+r+". Using max value instead."),r):s<e?(i.warn(" cannot be less than min: "+e+". Using min value instead."),e):s:(i.warn(" must be a number. using max or fallback. max: "+r+", fallback: "+o),Nr(o||r,e,r,i))}class wy{constructor(e){this.t={},this.i=e.i,this.o=Nr(e.bucketSize,0,100,e.h),this.m=Nr(e.refillRate,0,this.o,e.h),this.$=Nr(e.refillInterval,0,864e5,e.h)}S(e,r){var i=r-e.lastAccess,o=Math.floor(i/this.$);if(o>0){var l=o*this.m;e.tokens=Math.min(e.tokens+l,this.o),e.lastAccess=e.lastAccess+o*this.$}}consumeRateLimit(e){var r,i=Date.now(),o=String(e),l=this.t[o];return l?this.S(l,i):(l={tokens:this.o,lastAccess:i},this.t[o]=l),l.tokens===0||(l.tokens--,l.tokens===0&&((r=this.i)==null||r.call(this,e)),l.tokens===0)}stop(){this.t={}}}var ar="Mobile",nl="iOS",Xr="Android",ro="Tablet",bv=Xr+" "+ro,Sv="iPad",Ev="Apple",Cv=Ev+" Watch",no="Safari",Mi="BlackBerry",Pv="Samsung",Tv=Pv+"Browser",Rv=Pv+" Internet",Qn="Chrome",xy=Qn+" OS",Nv=Qn+" "+nl,Ld="Internet Explorer",Iv=Ld+" "+ar,$d="Opera",ky=$d+" Mini",zd="Edge",Ov="Microsoft "+zd,Oi="Firefox",jv=Oi+" "+nl,io="Nintendo",so="PlayStation",ji="Xbox",Mv=Xr+" "+ar,Av=ar+" "+no,Vs="Windows",rd=Vs+" Phone",ng="Nokia",nd="Ouya",Fv="Generic",by=Fv+" "+ar.toLowerCase(),Lv=Fv+" "+ro.toLowerCase(),id="Konqueror",Mt="(\\d+(\\.\\d+)?)",Ic=new RegExp("Version/"+Mt),Sy=new RegExp(ji,"i"),Ey=new RegExp(so+" \\w+","i"),Cy=new RegExp(io+" \\w+","i"),Dd=new RegExp(Mi+"|PlayBook|BB10","i"),Py={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Ba,ig,Oc,Ty=(s,e)=>e&&je(e,Ev)||(function(r){return je(r,no)&&!je(r,Qn)&&!je(r,Xr)})(s),$v=function(s,e){return e=e||"",je(s," OPR/")&&je(s,"Mini")?ky:je(s," OPR/")?$d:Dd.test(s)?Mi:je(s,"IE"+ar)||je(s,"WPDesktop")?Iv:je(s,Tv)?Rv:je(s,zd)||je(s,"Edg/")?Ov:je(s,"FBIOS")?"Facebook "+ar:je(s,"UCWEB")||je(s,"UCBrowser")?"UC Browser":je(s,"CriOS")?Nv:je(s,"CrMo")||je(s,Qn)?Qn:je(s,Xr)&&je(s,no)?Mv:je(s,"FxiOS")?jv:je(s.toLowerCase(),id.toLowerCase())?id:Ty(s,e)?je(s,ar)?Av:no:je(s,Oi)?Oi:je(s,"MSIE")||je(s,"Trident/")?Ld:je(s,"Gecko")?Oi:""},Ry={[Iv]:[new RegExp("rv:"+Mt)],[Ov]:[new RegExp(zd+"?\\/"+Mt)],[Qn]:[new RegExp("("+Qn+"|CrMo)\\/"+Mt)],[Nv]:[new RegExp("CriOS\\/"+Mt)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+Mt)],[no]:[Ic],[Av]:[Ic],[$d]:[new RegExp("(Opera|OPR)\\/"+Mt)],[Oi]:[new RegExp(Oi+"\\/"+Mt)],[jv]:[new RegExp("FxiOS\\/"+Mt)],[id]:[new RegExp("Konqueror[:/]?"+Mt,"i")],[Mi]:[new RegExp(Mi+" "+Mt),Ic],[Mv]:[new RegExp("android\\s"+Mt,"i")],[Rv]:[new RegExp(Tv+"\\/"+Mt)],[Ld]:[new RegExp("(rv:|MSIE )"+Mt)],Mozilla:[new RegExp("rv:"+Mt)]},Ny=function(s,e){var r=$v(s,e),i=Ry[r];if(K(i))return null;for(var o=0;o<i.length;o++){var l=i[o],c=s.match(l);if(c)return parseFloat(c[c.length-2])}return null},sg=[[new RegExp(ji+"; "+ji+" (.*?)[);]","i"),s=>[ji,s&&s[1]||""]],[new RegExp(io,"i"),[io,""]],[new RegExp(so,"i"),[so,""]],[Dd,[Mi,""]],[new RegExp(Vs,"i"),(s,e)=>{if(/Phone/.test(e)||/WPDesktop/.test(e))return[rd,""];if(new RegExp(ar).test(e)&&!/IEMobile\b/.test(e))return[Vs+" "+ar,""];var r=/Windows NT ([0-9.]+)/i.exec(e);if(r&&r[1]){var i=r[1],o=Py[i]||"";return/arm/i.test(e)&&(o="RT"),[Vs,o]}return[Vs,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,s=>{if(s&&s[3]){var e=[s[3],s[4],s[5]||"0"];return[nl,e.join(".")]}return[nl,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,s=>{var e="";return s&&s.length>=3&&(e=K(s[2])?s[3]:s[2]),["watchOS",e]}],[new RegExp("("+Xr+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Xr+")","i"),s=>{if(s&&s[2]){var e=[s[2],s[3],s[4]||"0"];return[Xr,e.join(".")]}return[Xr,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,s=>{var e=["Mac OS X",""];if(s&&s[1]){var r=[s[1],s[2],s[3]||"0"];e[1]=r.join(".")}return e}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[xy,""]],[/Linux|debian/i,["Linux",""]]],og=function(s){return Cy.test(s)?io:Ey.test(s)?so:Sy.test(s)?ji:new RegExp(nd,"i").test(s)?nd:new RegExp("("+rd+"|WPDesktop)","i").test(s)?rd:/iPad/.test(s)?Sv:/iPod/.test(s)?"iPod Touch":/iPhone/.test(s)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(s)?Cv:Dd.test(s)?Mi:/(kobo)\s(ereader|touch)/i.test(s)?"Kobo":new RegExp(ng,"i").test(s)?ng:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(s)||/(kf[a-z]+)( bui|\)).+silk\//i.test(s)?"Kindle Fire":/(Android|ZTE)/i.test(s)?new RegExp(ar).test(s)&&!/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(s)||/pixel[\daxl ]{1,6}/i.test(s)&&!/pixel c/i.test(s)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(s)||/lmy47v/i.test(s)&&!/QTAQZ3/i.test(s)?Xr:bv:new RegExp("(pda|"+ar+")","i").test(s)?by:new RegExp(ro,"i").test(s)&&!new RegExp(ro+" pc","i").test(s)?Lv:""},Iy=s=>s instanceof Error;function Oy(s){var e=globalThis._posthogChunkIds;if(e){var r=Object.keys(e);return Oc&&r.length===ig||(ig=r.length,Oc=r.reduce(((i,o)=>{Ba||(Ba={});var l=Ba[o];if(l)i[l[0]]=l[1];else for(var c=s(o),d=c.length-1;d>=0;d--){var p=c[d],g=p?.filename,v=e[o];if(g&&v){i[g]=v,Ba[o]=[g,v];break}}return i}),{})),Oc}}class jy{constructor(e,r,i){i===void 0&&(i=[]),this.coercers=e,this.stackParser=r,this.modifiers=i}buildFromUnknown(e,r){r===void 0&&(r={});var i=r&&r.mechanism||{handled:!0,type:"generic"},o=this.buildCoercingContext(i,r,0).apply(e),l=this.buildParsingContext(),c=this.parseStacktrace(o,l);return{$exception_list:this.convertToExceptionList(c,i),$exception_level:"error"}}modifyFrames(e){var r=this;return tg((function*(){for(var i of e)i.stacktrace&&i.stacktrace.frames&&He(i.stacktrace.frames)&&(i.stacktrace.frames=yield r.applyModifiers(i.stacktrace.frames));return e}))()}coerceFallback(e){var r;return{type:"Error",value:"Unknown error",stack:(r=e.syntheticException)==null?void 0:r.stack,synthetic:!0}}parseStacktrace(e,r){var i,o;return e.cause!=null&&(i=this.parseStacktrace(e.cause,r)),e.stack!=""&&e.stack!=null&&(o=this.applyChunkIds(this.stackParser(e.stack,e.synthetic?1:0),r.chunkIdMap)),ue({},e,{cause:i,stack:o})}applyChunkIds(e,r){return e.map((i=>(i.filename&&r&&(i.chunk_id=r[i.filename]),i)))}applyCoercers(e,r){for(var i of this.coercers)if(i.match(e))return i.coerce(e,r);return this.coerceFallback(r)}applyModifiers(e){var r=this;return tg((function*(){var i=e;for(var o of r.modifiers)i=yield o(i);return i}))()}convertToExceptionList(e,r){var i,o,l,c={type:e.type,value:e.value,mechanism:{type:(i=r.type)!==null&&i!==void 0?i:"generic",handled:(o=r.handled)===null||o===void 0||o,synthetic:(l=e.synthetic)!==null&&l!==void 0&&l}};e.stack&&(c.stacktrace={type:"raw",frames:e.stack});var d=[c];return e.cause!=null&&d.push(...this.convertToExceptionList(e.cause,ue({},r,{handled:!0}))),d}buildParsingContext(){return{chunkIdMap:Oy(this.stackParser)}}buildCoercingContext(e,r,i){i===void 0&&(i=0);var o=(l,c)=>{if(c<=4){var d=this.buildCoercingContext(e,r,c);return this.applyCoercers(l,d)}};return ue({},r,{syntheticException:i==0?r.syntheticException:void 0,mechanism:e,apply:l=>o(l,i),next:l=>o(l,i+1)})}}var Ai="?";function sd(s,e,r,i,o){var l={platform:s,filename:e,function:r==="<anonymous>"?Ai:r,in_app:!0};return K(i)||(l.lineno=i),K(o)||(l.colno=o),l}var zv=(s,e)=>{var r=s.indexOf("safari-extension")!==-1,i=s.indexOf("safari-web-extension")!==-1;return r||i?[s.indexOf("@")!==-1?s.split("@")[0]:Ai,r?"safari-extension:"+e:"safari-web-extension:"+e]:[s,e]},My=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Ay=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Fy=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ly=(s,e)=>{var r=My.exec(s);if(r){var[,i,o,l]=r;return sd(e,i,Ai,+o,+l)}var c=Ay.exec(s);if(c){if(c[2]&&c[2].indexOf("eval")===0){var d=Fy.exec(c[2]);d&&(c[2]=d[1],c[3]=d[2],c[4]=d[3])}var[p,g]=zv(c[1]||Ai,c[2]);return sd(e,g,p,c[3]?+c[3]:void 0,c[4]?+c[4]:void 0)}},$y=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,zy=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dy=(s,e)=>{var r=$y.exec(s);if(r){if(r[3]&&r[3].indexOf(" > eval")>-1){var i=zy.exec(r[3]);i&&(r[1]=r[1]||"eval",r[3]=i[1],r[4]=i[2],r[5]="")}var o=r[3],l=r[1]||Ai;return[l,o]=zv(l,o),sd(e,o,l,r[4]?+r[4]:void 0,r[5]?+r[5]:void 0)}},ag=/\(error: (.*)\)/,lg=50;function Uy(s){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return function(o,l){l===void 0&&(l=0);for(var c=[],d=o.split(`
`),p=l;p<d.length;p++){var g=d[p];if(!(g.length>1024)){var v=ag.test(g)?g.replace(ag,"$1"):g;if(!v.match(/\S*Error: /)){for(var _ of r){var y=_(v,s);if(y){c.push(y);break}}if(c.length>=lg)break}}}return(function(w){if(!w.length)return[];var C=Array.from(w);return C.reverse(),C.slice(0,lg).map((k=>{return ue({},k,{filename:k.filename||(x=C,x[x.length-1]||{}).filename,function:k.function||Ai});var x}))})(c)}}class By{match(e){return this.isDOMException(e)||this.isDOMError(e)}coerce(e,r){var i=gt(e.stack);return{type:this.getType(e),value:this.getValue(e),stack:i?e.stack:void 0,cause:e.cause?r.next(e.cause):void 0,synthetic:!1}}getType(e){return this.isDOMError(e)?"DOMError":"DOMException"}getValue(e){var r=e.name||(this.isDOMError(e)?"DOMError":"DOMException");return e.message?r+": "+e.message:r}isDOMException(e){return rl(e,"DOMException")}isDOMError(e){return rl(e,"DOMError")}}class Vy{match(e){return(r=>r instanceof Error)(e)}coerce(e,r){return{type:this.getType(e),value:this.getMessage(e,r),stack:this.getStack(e),cause:e.cause?r.next(e.cause):void 0,synthetic:!1}}getType(e){return e.name||e.constructor.name}getMessage(e,r){var i=e.message;return i.error&&typeof i.error.message=="string"?String(i.error.message):String(i)}getStack(e){return e.stacktrace||e.stack||void 0}}class Hy{constructor(){}match(e){return rl(e,"ErrorEvent")&&e.error!=null}coerce(e,r){var i,o=r.apply(e.error);return o||{type:"ErrorEvent",value:e.message,stack:(i=r.syntheticException)==null?void 0:i.stack,synthetic:!0}}}var Wy=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class Gy{match(e){return typeof e=="string"}coerce(e,r){var i,[o,l]=this.getInfos(e);return{type:o??"Error",value:l??e,stack:(i=r.syntheticException)==null?void 0:i.stack,synthetic:!0}}getInfos(e){var r="Error",i=e,o=e.match(Wy);return o&&(r=o[1],i=o[2]),[r,i]}}var Zy=["fatal","error","warning","log","info","debug"];function Dv(s,e){e===void 0&&(e=40);var r=Object.keys(s);if(r.sort(),!r.length)return"[object has no keys]";for(var i=r.length;i>0;i--){var o=r.slice(0,i).join(", ");if(!(o.length>e))return i===r.length||o.length<=e?o:o.slice(0,e)+"..."}return""}class qy{match(e){return typeof e=="object"&&e!==null}coerce(e,r){var i,o=this.getErrorPropertyFromObject(e);return o?r.apply(o):{type:this.getType(e),value:this.getValue(e),stack:(i=r.syntheticException)==null?void 0:i.stack,level:this.isSeverityLevel(e.level)?e.level:"error",synthetic:!0}}getType(e){return kv(e)?e.constructor.name:"Error"}getValue(e){if("name"in e&&typeof e.name=="string"){var r="'"+e.name+"' captured as exception";return"message"in e&&typeof e.message=="string"&&(r+=" with message: '"+e.message+"'"),r}if("message"in e&&typeof e.message=="string")return e.message;var i=this.getObjectClassName(e);return(i&&i!=="Object"?"'"+i+"'":"Object")+" captured as exception with keys: "+Dv(e)}isSeverityLevel(e){return gt(e)&&!ed(e)&&Zy.indexOf(e)>=0}getErrorPropertyFromObject(e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(Iy(i))return i}}getObjectClassName(e){try{var r=Object.getPrototypeOf(e);return r?r.constructor.name:void 0}catch{return}}}class Yy{match(e){return kv(e)}coerce(e,r){var i,o=e.constructor.name;return{type:o,value:o+" captured as exception with keys: "+Dv(e),stack:(i=r.syntheticException)==null?void 0:i.stack,synthetic:!0}}}class Qy{match(e){return td(e)}coerce(e,r){var i;return{type:"Error",value:"Primitive value captured as exception: "+String(e),stack:(i=r.syntheticException)==null?void 0:i.stack,synthetic:!0}}}class Xy{match(e){return rl(e,"PromiseRejectionEvent")}coerce(e,r){var i,o=this.getUnhandledRejectionReason(e);return td(o)?{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(o),stack:(i=r.syntheticException)==null?void 0:i.stack,synthetic:!0}:r.apply(o)}getUnhandledRejectionReason(e){if(td(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}}var Uv=function(s,e){var{debugEnabled:r}=e===void 0?{}:e,i={k:function(o){if(L&&(Gr.DEBUG||_e.POSTHOG_DEBUG||r)&&!K(L.console)&&L.console){for(var l=("__rrweb_original__"in L.console[o])?L.console[o].__rrweb_original__:L.console[o],c=arguments.length,d=new Array(c>1?c-1:0),p=1;p<c;p++)d[p-1]=arguments[p];l(s,...d)}},info:function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];i.k("log",...l)},warn:function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];i.k("warn",...l)},error:function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];i.k("error",...l)},critical:function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];console.error(s,...l)},uninitializedWarning:o=>{i.error("You must initialize PostHog before calling "+o)},createLogger:(o,l)=>Uv(s+" "+o,l)};return i},ne=Uv("[PostHog.js]"),ct=ne.createLogger,Ky=ct("[ExternalScriptsLoader]"),ug=(s,e,r)=>{if(s.config.disable_external_dependency_loading)return Ky.warn(e+" was requested but loading of external scripts is disabled."),r("Loading of external scripts is disabled");var i=re?.querySelectorAll("script");if(i){for(var o,l=function(){if(i[c].src===e){var p=i[c];return p.__posthog_loading_callback_fired?{v:r()}:(p.addEventListener("load",(g=>{p.__posthog_loading_callback_fired=!0,r(void 0,g)})),p.onerror=g=>r(g),{v:void 0})}},c=0;c<i.length;c++)if(o=l())return o.v}var d=()=>{if(!re)return r("document not found");var p=re.createElement("script");if(p.type="text/javascript",p.crossOrigin="anonymous",p.src=e,p.onload=_=>{p.__posthog_loading_callback_fired=!0,r(void 0,_)},p.onerror=_=>r(_),s.config.prepare_external_dependency_script&&(p=s.config.prepare_external_dependency_script(p)),!p)return r("prepare_external_dependency_script returned null");var g,v=re.querySelectorAll("body > script");v.length>0?(g=v[0].parentNode)==null||g.insertBefore(p,v[0]):re.body.appendChild(p)};re!=null&&re.body?d():re?.addEventListener("DOMContentLoaded",d)};_e.__PosthogExtensions__=_e.__PosthogExtensions__||{},_e.__PosthogExtensions__.loadExternalDependency=(s,e,r)=>{var i="/static/"+e+".js?v="+s.version;if(e==="remote-config"&&(i="/array/"+s.config.token+"/config.js"),e==="toolbar"){var o=3e5;i=i+"&t="+Math.floor(Date.now()/o)*o}var l=s.requestRouter.endpointFor("assets",i);ug(s,l,r)},_e.__PosthogExtensions__.loadSiteApp=(s,e,r)=>{var i=s.requestRouter.endpointFor("api",e);ug(s,i,r)};var il={};function Cn(s,e,r){if(He(s)){if(Xp&&s.forEach===Xp)s.forEach(e,r);else if("length"in s&&s.length===+s.length){for(var i=0,o=s.length;i<o;i++)if(i in s&&e.call(r,s[i],i)===il)return}}}function Qe(s,e,r){if(!Ve(s)){if(He(s))return Cn(s,e,r);if(vy(s)){for(var i of s.entries())if(e.call(r,i[1],i[0])===il)return}else for(var o in s)if(xv.call(s,o)&&e.call(r,s[o],o)===il)return}}var ut=function(s){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Cn(r,(function(o){for(var l in o)o[l]!==void 0&&(s[l]=o[l])})),s},Ui=function(s){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return Cn(r,(function(o){Cn(o,(function(l){s.push(l)}))})),s};function Xa(s){for(var e=Object.keys(s),r=e.length,i=new Array(r);r--;)i[r]=[e[r],s[e[r]]];return i}var cg=function(s){try{return s()}catch{return}},Jy=function(s){return function(){try{for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return s.apply(this,r)}catch(o){ne.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),ne.critical(o)}}},Ud=function(s){var e={};return Qe(s,(function(r,i){(gt(r)&&r.length>0||jr(r))&&(e[i]=r)})),e};function ew(s,e){return r=s,i=l=>gt(l)&&!Sr(e)?l.slice(0,e):l,o=new Set,(function l(c,d){return c!==Object(c)?i?i(c,d):c:o.has(c)?void 0:(o.add(c),He(c)?(p=[],Cn(c,(g=>{p.push(l(g))}))):(p={},Qe(c,((g,v)=>{o.has(g)||(p[v]=l(g,v))}))),p);var p})(r);var r,i,o}var tw=["herokuapp.com","vercel.app","netlify.app"];function rw(s){var e=s?.hostname;if(!gt(e))return!1;var r=e.split(".").slice(-2).join(".");for(var i of tw)if(r===i)return!1;return!0}function Bv(s,e){for(var r=0;r<s.length;r++)if(e(s[r]))return s[r]}function ft(s,e,r,i){var{capture:o=!1,passive:l=!0}=i??{};s?.addEventListener(e,r,{capture:o,passive:l})}var Vv="$people_distinct_id",Hs="__alias",Ws="__timers",dg="$autocapture_disabled_server_side",od="$heatmaps_enabled_server_side",fg="$exception_capture_enabled_server_side",ad="$error_tracking_suppression_rules",hg="$error_tracking_capture_extension_exceptions",pg="$web_vitals_enabled_server_side",Hv="$dead_clicks_enabled_server_side",gg="$product_tours_enabled_server_side",vg="$web_vitals_allowed_metrics",jc="$session_recording_remote_config",sl="$sesid",Wv="$session_is_sampled",Ni="$enabled_feature_flags",Gs="$early_access_features",ld="$feature_flag_details",Zs="$stored_person_properties",qn="$stored_group_properties",ud="$surveys",ol="$flag_call_reported",Zr="$user_state",cd="$client_session_props",dd="$capture_rate_limit",fd="$initial_campaign_params",hd="$initial_referrer_info",al="$initial_person_info",ll="$epp",Gv="__POSTHOG_TOOLBAR__",Is="$posthog_cookieless",nw=[Vv,Hs,"__cmpns",Ws,"$session_recording_enabled_server_side",od,sl,Ni,ad,Zr,Gs,ld,qn,Zs,ud,ol,cd,dd,fd,hd,ll,al,"$conversations_widget_session_id","$conversations_ticket_id","$conversations_widget_state","$conversations_user_traits"];function mg(s){return s instanceof Element&&(s.id===Gv||!(s.closest==null||!s.closest(".toolbar-global-fade-container")))}function Rl(s){return!!s&&s.nodeType===1}function Pn(s,e){return!!s&&!!s.tagName&&s.tagName.toLowerCase()===e.toLowerCase()}function Zv(s){return!!s&&s.nodeType===3}function qv(s){return!!s&&s.nodeType===11}function Bd(s){return s?Pl(s).split(/\s+/):[]}function _g(s){var e=L?.location.href;return!!(e&&s&&s.some((r=>e.match(r))))}function ul(s){var e="";switch(typeof s.className){case"string":e=s.className;break;case"object":e=(s.className&&"baseVal"in s.className?s.className.baseVal:null)||s.getAttribute("class")||"";break;default:e=""}return Bd(e)}function Yv(s){return Ve(s)?null:Pl(s).split(/(\s+)/).filter((e=>oo(e))).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function To(s){var e="";return pd(s)&&!em(s)&&s.childNodes&&s.childNodes.length&&Qe(s.childNodes,(function(r){var i;Zv(r)&&r.textContent&&(e+=(i=Yv(r.textContent))!==null&&i!==void 0?i:"")})),Pl(e)}function Qv(s){return K(s.target)?s.srcElement||null:(e=s.target)!=null&&e.shadowRoot?s.composedPath()[0]||null:s.target||null;var e}var Vd=["a","button","form","input","select","textarea","label"];function Xv(s,e){if(K(e))return!0;var r,i=function(l){if(e.some((c=>l.matches(c))))return{v:!0}};for(var o of s)if(r=i(o))return r.v;return!1}function Kv(s){var e=s.parentNode;return!(!e||!Rl(e))&&e}var iw=["next","previous","prev",">","<"],yg=10,wg=[".ph-no-rageclick",".ph-no-capture"];function sw(s,e){if(!L||Hd(s))return!1;var r,i,o;if(Kr(e)?(r=!!e&&wg,i=void 0):(r=(o=e?.css_selector_ignorelist)!==null&&o!==void 0?o:wg,i=e?.content_ignorelist),r===!1)return!1;var{targetElementList:l}=Jv(s,!1);return!(function(c,d){if(c===!1||K(c))return!1;var p;if(c===!0)p=iw;else{if(!He(c))return!1;if(c.length>yg)return ne.error("[PostHog] content_ignorelist array cannot exceed "+yg+" items. Use css_selector_ignorelist for more complex matching."),!1;p=c.map((g=>g.toLowerCase()))}return d.some((g=>{var{safeText:v,ariaLabel:_}=g;return p.some((y=>v.includes(y)||_.includes(y)))}))})(i,l.map((c=>{var d;return{safeText:To(c).toLowerCase(),ariaLabel:((d=c.getAttribute("aria-label"))==null?void 0:d.toLowerCase().trim())||""}})))&&!Xv(l,r)}var Hd=s=>!s||Pn(s,"html")||!Rl(s),Jv=(s,e)=>{if(!L||Hd(s))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,i=[s],o=s;o.parentNode&&!Pn(o,"body");)if(qv(o.parentNode))i.push(o.parentNode.host),o=o.parentNode.host;else{var l=Kv(o);if(!l)break;if(e||Vd.indexOf(l.tagName.toLowerCase())>-1)r=!0;else{var c=L.getComputedStyle(l);c&&c.getPropertyValue("cursor")==="pointer"&&(r=!0)}i.push(l),o=l}return{parentIsUsefulElement:r,targetElementList:i}};function ow(s,e,r,i,o){var l,c,d,p;if(r===void 0&&(r=void 0),!L||Hd(s)||(l=r)!=null&&l.url_allowlist&&!_g(r.url_allowlist)||(c=r)!=null&&c.url_ignorelist&&_g(r.url_ignorelist))return!1;if((d=r)!=null&&d.dom_event_allowlist){var g=r.dom_event_allowlist;if(g&&!g.some((C=>e.type===C)))return!1}var{parentIsUsefulElement:v,targetElementList:_}=Jv(s,i);if(!(function(C,k){var x=k?.element_allowlist;if(K(x))return!0;var R,M=function(V){if(x.some((J=>V.tagName.toLowerCase()===J)))return{v:!0}};for(var D of C)if(R=M(D))return R.v;return!1})(_,r)||!Xv(_,(p=r)==null?void 0:p.css_selector_allowlist))return!1;var y=L.getComputedStyle(s);if(y&&y.getPropertyValue("cursor")==="pointer"&&e.type==="click")return!0;var w=s.tagName.toLowerCase();switch(w){case"html":return!1;case"form":return(o||["submit"]).indexOf(e.type)>=0;case"input":case"select":case"textarea":return(o||["change","click"]).indexOf(e.type)>=0;default:return v?(o||["click"]).indexOf(e.type)>=0:(o||["click"]).indexOf(e.type)>=0&&(Vd.indexOf(w)>-1||s.getAttribute("contenteditable")==="true")}}function pd(s){for(var e=s;e.parentNode&&!Pn(e,"body");e=e.parentNode){var r=ul(e);if(je(r,"ph-sensitive")||je(r,"ph-no-capture"))return!1}if(je(ul(s),"ph-include"))return!0;var i=s.type||"";if(gt(i))switch(i.toLowerCase()){case"hidden":case"password":return!1}var o=s.name||s.id||"";return!(gt(o)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(o.replace(/[^a-zA-Z0-9]/g,"")))}function em(s){return!!(Pn(s,"input")&&!["button","checkbox","submit","reset"].includes(s.type)||Pn(s,"select")||Pn(s,"textarea")||s.getAttribute("contenteditable")==="true")}var tm="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",aw=new RegExp("^(?:"+tm+")$"),lw=new RegExp(tm),rm="\\d{3}-?\\d{2}-?\\d{4}",uw=new RegExp("^("+rm+")$"),cw=new RegExp("("+rm+")");function oo(s,e){return e===void 0&&(e=!0),!(Ve(s)||gt(s)&&(s=Pl(s),(e?aw:lw).test((s||"").replace(/[- ]/g,""))||(e?uw:cw).test(s)))}function nm(s){var e=To(s);return oo(e=(e+" "+im(s)).trim())?e:""}function im(s){var e="";return s&&s.childNodes&&s.childNodes.length&&Qe(s.childNodes,(function(r){var i;if(r&&((i=r.tagName)==null?void 0:i.toLowerCase())==="span")try{var o=To(r);e=(e+" "+o).trim(),r.childNodes&&r.childNodes.length&&(e=(e+" "+im(r)).trim())}catch(l){ne.error("[AutoCapture]",l)}})),e}function dw(s){return(function(e){var r=e.map((i=>{var o,l,c="";if(i.tag_name&&(c+=i.tag_name),i.attr_class)for(var d of(i.attr_class.sort(),i.attr_class))c+="."+d.replace(/"/g,"");var p=ue({},i.text?{text:i.text}:{},{"nth-child":(o=i.nth_child)!==null&&o!==void 0?o:0,"nth-of-type":(l=i.nth_of_type)!==null&&l!==void 0?l:0},i.href?{href:i.href}:{},i.attr_id?{attr_id:i.attr_id}:{},i.attributes),g={};return Xa(p).sort(((v,_)=>{var[y]=v,[w]=_;return y.localeCompare(w)})).forEach((v=>{var[_,y]=v;return g[xg(_.toString())]=xg(y.toString())})),c+=":",c+=Xa(g).map((v=>{var[_,y]=v;return _+'="'+y+'"'})).join("")}));return r.join(";")})((function(e){return e.map((r=>{var i,o,l={text:(i=r.$el_text)==null?void 0:i.slice(0,400),tag_name:r.tag_name,href:(o=r.attr__href)==null?void 0:o.slice(0,2048),attr_class:fw(r),attr_id:r.attr__id,nth_child:r.nth_child,nth_of_type:r.nth_of_type,attributes:{}};return Xa(r).filter((c=>{var[d]=c;return d.indexOf("attr__")===0})).forEach((c=>{var[d,p]=c;return l.attributes[d]=p})),l}))})(s))}function xg(s){return s.replace(/"|\\"/g,'\\"')}function fw(s){var e=s.attr__class;return e?He(e)?e:Bd(e):void 0}class sm{constructor(e){this.disabled=e===!1;var r=yt(e)?e:{};this.thresholdPx=r.threshold_px||30,this.timeoutMs=r.timeout_ms||1e3,this.clickCount=r.click_count||3,this.clicks=[]}isRageClick(e,r,i){if(this.disabled)return!1;var o=this.clicks[this.clicks.length-1];if(o&&Math.abs(e-o.x)+Math.abs(r-o.y)<this.thresholdPx&&i-o.timestamp<this.timeoutMs){if(this.clicks.push({x:e,y:r,timestamp:i}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:e,y:r,timestamp:i}];return!1}}var Mc="$copy_autocapture",Qr=(function(s){return s.GZipJS="gzip-js",s.Base64="base64",s})({}),cl=s=>{var e=re?.createElement("a");return K(e)?null:(e.href=s,e)},hw=function(s,e){var r,i;e===void 0&&(e="&");var o=[];return Qe(s,(function(l,c){K(l)||K(c)||c==="undefined"||(r=encodeURIComponent((d=>d instanceof File)(l)?l.name:l.toString()),i=encodeURIComponent(c),o[o.length]=i+"="+r)})),o.join(e)},dl=function(s,e){for(var r,i=((s.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),o=0;o<i.length;o++){var l=i[o].split("=");if(l[0]===e){r=l;break}}if(!He(r)||r.length<2)return"";var c=r[1];try{c=decodeURIComponent(c)}catch{ne.error("Skipping decoding for malformed query param: "+c)}return c.replace(/\+/g," ")},Ro=function(s,e,r){if(!s||!e||!e.length)return s;for(var i=s.split("#"),o=i[0]||"",l=i[1],c=o.split("?"),d=c[1],p=c[0],g=(d||"").split("&"),v=[],_=0;_<g.length;_++){var y=g[_].split("=");He(y)&&(e.includes(y[0])?v.push(y[0]+"="+r):v.push(g[_]))}var w=p;return d!=null&&(w+="?"+v.join("&")),l!=null&&(w+="#"+l),w},fl=function(s,e){var r=s.match(new RegExp(e+"=([^&]*)"));return r?r[1]:null},kg=ct("[AutoCapture]");function Ac(s,e){return e.length>s?e.slice(0,s)+"...":e}function pw(s){if(s.previousElementSibling)return s.previousElementSibling;var e=s;do e=e.previousSibling;while(e&&!Rl(e));return e}function gw(s,e,r,i){var o=s.tagName.toLowerCase(),l={tag_name:o};Vd.indexOf(o)>-1&&!r&&(o.toLowerCase()==="a"||o.toLowerCase()==="button"?l.$el_text=Ac(1024,nm(s)):l.$el_text=Ac(1024,To(s)));var c=ul(s);c.length>0&&(l.classes=c.filter((function(v){return v!==""}))),Qe(s.attributes,(function(v){var _;if((!em(s)||["name","id","class","aria-label"].indexOf(v.name)!==-1)&&(i==null||!i.includes(v.name))&&!e&&oo(v.value)&&(_=v.name,!gt(_)||_.substring(0,10)!=="_ngcontent"&&_.substring(0,7)!=="_nghost")){var y=v.value;v.name==="class"&&(y=Bd(y).join(" ")),l["attr__"+v.name]=Ac(1024,y)}}));for(var d=1,p=1,g=s;g=pw(g);)d++,g.tagName===s.tagName&&p++;return l.nth_child=d,l.nth_of_type=p,l}function vw(s,e){for(var r,i,{e:o,maskAllElementAttributes:l,maskAllText:c,elementAttributeIgnoreList:d,elementsChainAsString:p}=e,g=[s],v=s;v.parentNode&&!Pn(v,"body");)qv(v.parentNode)?(g.push(v.parentNode.host),v=v.parentNode.host):(g.push(v.parentNode),v=v.parentNode);var _,y=[],w={},C=!1,k=!1;if(Qe(g,(V=>{var J=pd(V);V.tagName.toLowerCase()==="a"&&(C=V.getAttribute("href"),C=J&&C&&oo(C)&&C),je(ul(V),"ph-no-capture")&&(k=!0),y.push(gw(V,l,c,d));var me=(function(Z){if(!pd(Z))return{};var Y={};return Qe(Z.attributes,(function(ke){if(ke.name&&ke.name.indexOf("data-ph-capture-attribute")===0){var be=ke.name.replace("data-ph-capture-attribute-",""),X=ke.value;be&&X&&oo(X)&&(Y[be]=X)}})),Y})(V);ut(w,me)})),k)return{props:{},explicitNoCapture:k};if(c||(s.tagName.toLowerCase()==="a"||s.tagName.toLowerCase()==="button"?y[0].$el_text=nm(s):y[0].$el_text=To(s)),C){var x,R;y[0].attr__href=C;var M=(x=cl(C))==null?void 0:x.host,D=L==null||(R=L.location)==null?void 0:R.host;M&&D&&M!==D&&(_=C)}return{props:ut({$event_type:o.type,$ce_version:1},p?{}:{$elements:y},{$elements_chain:dw(y)},(r=y[0])!=null&&r.$el_text?{$el_text:(i=y[0])==null?void 0:i.$el_text}:{},_&&o.type==="click"?{$external_click_url:_}:{},w)}}class mw{constructor(e){this.P=!1,this.T=null,this.I=!1,this.instance=e,this.rageclicks=new sm(e.config.rageclick),this.C=null}get R(){var e,r,i=yt(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=(e=i.url_allowlist)==null?void 0:e.map((o=>new RegExp(o))),i.url_ignorelist=(r=i.url_ignorelist)==null?void 0:r.map((o=>new RegExp(o))),i}F(){if(this.isBrowserSupported()){if(L&&re){var e=i=>{i=i||L?.event;try{this.M(i)}catch(o){kg.error("Failed to capture event",o)}};if(ft(re,"submit",e,{capture:!0}),ft(re,"change",e,{capture:!0}),ft(re,"click",e,{capture:!0}),this.R.capture_copied_text){var r=i=>{i=i||L?.event,this.M(i,Mc)};ft(re,"copy",r,{capture:!0}),ft(re,"cut",r,{capture:!0})}}}else kg.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.P&&(this.F(),this.P=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.I=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[dg]:!!e.autocapture_opt_out}),this.T=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.C=e}getElementSelectors(e){var r,i=[];return(r=this.C)==null||r.forEach((o=>{var l=re?.querySelectorAll(o);l?.forEach((c=>{e===c&&i.push(o)}))})),i}get isEnabled(){var e,r,i=(e=this.instance.persistence)==null?void 0:e.props[dg],o=this.T;if(Sr(o)&&!Kr(i)&&!this.instance.O())return!1;var l=(r=this.T)!==null&&r!==void 0?r:!!i;return!!this.instance.config.autocapture&&!l}M(e,r){if(r===void 0&&(r="$autocapture"),this.isEnabled){var i,o=Qv(e);Zv(o)&&(o=o.parentNode||null),r==="$autocapture"&&e.type==="click"&&e instanceof MouseEvent&&this.instance.config.rageclick&&(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,e.timeStamp||new Date().getTime())&&sw(o,this.instance.config.rageclick)&&this.M(e,"$rageclick");var l=r===Mc;if(o&&ow(o,e,this.R,l,l?["copy","cut"]:void 0)){var{props:c,explicitNoCapture:d}=vw(o,{e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.R.element_attribute_ignorelist,elementsChainAsString:this.I});if(d)return!1;var p=this.getElementSelectors(o);if(p&&p.length>0&&(c.$element_selectors=p),r===Mc){var g,v=Yv(L==null||(g=L.getSelection())==null?void 0:g.toString()),_=e.type||"clipboard";if(!v)return!1;c.$selected_content=v,c.$copy_type=_}return this.instance.capture(r,c),!0}}}isBrowserSupported(){return En(re?.querySelectorAll)}}Math.trunc||(Math.trunc=function(s){return s<0?Math.ceil(s):Math.floor(s)}),Number.isInteger||(Number.isInteger=function(s){return jr(s)&&isFinite(s)&&Math.floor(s)===s});var bg="0123456789abcdef";class hl{constructor(e){if(this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(e,r,i,o){if(!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(i)||!Number.isInteger(o)||e<0||r<0||i<0||o<0||e>0xffffffffffff||r>4095||i>1073741823||o>4294967295)throw new RangeError("invalid field value");var l=new Uint8Array(16);return l[0]=e/Math.pow(2,40),l[1]=e/Math.pow(2,32),l[2]=e/Math.pow(2,24),l[3]=e/Math.pow(2,16),l[4]=e/Math.pow(2,8),l[5]=e,l[6]=112|r>>>8,l[7]=r,l[8]=128|i>>>24,l[9]=i>>>16,l[10]=i>>>8,l[11]=i,l[12]=o>>>24,l[13]=o>>>16,l[14]=o>>>8,l[15]=o,new hl(l)}toString(){for(var e="",r=0;r<this.bytes.length;r++)e=e+bg.charAt(this.bytes[r]>>>4)+bg.charAt(15&this.bytes[r]),r!==3&&r!==5&&r!==7&&r!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}clone(){return new hl(this.bytes.slice(0))}equals(e){return this.compareTo(e)===0}compareTo(e){for(var r=0;r<16;r++){var i=this.bytes[r]-e.bytes[r];if(i!==0)return Math.sign(i)}return 0}}class _w{constructor(){this.A=0,this.D=0,this.j=new yw}generate(){var e=this.generateOrAbort();if(K(e)){this.A=0;var r=this.generateOrAbort();if(K(r))throw new Error("Could not generate UUID after timestamp reset");return r}return e}generateOrAbort(){var e=Date.now();if(e>this.A)this.A=e,this.L();else{if(!(e+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return hl.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var Sg,om=s=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<s.length;e++)s[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return s};L&&!K(L.crypto)&&crypto.getRandomValues&&(om=s=>crypto.getRandomValues(s));class yw{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(om(this.N),this.U=0),this.N[this.U++]}}var Sn=()=>ww().toString(),ww=()=>(Sg||(Sg=new _w)).generate(),Os="",xw=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function kw(s,e){if(e){var r=(function(o,l){if(l===void 0&&(l=re),Os)return Os;if(!l||["localhost","127.0.0.1"].includes(o))return"";for(var c=o.split("."),d=Math.min(c.length,8),p="dmn_chk_"+Sn();!Os&&d--;){var g=c.slice(d).join("."),v=p+"=1;domain=."+g+";path=/";l.cookie=v+";max-age=3",l.cookie.includes(p)&&(l.cookie=v+";max-age=0",Os=g)}return Os})(s);if(!r){var i=(o=>{var l=o.match(xw);return l?l[0]:""})(s);i!==r&&ne.info("Warning: cookie subdomain discovery mismatch",i,r),r=i}return r?"; domain=."+r:""}return""}var Ir={H:()=>!!re,B:function(s){ne.error("cookieStore error: "+s)},q:function(s){if(re){try{for(var e=s+"=",r=re.cookie.split(";").filter((l=>l.length)),i=0;i<r.length;i++){for(var o=r[i];o.charAt(0)==" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return decodeURIComponent(o.substring(e.length,o.length))}}catch{}return null}},W:function(s){var e;try{e=JSON.parse(Ir.q(s))||{}}catch{}return e},G:function(s,e,r,i,o){if(re)try{var l="",c="",d=kw(re.location.hostname,i);if(r){var p=new Date;p.setTime(p.getTime()+24*r*60*60*1e3),l="; expires="+p.toUTCString()}o&&(c="; secure");var g=s+"="+encodeURIComponent(JSON.stringify(e))+l+"; SameSite=Lax; path=/"+d+c;return g.length>3686.4&&ne.warn("cookieStore warning: large cookie, len="+g.length),re.cookie=g,g}catch{return}},V:function(s,e){if(re!=null&&re.cookie)try{Ir.G(s,"",-1,e)}catch{return}}},Fc=null,st={H:function(){if(!Sr(Fc))return Fc;var s=!0;if(K(L))s=!1;else try{var e="__mplssupport__";st.G(e,"xyz"),st.q(e)!=='"xyz"'&&(s=!1),st.V(e)}catch{s=!1}return s||ne.error("localStorage unsupported; falling back to cookie store"),Fc=s,s},B:function(s){ne.error("localStorage error: "+s)},q:function(s){try{return L?.localStorage.getItem(s)}catch(e){st.B(e)}return null},W:function(s){try{return JSON.parse(st.q(s))||{}}catch{}return null},G:function(s,e){try{L?.localStorage.setItem(s,JSON.stringify(e))}catch(r){st.B(r)}},V:function(s){try{L?.localStorage.removeItem(s)}catch(e){st.B(e)}}},bw=["distinct_id",sl,Wv,ll,al],Va=ue({},st,{W:function(s){try{var e={};try{e=Ir.W(s)||{}}catch{}var r=ut(e,JSON.parse(st.q(s)||"{}"));return st.G(s,r),r}catch{}return null},G:function(s,e,r,i,o,l){try{st.G(s,e,void 0,void 0,l);var c={};bw.forEach((d=>{e[d]&&(c[d]=e[d])})),Object.keys(c).length&&Ir.G(s,c,r,i,o,l)}catch(d){st.B(d)}},V:function(s,e){try{L?.localStorage.removeItem(s),Ir.V(s,e)}catch(r){st.B(r)}}}),Ha={},Sw={H:function(){return!0},B:function(s){ne.error("memoryStorage error: "+s)},q:function(s){return Ha[s]||null},W:function(s){return Ha[s]||null},G:function(s,e){Ha[s]=e},V:function(s){delete Ha[s]}},Wn=null,bt={H:function(){if(!Sr(Wn))return Wn;if(Wn=!0,K(L))Wn=!1;else try{var s="__support__";bt.G(s,"xyz"),bt.q(s)!=='"xyz"'&&(Wn=!1),bt.V(s)}catch{Wn=!1}return Wn},B:function(s){ne.error("sessionStorage error: ",s)},q:function(s){try{return L?.sessionStorage.getItem(s)}catch(e){bt.B(e)}return null},W:function(s){try{return JSON.parse(bt.q(s))||null}catch{}return null},G:function(s,e){try{L?.sessionStorage.setItem(s,JSON.stringify(e))}catch(r){bt.B(r)}},V:function(s){try{L?.sessionStorage.removeItem(s)}catch(e){bt.B(e)}}},qr=(function(s){return s[s.PENDING=-1]="PENDING",s[s.DENIED=0]="DENIED",s[s.GRANTED=1]="GRANTED",s})({});class Ew{constructor(e){this._instance=e}get R(){return this._instance.config}get consent(){return this.J()?qr.DENIED:this.K}isOptedOut(){return this.R.cookieless_mode==="always"||this.consent===qr.DENIED||this.consent===qr.PENDING&&(this.R.opt_out_capturing_by_default||this.R.cookieless_mode==="on_reject")}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===qr.DENIED}optInOut(e){this.Y.G(this.X,e?1:0,this.R.cookie_expiration,this.R.cross_subdomain_cookie,this.R.secure_cookie)}reset(){this.Y.V(this.X,this.R.cross_subdomain_cookie)}get X(){var{token:e,opt_out_capturing_cookie_prefix:r,consent_persistence_name:i}=this._instance.config;return i||(r?r+e:"__ph_opt_in_out_"+e)}get K(){var e=this.Y.q(this.X);return Nc(e)?qr.GRANTED:je(yy,e)?qr.DENIED:qr.PENDING}get Y(){if(!this.Z){var e=this.R.opt_out_capturing_persistence_type;this.Z=e==="localStorage"?st:Ir;var r=e==="localStorage"?Ir:st;r.q(this.X)&&(this.Z.q(this.X)||this.optInOut(Nc(r.q(this.X))),r.V(this.X,this.R.cross_subdomain_cookie))}return this.Z}J(){return!!this.R.respect_dnt&&!!Bv([Jt?.doNotTrack,Jt?.msDoNotTrack,_e.doNotTrack],(e=>Nc(e)))}}var Wa=ct("[Dead Clicks]"),Cw=()=>!0,Pw=s=>{var e,r=!((e=s.instance.persistence)==null||!e.get_property(Hv)),i=s.instance.config.capture_dead_clicks;return Kr(i)?i:!!yt(i)||r};class am{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(e,r,i){this.instance=e,this.isEnabled=r,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[Hv]:e?.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.initDeadClicksAutocapture&&e(),(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this.instance,"dead-clicks-autocapture",(o=>{o?Wa.error("failed to load script",o):e()}))}et(){var e;if(re){if(!this.tt&&(e=_e.__PosthogExtensions__)!=null&&e.initDeadClicksAutocapture){var r=yt(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};r.__onCapture=this.onCapture,this.tt=_e.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,r),this.tt.start(re),Wa.info("starting...")}}else Wa.error("`document` not found. Cannot start.")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Wa.info("stopping..."))}}var js=ct("[ExceptionAutocapture]");class Tw{constructor(e){var r,i,o;this.rt=()=>{var l;if(L&&this.isEnabled&&(l=_e.__PosthogExtensions__)!=null&&l.errorWrappingFunctions){var c=_e.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,d=_e.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,p=_e.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.R.capture_unhandled_errors&&(this.st=c(this.captureException.bind(this))),!this.nt&&this.R.capture_unhandled_rejections&&(this.nt=d(this.captureException.bind(this))),!this.ot&&this.R.capture_console_errors&&(this.ot=p(this.captureException.bind(this)))}catch(g){js.error("failed to start",g),this.ut()}}},this._instance=e,this.ht=!((r=this._instance.persistence)==null||!r.props[fg]),this.dt=new wy({refillRate:(i=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)!==null&&i!==void 0?i:1,bucketSize:(o=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)!==null&&o!==void 0?o:10,refillInterval:1e4,h:js}),this.R=this.vt(),this.startIfEnabledOrStop()}vt(){var e=this._instance.config.capture_exceptions,r={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return yt(e)?r=ue({},r,e):(K(e)?this.ht:e)&&(r=ue({},r,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),r}get isEnabled(){return this.R.capture_console_errors||this.R.capture_unhandled_errors||this.R.capture_unhandled_rejections}startIfEnabledOrStop(){this.isEnabled?(js.info("enabled"),this.ut(),this.it(this.rt)):this.ut()}it(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.errorWrappingFunctions&&e(),(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"exception-autocapture",(o=>{if(o)return js.error("failed to load script",o);e()}))}ut(){var e,r,i;(e=this.st)==null||e.call(this),this.st=void 0,(r=this.nt)==null||r.call(this),this.nt=void 0,(i=this.ot)==null||i.call(this),this.ot=void 0}onRemoteConfig(e){var r=e.autocaptureExceptions;this.ht=!!r||!1,this._instance.persistence&&this._instance.persistence.register({[fg]:this.ht}),this.R=this.vt(),this.startIfEnabledOrStop()}onConfigChange(){this.R=this.vt()}captureException(e){var r,i,o=(r=e==null||(i=e.$exception_list)==null||(i=i[0])==null?void 0:i.type)!==null&&r!==void 0?r:"Exception";this.dt.consumeRateLimit(o)?js.info("Skipping exception capture because of client rate limiting.",{exception:o}):this._instance.exceptions.sendExceptionEvent(e)}}function Eg(s,e,r){try{if(!(e in s))return()=>{};var i=s[e],o=r(i);return En(o)&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__posthog_wrapped__:{enumerable:!1,value:!0}})),s[e]=o,()=>{s[e]=i}}catch{return()=>{}}}class Rw{constructor(e){var r;this._instance=e,this.ct=(L==null||(r=L.location)==null?void 0:r.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(ne.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.ft&&this.ft(),this.ft=void 0,ne.info("History API monitoring stopped")}monitorHistoryChanges(){var e,r;if(L&&L.history){var i=this;(e=L.history.pushState)!=null&&e.__posthog_wrapped__||Eg(L.history,"pushState",(o=>function(l,c,d){o.call(this,l,c,d),i._t("pushState")})),(r=L.history.replaceState)!=null&&r.__posthog_wrapped__||Eg(L.history,"replaceState",(o=>function(l,c,d){o.call(this,l,c,d),i._t("replaceState")})),this.bt()}}_t(e){try{var r,i=L==null||(r=L.location)==null?void 0:r.pathname;if(!i)return;i!==this.ct&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this.ct=i}catch(o){ne.error("Error capturing "+e+" pageview",o)}}bt(){if(!this.ft){var e=()=>{this._t("popstate")};ft(L,"popstate",e),this.ft=()=>{L&&L.removeEventListener("popstate",e)}}}}var Lc=ct("[SegmentIntegration]");function Nw(s,e){var r=s.config.segment;if(!r)return e();(function(i,o){var l=i.config.segment;if(!l)return o();var c=p=>{var g=()=>p.anonymousId()||Sn();i.config.get_device_id=g,p.id()&&(i.register({distinct_id:p.id(),$device_id:g()}),i.persistence.set_property(Zr,"identified")),o()},d=l.user();"then"in d&&En(d.then)?d.then((p=>c(p))):c(d)})(s,(()=>{r.register((i=>{Promise&&Promise.resolve||Lc.warn("This browser does not have Promise support, and can not use the segment integration");var o=(l,c)=>{if(!c)return l;l.event.userId||l.event.anonymousId===i.get_distinct_id()||(Lc.info("No userId set, resetting PostHog"),i.reset()),l.event.userId&&l.event.userId!==i.get_distinct_id()&&(Lc.info("UserId set, identifying with PostHog"),i.identify(l.event.userId));var d=i.calculateEventProperties(c,l.event.properties);return l.event.properties=Object.assign({},d,l.event.properties),l};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:l=>o(l,l.event.event),page:l=>o(l,"$pageview"),identify:l=>o(l,"$identify"),screen:l=>o(l,"$screen")}})(s)).then((()=>{e()}))}))}var lm="posthog-js";function um(s,e){var{organization:r,projectId:i,prefix:o,severityAllowList:l=["error"],sendExceptionsToPostHog:c=!0}=e===void 0?{}:e;return d=>{var p,g,v,_,y;if(!(l==="*"||l.includes(d.level))||!s.__loaded)return d;d.tags||(d.tags={});var w=s.requestRouter.endpointFor("ui","/project/"+s.config.token+"/person/"+s.get_distinct_id());d.tags["PostHog Person URL"]=w,s.sessionRecordingStarted()&&(d.tags["PostHog Recording URL"]=s.get_session_replay_url({withTimestamp:!0}));var C=((p=d.exception)==null?void 0:p.values)||[],k=C.map((R=>ue({},R,{stacktrace:R.stacktrace?ue({},R.stacktrace,{type:"raw",frames:(R.stacktrace.frames||[]).map((M=>ue({},M,{platform:"web:javascript"})))}):void 0}))),x={$exception_message:((g=C[0])==null?void 0:g.value)||d.message,$exception_type:(v=C[0])==null?void 0:v.type,$exception_level:d.level,$exception_list:k,$sentry_event_id:d.event_id,$sentry_exception:d.exception,$sentry_exception_message:((_=C[0])==null?void 0:_.value)||d.message,$sentry_exception_type:(y=C[0])==null?void 0:y.type,$sentry_tags:d.tags};return r&&i&&(x.$sentry_url=(o||"https://sentry.io/organizations/")+r+"/issues/?project="+i+"&query="+d.event_id),c&&s.exceptions.sendExceptionEvent(x),d}}class Iw{constructor(e,r,i,o,l,c){this.name=lm,this.setupOnce=function(d){d(um(e,{organization:r,projectId:i,prefix:o,severityAllowList:l,sendExceptionsToPostHog:c==null||c}))}}}var Ow=L!=null&&L.location?fl(L.location.hash,"__posthog")||fl(location.hash,"state"):null,Cg="_postHogToolbarParams",Pg=ct("[Toolbar]"),kn=(function(s){return s[s.UNINITIALIZED=0]="UNINITIALIZED",s[s.LOADING=1]="LOADING",s[s.LOADED=2]="LOADED",s})(kn||{});class jw{constructor(e){this.instance=e}yt(e){_e.ph_toolbar_state=e}wt(){var e;return(e=_e.ph_toolbar_state)!==null&&e!==void 0?e:kn.UNINITIALIZED}maybeLoadToolbar(e,r,i){if(e===void 0&&(e=void 0),r===void 0&&(r=void 0),i===void 0&&(i=void 0),!L||!re)return!1;e=e??L.location,i=i??L.history;try{if(!r){try{L.localStorage.setItem("test","test"),L.localStorage.removeItem("test")}catch{return!1}r=L?.localStorage}var o,l=Ow||fl(e.hash,"__posthog")||fl(e.hash,"state"),c=l?cg((()=>JSON.parse(atob(decodeURIComponent(l)))))||cg((()=>JSON.parse(decodeURIComponent(l)))):null;return c&&c.action==="ph_authorize"?((o=c).source="url",o&&Object.keys(o).length>0&&(c.desiredHash?e.hash=c.desiredHash:i?i.replaceState(i.state,"",e.pathname+e.search):e.hash="")):((o=JSON.parse(r.getItem(Cg)||"{}")).source="localstorage",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch{return!1}}xt(e){var r=_e.ph_load_toolbar||_e.ph_load_editor;!Ve(r)&&En(r)?r(e,this.instance):Pg.warn("No toolbar load function found")}loadToolbar(e){var r=!(re==null||!re.getElementById(Gv));if(!L||r)return!1;var i=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,o=ue({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});if(L.localStorage.setItem(Cg,JSON.stringify(ue({},o,{source:void 0}))),this.wt()===kn.LOADED)this.xt(o);else if(this.wt()===kn.UNINITIALIZED){var l;this.yt(kn.LOADING),(l=_e.__PosthogExtensions__)==null||l.loadExternalDependency==null||l.loadExternalDependency(this.instance,"toolbar",(c=>{if(c)return Pg.error("[Toolbar] Failed to load",c),void this.yt(kn.UNINITIALIZED);this.yt(kn.LOADED),this.xt(o)})),ft(L,"turbolinks:load",(()=>{this.yt(kn.UNINITIALIZED),this.loadToolbar(o)}))}return!0}Et(e){return this.loadToolbar(e)}maybeLoadEditor(e,r,i){return e===void 0&&(e=void 0),r===void 0&&(r=void 0),i===void 0&&(i=void 0),this.maybeLoadToolbar(e,r,i)}}var Mw=ct("[TracingHeaders]");class Aw{constructor(e){this.$t=void 0,this.St=void 0,this.rt=()=>{var r,i;K(this.$t)&&((r=_e.__PosthogExtensions__)==null||(r=r.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),K(this.St)&&((i=_e.__PosthogExtensions__)==null||(i=i.tracingHeadersPatchFns)==null||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}it(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.tracingHeadersPatchFns&&e(),(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"tracing-headers",(o=>{if(o)return Mw.error("failed to load script",o);e()}))}startIfEnabledOrStop(){var e,r;this._instance.config.__add_tracing_headers?this.it(this.rt):((e=this.$t)==null||e.call(this),(r=this.St)==null||r.call(this),this.$t=void 0,this.St=void 0)}}var Ga="https?://(.*)",Bi=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],Fw=Ui(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Bi),No="<masked>",Lw=["li_fat_id"];function cm(s,e,r){if(!re)return{};var i,o=e?Ui([],Bi,r||[]):[],l=dm(Ro(re.URL,o,No),s),c=(i={},Qe(Lw,(function(d){var p=Ir.q(d);i[d]=p||null})),i);return ut(c,l)}function dm(s,e){var r=Fw.concat(e||[]),i={};return Qe(r,(function(o){var l=dl(s,o);i[o]=l||null})),i}function fm(s){var e=(function(l){return l?l.search(Ga+"google.([^/?]*)")===0?"google":l.search(Ga+"bing.com")===0?"bing":l.search(Ga+"yahoo.com")===0?"yahoo":l.search(Ga+"duckduckgo.com")===0?"duckduckgo":null:null})(s),r=e!="yahoo"?"q":"p",i={};if(!Sr(e)){i.$search_engine=e;var o=re?dl(re.referrer,r):"";o.length&&(i.ph_keyword=o)}return i}function Tg(){return navigator.language||navigator.userLanguage}function hm(){return re?.referrer||"$direct"}function pm(s,e){var r=s?Ui([],Bi,e||[]):[],i=Wt?.href.substring(0,1e3);return{r:hm().substring(0,1e3),u:i?Ro(i,r,No):void 0}}function gm(s){var e,{r,u:i}=s,o={$referrer:r,$referring_domain:r==null?void 0:r=="$direct"?"$direct":(e=cl(r))==null?void 0:e.host};if(i){o.$current_url=i;var l=cl(i);o.$host=l?.host,o.$pathname=l?.pathname;var c=dm(i);ut(o,c)}if(r){var d=fm(r);ut(o,d)}return o}function vm(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{return}}function $w(){try{return new Date().getTimezoneOffset()}catch{return}}function zw(s,e){if(!Ht)return{};var r,i,o,l=s?Ui([],Bi,e||[]):[],[c,d]=(function(p){for(var g=0;g<sg.length;g++){var[v,_]=sg[g],y=v.exec(p),w=y&&(En(_)?_(y,p):_);if(w)return w}return["",""]})(Ht);return ut(Ud({$os:c,$os_version:d,$browser:$v(Ht,navigator.vendor),$device:og(Ht),$device_type:(i=Ht,o=og(i),o===Sv||o===bv||o==="Kobo"||o==="Kindle Fire"||o===Lv?ro:o===io||o===ji||o===so||o===nd?"Console":o===Cv?"Wearable":o?ar:"Desktop"),$timezone:vm(),$timezone_offset:$w()}),{$current_url:Ro(Wt?.href,l,No),$host:Wt?.host,$pathname:Wt?.pathname,$raw_user_agent:Ht.length>1e3?Ht.substring(0,997)+"...":Ht,$browser_version:Ny(Ht,navigator.vendor),$browser_language:Tg(),$browser_language_prefix:(r=Tg(),typeof r=="string"?r.split("-")[0]:void 0),$screen_height:L?.screen.height,$screen_width:L?.screen.width,$viewport_height:L?.innerHeight,$viewport_width:L?.innerWidth,$lib:"web",$lib_version:Gr.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var wn=ct("[Web Vitals]"),Rg=9e5;class Dw{constructor(e){var r;this.kt=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Pt=()=>{clearTimeout(this.Tt),this.N.metrics.length!==0&&(this._instance.capture("$web_vitals",this.N.metrics.reduce(((i,o)=>ue({},i,{["$web_vitals_"+o.name+"_event"]:ue({},o),["$web_vitals_"+o.name+"_value"]:o.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.It=i=>{var o,l=(o=this._instance.sessionManager)==null?void 0:o.checkAndGetSessionAndWindowId(!0);if(K(l))wn.error("Could not read session ID. Dropping metrics!");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var c=this.Ct();K(c)||(Ve(i?.name)||Ve(i?.value)?wn.error("Invalid metric received",i):this.Rt&&i.value>=this.Rt?wn.error("Ignoring metric with value >= "+this.Rt,i):(this.N.url!==c&&(this.Pt(),this.Tt=setTimeout(this.Pt,this.flushToCaptureTimeoutMs)),K(this.N.url)&&(this.N.url=c),this.N.firstMetricTimestamp=K(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,i.attribution&&i.attribution.interactionTargetElement&&(i.attribution.interactionTargetElement=void 0),this.N.metrics.push(ue({},i,{$current_url:c,$session_id:l.sessionId,$window_id:l.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.Pt()))}},this.rt=()=>{var i,o,l,c,d=_e.__PosthogExtensions__;K(d)||K(d.postHogWebVitalsCallbacks)||({onLCP:i,onCLS:o,onFCP:l,onINP:c}=d.postHogWebVitalsCallbacks),i&&o&&l&&c?(this.allowedMetrics.indexOf("LCP")>-1&&i(this.It.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&o(this.It.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&l(this.It.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&c(this.It.bind(this)),this.P=!0):wn.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.kt=!((r=this._instance.persistence)==null||!r.props[pg]),this.startIfEnabled()}get allowedMetrics(){var e,r,i=yt(this._instance.config.capture_performance)?(e=this._instance.config.capture_performance)==null?void 0:e.web_vitals_allowed_metrics:void 0;return K(i)?((r=this._instance.persistence)==null?void 0:r.props[vg])||["CLS","FCP","INP","LCP"]:i}get flushToCaptureTimeoutMs(){return(yt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Rt(){var e=yt(this._instance.config.capture_performance)&&jr(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:Rg;return 0<e&&e<=6e4?Rg:e}get isEnabled(){var e=Wt?.protocol;if(e!=="http:"&&e!=="https:")return wn.info("Web Vitals are disabled on non-http/https protocols"),!1;var r=yt(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Kr(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Kr(r)?r:this.kt}startIfEnabled(){this.isEnabled&&!this.P&&(wn.info("enabled, starting..."),this.it(this.rt))}onRemoteConfig(e){var r=yt(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=yt(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[pg]:r}),this._instance.persistence.register({[vg]:i})),this.kt=r,this.startIfEnabled()}it(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.postHogWebVitalsCallbacks&&e(),(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"web-vitals",(o=>{o?wn.error("failed to load script",o):e()}))}Ct(){var e=L?L.location.href:void 0;if(e){var r=this._instance.config.mask_personal_data_properties,i=this._instance.config.custom_personal_data_properties,o=r?Ui([],Bi,i||[]):[];return Ro(e,o,No)}wn.error("Could not determine current URL")}}var Uw=ct("[Heatmaps]");function Ng(s){return yt(s)&&"clientX"in s&&"clientY"in s&&jr(s.clientX)&&jr(s.clientY)}class Bw{constructor(e){var r;this.kt=!1,this.P=!1,this.Ft=null,this.instance=e,this.kt=!((r=this.instance.persistence)==null||!r.props[od]),this.rageclicks=new sm(e.config.rageclick)}get flushIntervalMilliseconds(){var e=5e3;return yt(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return K(this.instance.config.capture_heatmaps)?K(this.instance.config.enable_heatmaps)?this.kt:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.P)return;Uw.info("starting..."),this.Mt(),this.Ot()}else{var e;clearInterval((e=this.Ft)!==null&&e!==void 0?e:void 0),this.At(),this.getAndClearBuffer()}}onRemoteConfig(e){var r=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[od]:r}),this.kt=r,this.startIfEnabled()}getAndClearBuffer(){var e=this.N;return this.N=void 0,e}Dt(e){this.jt(e.originalEvent,"deadclick")}Ot(){this.Ft&&clearInterval(this.Ft),this.Ft=(function(e){return e?.visibilityState==="visible"})(re)?setInterval(this.Lt.bind(this),this.flushIntervalMilliseconds):null}Mt(){L&&re&&(this.Nt=this.Lt.bind(this),ft(L,"beforeunload",this.Nt),this.Ut=e=>this.jt(e||L?.event),ft(re,"click",this.Ut,{capture:!0}),this.zt=e=>this.Ht(e||L?.event),ft(re,"mousemove",this.zt,{capture:!0}),this.Bt=new am(this.instance,Cw,this.Dt.bind(this)),this.Bt.startIfEnabled(),this.qt=this.Ot.bind(this),ft(re,"visibilitychange",this.qt),this.P=!0)}At(){var e;L&&re&&(this.Nt&&L.removeEventListener("beforeunload",this.Nt),this.Ut&&re.removeEventListener("click",this.Ut,{capture:!0}),this.zt&&re.removeEventListener("mousemove",this.zt,{capture:!0}),this.qt&&re.removeEventListener("visibilitychange",this.qt),clearTimeout(this.Wt),(e=this.Bt)==null||e.stop(),this.P=!1)}Gt(e,r){var i=this.instance.scrollManager.scrollY(),o=this.instance.scrollManager.scrollX(),l=this.instance.scrollManager.scrollElement(),c=(function(d,p,g){for(var v=d;v&&Rl(v)&&!Pn(v,"body");){if(v===g)return!1;if(je(p,L?.getComputedStyle(v).position))return!0;v=Kv(v)}return!1})(Qv(e),["fixed","sticky"],l);return{x:e.clientX+(c?0:o),y:e.clientY+(c?0:i),target_fixed:c,type:r}}jt(e,r){var i;if(r===void 0&&(r="click"),!mg(e.target)&&Ng(e)){var o=this.Gt(e,r);(i=this.rageclicks)!=null&&i.isRageClick(e.clientX,e.clientY,new Date().getTime())&&this.Vt(ue({},o,{type:"rageclick"})),this.Vt(o)}}Ht(e){!mg(e.target)&&Ng(e)&&(clearTimeout(this.Wt),this.Wt=setTimeout((()=>{this.Vt(this.Gt(e,"mousemove"))}),500))}Vt(e){if(L){var r=L.location.href,i=this.instance.config.mask_personal_data_properties,o=this.instance.config.custom_personal_data_properties,l=i?Ui([],Bi,o||[]):[],c=Ro(r,l,No);this.N=this.N||{},this.N[c]||(this.N[c]=[]),this.N[c].push(e)}}Lt(){this.N&&!Ri(this.N)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class Vw{constructor(e){this._instance=e}doPageView(e,r){var i,o=this.Jt(e,r);return this.Kt={pathname:(i=L?.location.pathname)!==null&&i!==void 0?i:"",pageViewId:r,timestamp:e},this._instance.scrollManager.resetContext(),o}doPageLeave(e){var r;return this.Jt(e,(r=this.Kt)==null?void 0:r.pageViewId)}doEvent(){var e;return{$pageview_id:(e=this.Kt)==null?void 0:e.pageViewId}}Jt(e,r){var i=this.Kt;if(!i)return{$pageview_id:r};var o={$pageview_id:r,$prev_pageview_id:i.pageViewId},l=this._instance.scrollManager.getContext();if(l&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:c,lastScrollY:d,maxScrollY:p,maxContentHeight:g,lastContentY:v,maxContentY:_}=l;if(!(K(c)||K(d)||K(p)||K(g)||K(v)||K(_))){c=Math.ceil(c),d=Math.ceil(d),p=Math.ceil(p),g=Math.ceil(g),v=Math.ceil(v),_=Math.ceil(_);var y=c<=1?1:Nr(d/c,0,1,ne),w=c<=1?1:Nr(p/c,0,1,ne),C=g<=1?1:Nr(v/g,0,1,ne),k=g<=1?1:Nr(_/g,0,1,ne);o=ut(o,{$prev_pageview_last_scroll:d,$prev_pageview_last_scroll_percentage:y,$prev_pageview_max_scroll:p,$prev_pageview_max_scroll_percentage:w,$prev_pageview_last_content:v,$prev_pageview_last_content_percentage:C,$prev_pageview_max_content:_,$prev_pageview_max_content_percentage:k})}}return i.pathname&&(o.$prev_pageview_pathname=i.pathname),i.timestamp&&(o.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),o}}var lr=Uint8Array,Gt=Uint16Array,Fi=Uint32Array,Wd=new lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gd=new lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ig=new lr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),mm=function(s,e){for(var r=new Gt(31),i=0;i<31;++i)r[i]=e+=1<<s[i-1];var o=new Fi(r[30]);for(i=1;i<30;++i)for(var l=r[i];l<r[i+1];++l)o[l]=l-r[i]<<5|i;return[r,o]},_m=mm(Wd,2),Hw=_m[0],gd=_m[1];Hw[28]=258,gd[258]=28;for(var Og=mm(Gd,0)[1],ym=new Gt(32768),et=0;et<32768;++et){var Gn=(43690&et)>>>1|(21845&et)<<1;Gn=(61680&(Gn=(52428&Gn)>>>2|(13107&Gn)<<2))>>>4|(3855&Gn)<<4,ym[et]=((65280&Gn)>>>8|(255&Gn)<<8)>>>1}var Js=function(s,e,r){for(var i=s.length,o=0,l=new Gt(e);o<i;++o)++l[s[o]-1];var c,d=new Gt(e);for(o=0;o<e;++o)d[o]=d[o-1]+l[o-1]<<1;for(c=new Gt(i),o=0;o<i;++o)c[o]=ym[d[s[o]-1]++]>>>15-s[o];return c},Xn=new lr(288);for(et=0;et<144;++et)Xn[et]=8;for(et=144;et<256;++et)Xn[et]=9;for(et=256;et<280;++et)Xn[et]=7;for(et=280;et<288;++et)Xn[et]=8;var pl=new lr(32);for(et=0;et<32;++et)pl[et]=5;var Ww=Js(Xn,9),Gw=Js(pl,5),wm=function(s){return(s/8>>0)+(7&s&&1)},xm=function(s,e,r){(r==null||r>s.length)&&(r=s.length);var i=new(s instanceof Gt?Gt:s instanceof Fi?Fi:lr)(r-e);return i.set(s.subarray(e,r)),i},Hr=function(s,e,r){r<<=7&e;var i=e/8>>0;s[i]|=r,s[i+1]|=r>>>8},Ms=function(s,e,r){r<<=7&e;var i=e/8>>0;s[i]|=r,s[i+1]|=r>>>8,s[i+2]|=r>>>16},$c=function(s,e){for(var r=[],i=0;i<s.length;++i)s[i]&&r.push({s:i,f:s[i]});var o=r.length,l=r.slice();if(!o)return[new lr(0),0];if(o==1){var c=new lr(r[0].s+1);return c[r[0].s]=1,[c,1]}r.sort((function(J,me){return J.f-me.f})),r.push({s:-1,f:25001});var d=r[0],p=r[1],g=0,v=1,_=2;for(r[0]={s:-1,f:d.f+p.f,l:d,r:p};v!=o-1;)d=r[r[g].f<r[_].f?g++:_++],p=r[g!=v&&r[g].f<r[_].f?g++:_++],r[v++]={s:-1,f:d.f+p.f,l:d,r:p};var y=l[0].s;for(i=1;i<o;++i)l[i].s>y&&(y=l[i].s);var w=new Gt(y+1),C=vd(r[v-1],w,0);if(C>e){i=0;var k=0,x=C-e,R=1<<x;for(l.sort((function(J,me){return w[me.s]-w[J.s]||J.f-me.f}));i<o;++i){var M=l[i].s;if(!(w[M]>e))break;k+=R-(1<<C-w[M]),w[M]=e}for(k>>>=x;k>0;){var D=l[i].s;w[D]<e?k-=1<<e-w[D]++-1:++i}for(;i>=0&&k;--i){var V=l[i].s;w[V]==e&&(--w[V],++k)}C=e}return[new lr(w),C]},vd=function(s,e,r){return s.s==-1?Math.max(vd(s.l,e,r+1),vd(s.r,e,r+1)):e[s.s]=r},jg=function(s){for(var e=s.length;e&&!s[--e];);for(var r=new Gt(++e),i=0,o=s[0],l=1,c=function(p){r[i++]=p},d=1;d<=e;++d)if(s[d]==o&&d!=e)++l;else{if(!o&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(o),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(o);l=1,o=s[d]}return[r.subarray(0,i),e]},As=function(s,e){for(var r=0,i=0;i<e.length;++i)r+=s[i]*e[i];return r},md=function(s,e,r){var i=r.length,o=wm(e+2);s[o]=255&i,s[o+1]=i>>>8,s[o+2]=255^s[o],s[o+3]=255^s[o+1];for(var l=0;l<i;++l)s[o+l+4]=r[l];return 8*(o+4+i)},Mg=function(s,e,r,i,o,l,c,d,p,g,v){Hr(e,v++,r),++o[256];for(var _=$c(o,15),y=_[0],w=_[1],C=$c(l,15),k=C[0],x=C[1],R=jg(y),M=R[0],D=R[1],V=jg(k),J=V[0],me=V[1],Z=new Gt(19),Y=0;Y<M.length;++Y)Z[31&M[Y]]++;for(Y=0;Y<J.length;++Y)Z[31&J[Y]]++;for(var ke=$c(Z,7),be=ke[0],X=ke[1],Ae=19;Ae>4&&!be[Ig[Ae-1]];--Ae);var Oe,Fe,Me,ie,z=g+5<<3,F=As(o,Xn)+As(l,pl)+c,A=As(o,y)+As(l,k)+c+14+3*Ae+As(Z,be)+(2*Z[16]+3*Z[17]+7*Z[18]);if(z<=F&&z<=A)return md(e,v,s.subarray(p,p+g));if(Hr(e,v,1+(A<F)),v+=2,A<F){Oe=Js(y,w),Fe=y,Me=Js(k,x),ie=k;var $=Js(be,X);for(Hr(e,v,D-257),Hr(e,v+5,me-1),Hr(e,v+10,Ae-4),v+=14,Y=0;Y<Ae;++Y)Hr(e,v+3*Y,be[Ig[Y]]);v+=3*Ae;for(var E=[M,J],O=0;O<2;++O){var q=E[O];for(Y=0;Y<q.length;++Y){var te=31&q[Y];Hr(e,v,$[te]),v+=be[te],te>15&&(Hr(e,v,q[Y]>>>5&127),v+=q[Y]>>>12)}}}else Oe=Ww,Fe=Xn,Me=Gw,ie=pl;for(Y=0;Y<d;++Y)if(i[Y]>255){te=i[Y]>>>18&31,Ms(e,v,Oe[te+257]),v+=Fe[te+257],te>7&&(Hr(e,v,i[Y]>>>23&31),v+=Wd[te]);var ce=31&i[Y];Ms(e,v,Me[ce]),v+=ie[ce],ce>3&&(Ms(e,v,i[Y]>>>5&8191),v+=Gd[ce])}else Ms(e,v,Oe[i[Y]]),v+=Fe[i[Y]];return Ms(e,v,Oe[256]),v+Fe[256]},Zw=new Fi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),qw=(function(){for(var s=new Fi(256),e=0;e<256;++e){for(var r=e,i=9;--i;)r=(1&r&&3988292384)^r>>>1;s[e]=r}return s})(),Yw=function(s,e,r,i,o){return(function(l,c,d,p,g,v){var _=l.length,y=new lr(p+_+5*(1+Math.floor(_/7e3))+g),w=y.subarray(p,y.length-g),C=0;if(!c||_<8)for(var k=0;k<=_;k+=65535){var x=k+65535;x<_?C=md(w,C,l.subarray(k,x)):(w[k]=v,C=md(w,C,l.subarray(k,_)))}else{for(var R=Zw[c-1],M=R>>>13,D=8191&R,V=(1<<d)-1,J=new Gt(32768),me=new Gt(V+1),Z=Math.ceil(d/3),Y=2*Z,ke=function(De){return(l[De]^l[De+1]<<Z^l[De+2]<<Y)&V},be=new Fi(25e3),X=new Gt(288),Ae=new Gt(32),Oe=0,Fe=0,Me=(k=0,0),ie=0,z=0;k<_;++k){var F=ke(k),A=32767&k,$=me[F];if(J[A]=$,me[F]=A,ie<=k){var E=_-k;if((Oe>7e3||Me>24576)&&E>423){C=Mg(l,w,0,be,X,Ae,Fe,Me,z,k-z,C),Me=Oe=Fe=0,z=k;for(var O=0;O<286;++O)X[O]=0;for(O=0;O<30;++O)Ae[O]=0}var q=2,te=0,ce=D,fe=A-$&32767;if(E>2&&F==ke(k-fe))for(var Ne=Math.min(M,E)-1,Le=Math.min(32767,k),Be=Math.min(258,E);fe<=Le&&--ce&&A!=$;){if(l[k+q]==l[k+q-fe]){for(var Ze=0;Ze<Be&&l[k+Ze]==l[k+Ze-fe];++Ze);if(Ze>q){if(q=Ze,te=fe,Ze>Ne)break;var cr=Math.min(fe,Ze-2),Q=0;for(O=0;O<cr;++O){var ae=k-fe+O+32768&32767,Re=ae-J[ae]+32768&32767;Re>Q&&(Q=Re,$=ae)}}}fe+=(A=$)-($=J[A])+32768&32767}if(te){be[Me++]=268435456|gd[q]<<18|Og[te];var xe=31&gd[q],tt=31&Og[te];Fe+=Wd[xe]+Gd[tt],++X[257+xe],++Ae[tt],ie=k+q,++Oe}else be[Me++]=l[k],++X[l[k]]}}C=Mg(l,w,v,be,X,Ae,Fe,Me,z,k-z,C)}return xm(y,0,p+wm(C)+g)})(s,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):12+e.mem,r,i,!0)},zc=function(s,e,r){for(;r;++e)s[e]=r,r>>>=8};function Qw(s,e){e===void 0&&(e={});var r=(function(){var d=4294967295;return{p:function(p){for(var g=d,v=0;v<p.length;++v)g=qw[255&g^p[v]]^g>>>8;d=g},d:function(){return 4294967295^d}}})(),i=s.length;r.p(s);var o,l=Yw(s,e,10+((o=e).filename&&o.filename.length+1||0),8),c=l.length;return(function(d,p){var g=p.filename;if(d[0]=31,d[1]=139,d[2]=8,d[8]=p.level<2?4:p.level==9?2:0,d[9]=3,p.mtime!=0&&zc(d,4,Math.floor(new Date(p.mtime||Date.now())/1e3)),g){d[3]=8;for(var v=0;v<=g.length;++v)d[v+10]=g.charCodeAt(v)}})(l,e),zc(l,c-8,r.d()),zc(l,c-4,i),l}var Xw=function(s){var e,r,i,o,l="";for(e=r=0,i=(s=(s+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,o=0;o<i;o++){var c=s.charCodeAt(o),d=null;c<128?r++:d=c>127&&c<2048?String.fromCharCode(c>>6|192,63&c|128):String.fromCharCode(c>>12|224,c>>6&63|128,63&c|128),Sr(d)||(r>e&&(l+=s.substring(e,r)),l+=d,e=r=o+1)}return r>e&&(l+=s.substring(e,s.length)),l},Kw=!!Kc||!!Xc,Ag="text/plain",gl=function(s,e,r){var i;r===void 0&&(r=!0);var[o,l]=s.split("?"),c=ue({},e),d=(i=l?.split("&").map((g=>{var v,[_,y]=g.split("="),w=r&&(v=c[_])!==null&&v!==void 0?v:y;return delete c[_],_+"="+w})))!==null&&i!==void 0?i:[],p=hw(c);return p&&d.push(p),o+"?"+d.join("&")},qs=(s,e)=>JSON.stringify(s,((r,i)=>typeof i=="bigint"?i.toString():i),e),Dc=s=>{var{data:e,compression:r}=s;if(e){if(r===Qr.GZipJS){var i=Qw((function(p,g){var v=p.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(p);for(var _=new lr(p.length+(p.length>>>1)),y=0,w=function(R){_[y++]=R},C=0;C<v;++C){if(y+5>_.length){var k=new lr(y+8+(v-C<<1));k.set(_),_=k}var x=p.charCodeAt(C);x<128||g?w(x):x<2048?(w(192|x>>>6),w(128|63&x)):x>55295&&x<57344?(w(240|(x=65536+(1047552&x)|1023&p.charCodeAt(++C))>>>18),w(128|x>>>12&63),w(128|x>>>6&63),w(128|63&x)):(w(224|x>>>12),w(128|x>>>6&63),w(128|63&x))}return xm(_,0,y)})(qs(e)),{mtime:0}),o=new Blob([i],{type:Ag});return{contentType:Ag,body:o,estimatedSize:o.size}}if(r===Qr.Base64){var l=(function(p){var g,v,_,y,w,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,x=0,R="",M=[];if(!p)return p;p=Xw(p);do g=(w=p.charCodeAt(k++)<<16|p.charCodeAt(k++)<<8|p.charCodeAt(k++))>>18&63,v=w>>12&63,_=w>>6&63,y=63&w,M[x++]=C.charAt(g)+C.charAt(v)+C.charAt(_)+C.charAt(y);while(k<p.length);switch(R=M.join(""),p.length%3){case 1:R=R.slice(0,-2)+"==";break;case 2:R=R.slice(0,-1)+"="}return R})(qs(e)),c=(p=>"data="+encodeURIComponent(typeof p=="string"?p:qs(p)))(l);return{contentType:"application/x-www-form-urlencoded",body:c,estimatedSize:new Blob([c]).size}}var d=qs(e);return{contentType:"application/json",body:d,estimatedSize:new Blob([d]).size}}},Ka=[];Xc&&Ka.push({transport:"fetch",method:s=>{var e,r,{contentType:i,body:o,estimatedSize:l}=(e=Dc(s))!==null&&e!==void 0?e:{},c=new Headers;Qe(s.headers,(function(v,_){c.append(_,v)})),i&&c.append("Content-Type",i);var d=s.url,p=null;if(Jp){var g=new Jp;p={signal:g.signal,timeout:setTimeout((()=>g.abort()),s.timeout)}}Xc(d,ue({method:s?.method||"GET",headers:c,keepalive:s.method==="POST"&&(l||0)<52428.8,body:o,signal:(r=p)==null?void 0:r.signal},s.fetchOptions)).then((v=>v.text().then((_=>{var y={statusCode:v.status,text:_};if(v.status===200)try{y.json=JSON.parse(_)}catch(w){ne.error(w)}s.callback==null||s.callback(y)})))).catch((v=>{ne.error(v),s.callback==null||s.callback({statusCode:0,text:v})})).finally((()=>p?clearTimeout(p.timeout):null))}}),Kc&&Ka.push({transport:"XHR",method:s=>{var e,r=new Kc;r.open(s.method||"GET",s.url,!0);var{contentType:i,body:o}=(e=Dc(s))!==null&&e!==void 0?e:{};Qe(s.headers,(function(l,c){r.setRequestHeader(c,l)})),i&&r.setRequestHeader("Content-Type",i),s.timeout&&(r.timeout=s.timeout),s.disableXHRCredentials||(r.withCredentials=!0),r.onreadystatechange=()=>{if(r.readyState===4){var l={statusCode:r.status,text:r.responseText};if(r.status===200)try{l.json=JSON.parse(r.responseText)}catch{}s.callback==null||s.callback(l)}},r.send(o)}}),Jt!=null&&Jt.sendBeacon&&Ka.push({transport:"sendBeacon",method:s=>{var e=gl(s.url,{beacon:"1"});try{var r,{contentType:i,body:o}=(r=Dc(s))!==null&&r!==void 0?r:{},l=typeof o=="string"?new Blob([o],{type:i}):o;Jt.sendBeacon(e,l)}catch{}}});var vl=function(s,e){if(!(function(r){try{new RegExp(r)}catch{return!1}return!0})(e))return!1;try{return new RegExp(e).test(s)}catch{return!1}};function Fg(s,e,r){return qs({distinct_id:s,userPropertiesToSet:e,userPropertiesToSetOnce:r})}var km={exact:(s,e)=>e.some((r=>s.some((i=>r===i)))),is_not:(s,e)=>e.every((r=>s.every((i=>r!==i)))),regex:(s,e)=>e.some((r=>s.some((i=>vl(r,i))))),not_regex:(s,e)=>e.every((r=>s.every((i=>!vl(r,i))))),icontains:(s,e)=>e.map(Za).some((r=>s.map(Za).some((i=>r.includes(i))))),not_icontains:(s,e)=>e.map(Za).every((r=>s.map(Za).every((i=>!r.includes(i))))),gt:(s,e)=>e.some((r=>{var i=parseFloat(r);return!isNaN(i)&&s.some((o=>i>parseFloat(o)))})),lt:(s,e)=>e.some((r=>{var i=parseFloat(r);return!isNaN(i)&&s.some((o=>i<parseFloat(o)))}))},Za=s=>s.toLowerCase();function bm(s,e){return!s||Object.entries(s).every((r=>{var[i,o]=r,l=e?.[i];if(K(l)||Sr(l))return!1;var c=[String(l)],d=km[o.operator];return!!d&&d(o.values,c)}))}var Uc=ct("[Error tracking]");class Jw{constructor(e){var r,i;this.Yt=[],this.Xt=new jy([new By,new Xy,new Hy,new Vy,new Yy,new qy,new Gy,new Qy],Uy("web:javascript",Ly,Dy)),this._instance=e,this.Yt=(r=(i=this._instance.persistence)==null?void 0:i.get_property(ad))!==null&&r!==void 0?r:[]}onRemoteConfig(e){var r,i,o,l=(r=(i=e.errorTracking)==null?void 0:i.suppressionRules)!==null&&r!==void 0?r:[],c=(o=e.errorTracking)==null?void 0:o.captureExtensionExceptions;this.Yt=l,this._instance.persistence&&this._instance.persistence.register({[ad]:this.Yt,[hg]:c})}get Qt(){var e,r=!!this._instance.get_property(hg),i=this._instance.config.error_tracking.captureExtensionExceptions;return(e=i??r)!==null&&e!==void 0&&e}buildProperties(e,r){return this.Xt.buildFromUnknown(e,{syntheticException:r?.syntheticException,mechanism:{handled:r?.handled}})}sendExceptionEvent(e){var r=e.$exception_list;if(this.Zt(r)){if(this.ti(r))return void Uc.info("Skipping exception capture because a suppression rule matched");if(!this.Qt&&this.ii(r))return void Uc.info("Skipping exception capture because it was thrown by an extension");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ei(r))return void Uc.info("Skipping exception capture because it was thrown by the PostHog SDK")}return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"})}ti(e){if(e.length===0)return!1;var r=e.reduce(((i,o)=>{var{type:l,value:c}=o;return gt(l)&&l.length>0&&i.$exception_types.push(l),gt(c)&&c.length>0&&i.$exception_values.push(c),i}),{$exception_types:[],$exception_values:[]});return this.Yt.some((i=>{var o=i.values.map((l=>{var c,d=km[l.operator],p=He(l.value)?l.value:[l.value],g=(c=r[l.key])!==null&&c!==void 0?c:[];return p.length>0&&d(p,g)}));return i.type==="OR"?o.some(Boolean):o.every(Boolean)}))}ii(e){return e.flatMap((r=>{var i,o;return(i=(o=r.stacktrace)==null?void 0:o.frames)!==null&&i!==void 0?i:[]})).some((r=>r.filename&&r.filename.startsWith("chrome-extension://")))}ei(e){if(e.length>0){var r,i,o,l,c=(r=(i=e[0].stacktrace)==null?void 0:i.frames)!==null&&r!==void 0?r:[],d=c[c.length-1];return(o=d==null||(l=d.filename)==null?void 0:l.includes("posthog.com/static"))!==null&&o!==void 0&&o}return!1}Zt(e){return!Ve(e)&&He(e)}}var yr=ct("[FeatureFlags]"),Fs=ct("[FeatureFlags]",{debugEnabled:!0}),Bc="$active_feature_flags",Ei="$override_feature_flags",Lg="$feature_flag_payloads",Ls="$override_feature_flag_payloads",$g="$feature_flag_request_id",zg="$feature_flag_evaluated_at",Dg=s=>{var e={};for(var[r,i]of Xa(s||{}))i&&(e[r]=i);return e},ex=s=>{var e=s.flags;return e?(s.featureFlags=Object.fromEntries(Object.keys(e).map((r=>{var i;return[r,(i=e[r].variant)!==null&&i!==void 0?i:e[r].enabled]}))),s.featureFlagPayloads=Object.fromEntries(Object.keys(e).filter((r=>e[r].enabled)).filter((r=>{var i;return(i=e[r].metadata)==null?void 0:i.payload})).map((r=>{var i;return[r,(i=e[r].metadata)==null?void 0:i.payload]})))):yr.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),s},tx=(function(s){return s.FeatureFlags="feature_flags",s.Recordings="recordings",s})({});class rx{constructor(e){this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this._instance=e,this.featureFlagEventHandlers=[]}hi(){var e=this._instance.config.evaluation_environments;return e!=null&&e.length?e.filter((r=>{var i=r&&typeof r=="string"&&r.trim().length>0;return i||yr.error("Invalid evaluation environment found:",r,"Expected non-empty string"),i})):[]}di(){return this.hi().length>0}flags(){if(this._instance.config.__preview_remote_config)this.li=!0;else{var e=!this.vi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.ci({disableFlags:e})}}get hasLoadedFlags(){return this.si}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(ld),r=this._instance.get_property(Ei),i=this._instance.get_property(Ls);if(!i&&!r)return e||{};var o=ut({},e||{}),l=[...new Set([...Object.keys(i||{}),...Object.keys(r||{})])];for(var c of l){var d,p,g=o[c],v=r?.[c],_=K(v)?(d=g?.enabled)!==null&&d!==void 0&&d:!!v,y=K(v)?g.variant:typeof v=="string"?v:void 0,w=i?.[c],C=ue({},g,{enabled:_,variant:_?y??g?.variant:void 0});_!==g?.enabled&&(C.original_enabled=g?.enabled),y!==g?.variant&&(C.original_variant=g?.variant),w&&(C.metadata=ue({},g?.metadata,{payload:w,original_payload:g==null||(p=g.metadata)==null?void 0:p.payload})),o[c]=C}return this.ri||(yr.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:i,finalDetails:o}),this.ri=!0),o}getFlagVariants(){var e=this._instance.get_property(Ni),r=this._instance.get_property(Ei);if(!r)return e||{};for(var i=ut({},e),o=Object.keys(r),l=0;l<o.length;l++)i[o[l]]=r[o[l]];return this.ri||(yr.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:r,finalFlags:i}),this.ri=!0),i}getFlagPayloads(){var e=this._instance.get_property(Lg),r=this._instance.get_property(Ls);if(!r)return e||{};for(var i=ut({},e||{}),o=Object.keys(r),l=0;l<o.length;l++)i[o[l]]=r[o[l]];return this.ri||(yr.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:r,finalPayloads:i}),this.ri=!0),i}reloadFeatureFlags(){this.oi||this._instance.config.advanced_disable_feature_flags||this.vi||(this.vi=setTimeout((()=>{this.ci()}),5))}fi(){clearTimeout(this.vi),this.vi=void 0}ensureFlagsLoaded(){this.si||this.ni||this.vi||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.oi=e}ci(e){var r;if(this.fi(),!this._instance.O())if(this.ni)this.ai=!0;else{var i=this._instance.config.token,o=this._instance.get_property("$device_id"),l={token:i,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:ue({},((r=this._instance.persistence)==null?void 0:r.get_initial_props())||{},this._instance.get_property(Zs)||{}),group_properties:this._instance.get_property(qn)};Sr(o)||K(o)||(l.$device_id=o),(e!=null&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(l.disable_flags=!0),this.di()&&(l.evaluation_environments=this.hi());var c=this._instance.config.__preview_remote_config,d=c?"/flags/?v=2":"/flags/?v=2&config=true",p=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",g=this._instance.requestRouter.endpointFor("flags",d+p);c&&(l.timezone=vm()),this.ni=!0,this._instance._send_request({method:"POST",url:g,data:l,compression:this._instance.config.disable_compression?void 0:Qr.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:v=>{var _,y,w=!0;if(v.statusCode===200&&(this.ai||(this.$anon_distinct_id=void 0),w=!1),this.ni=!1,this.li||(this.li=!0,this._instance.pi((y=v.json)!==null&&y!==void 0?y:{})),!l.disable_flags||this.ai)if(this.ui=!w,v.json&&(_=v.json.quotaLimited)!=null&&_.includes(tx.FeatureFlags))yr.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.");else{var C;l.disable_flags||this.receivedFeatureFlags((C=v.json)!==null&&C!==void 0?C:{},w),this.ai&&(this.ai=!1,this.ci())}}})}}getFeatureFlag(e,r){if(r===void 0&&(r={}),this.si||this.getFlags()&&this.getFlags().length>0){var i=this.getFlagVariants()[e],o=""+i,l=this._instance.get_property($g)||void 0,c=this._instance.get_property(zg)||void 0,d=this._instance.get_property(ol)||{};if((r.send_event||!("send_event"in r))&&(!(e in d)||!d[e].includes(o))){var p,g,v,_,y,w,C,k,x;He(d[e])?d[e].push(o):d[e]=[o],(p=this._instance.persistence)==null||p.register({[ol]:d});var R=this.getFeatureFlagDetails(e),M={$feature_flag:e,$feature_flag_response:i,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:l,$feature_flag_evaluated_at:c,$feature_flag_bootstrapped_response:((g=this._instance.config.bootstrap)==null||(g=g.featureFlags)==null?void 0:g[e])||null,$feature_flag_bootstrapped_payload:((v=this._instance.config.bootstrap)==null||(v=v.featureFlagPayloads)==null?void 0:v[e])||null,$used_bootstrap_value:!this.ui};K(R==null||(_=R.metadata)==null?void 0:_.version)||(M.$feature_flag_version=R.metadata.version);var D,V=(y=R==null||(w=R.reason)==null?void 0:w.description)!==null&&y!==void 0?y:R==null||(C=R.reason)==null?void 0:C.code;V&&(M.$feature_flag_reason=V),R!=null&&(k=R.metadata)!=null&&k.id&&(M.$feature_flag_id=R.metadata.id),K(R?.original_variant)&&K(R?.original_enabled)||(M.$feature_flag_original_response=K(R.original_variant)?R.original_enabled:R.original_variant),R!=null&&(x=R.metadata)!=null&&x.original_payload&&(M.$feature_flag_original_payload=R==null||(D=R.metadata)==null?void 0:D.original_payload),this._instance.capture("$feature_flag_called",M)}return i}yr.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,r){var i=this._instance.config.token,o={distinct_id:this._instance.get_distinct_id(),token:i};this.di()&&(o.evaluation_environments=this.hi()),this._instance._send_request({method:"POST",url:this._instance.requestRouter.endpointFor("flags","/flags/?v=2&config=true"),data:o,compression:this._instance.config.disable_compression?void 0:Qr.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:l=>{var c,d=(c=l.json)==null?void 0:c.featureFlagPayloads;r(d?.[e]||void 0)}})}isFeatureEnabled(e,r){if(r===void 0&&(r={}),this.si||this.getFlags()&&this.getFlags().length>0){var i=this.getFeatureFlag(e,r);return K(i)?void 0:!!i}yr.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((r=>r!==e))}receivedFeatureFlags(e,r){if(this._instance.persistence){this.si=!0;var i=this.getFlagVariants(),o=this.getFlagPayloads(),l=this.getFlagsWithDetails();(function(c,d,p,g,v){p===void 0&&(p={}),g===void 0&&(g={}),v===void 0&&(v={});var _=ex(c),y=_.flags,w=_.featureFlags,C=_.featureFlagPayloads;if(w){var k=c.requestId,x=c.evaluatedAt;if(He(w)){yr.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var R={};if(w)for(var M=0;M<w.length;M++)R[w[M]]=!0;d&&d.register({[Bc]:w,[Ni]:R})}else{var D=w,V=C,J=y;c.errorsWhileComputingFlags&&(D=ue({},p,D),V=ue({},g,V),J=ue({},v,J)),d&&d.register(ue({[Bc]:Object.keys(Dg(D)),[Ni]:D||{},[Lg]:V||{},[ld]:J||{}},k?{[$g]:k}:{},x?{[zg]:x}:{}))}}})(e,this._instance.persistence,i,o,l),this.gi(r)}}override(e,r){r===void 0&&(r=!1),yr.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:r})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return yr.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(e===!1)return this._instance.persistence.unregister(Ei),this._instance.persistence.unregister(Ls),this.gi(),Fs.info("All overrides cleared");if(e&&typeof e=="object"&&("flags"in e||"payloads"in e)){var r,i=e;if(this.ri=!!((r=i.suppressWarning)!==null&&r!==void 0&&r),"flags"in i){if(i.flags===!1)this._instance.persistence.unregister(Ei),Fs.info("Flag overrides cleared");else if(i.flags){if(He(i.flags)){for(var o={},l=0;l<i.flags.length;l++)o[i.flags[l]]=!0;this._instance.persistence.register({[Ei]:o})}else this._instance.persistence.register({[Ei]:i.flags});Fs.info("Flag overrides set",{flags:i.flags})}}return"payloads"in i&&(i.payloads===!1?(this._instance.persistence.unregister(Ls),Fs.info("Payload overrides cleared")):i.payloads&&(this._instance.persistence.register({[Ls]:i.payloads}),Fs.info("Payload overrides set",{payloads:i.payloads}))),void this.gi()}this.gi()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.si){var{flags:r,flagVariants:i}=this.mi();e(r,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,r,i){var o,l=(this._instance.get_property(Gs)||[]).find((g=>g.flagKey===e)),c={["$feature_enrollment/"+e]:r},d={$feature_flag:e,$feature_enrollment:r,$set:c};l&&(d.$early_access_feature_name=l.name),i&&(d.$feature_enrollment_stage=i),this._instance.capture("$feature_enrollment_update",d),this.setPersonPropertiesForFlags(c,!1);var p=ue({},this.getFlagVariants(),{[e]:r});(o=this._instance.persistence)==null||o.register({[Bc]:Object.keys(Dg(p)),[Ni]:p}),this.gi()}getEarlyAccessFeatures(e,r,i){r===void 0&&(r=!1);var o=this._instance.get_property(Gs),l=i?"&"+i.map((c=>"stage="+c)).join("&"):"";if(o&&!r)return e(o);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+l),method:"GET",callback:c=>{var d,p;if(c.json){var g=c.json.earlyAccessFeatures;return(d=this._instance.persistence)==null||d.unregister(Gs),(p=this._instance.persistence)==null||p.register({[Gs]:g}),e(g)}}})}mi(){var e=this.getFlags(),r=this.getFlagVariants();return{flags:e.filter((i=>r[i])),flagVariants:Object.keys(r).filter((i=>r[i])).reduce(((i,o)=>(i[o]=r[o],i)),{})}}gi(e){var{flags:r,flagVariants:i}=this.mi();this.featureFlagEventHandlers.forEach((o=>o(r,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0);var i=this._instance.get_property(Zs)||{};this._instance.register({[Zs]:ue({},i,e)}),r&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(Zs)}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0);var i=this._instance.get_property(qn)||{};Object.keys(i).length!==0&&Object.keys(i).forEach((o=>{i[o]=ue({},i[o],e[o]),delete e[o]})),this._instance.register({[qn]:ue({},i,e)}),r&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var r=this._instance.get_property(qn)||{};this._instance.register({[qn]:ue({},r,{[e]:{}})})}else this._instance.unregister(qn)}reset(){this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.li=!1,this.ui=!1,this.$anon_distinct_id=void 0,this.fi(),this.ri=!1}}var nx=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Vc{constructor(e,r){this.R=e,this.props={},this.bi=!1,this.yi=(i=>{var o="";return i.token&&(o=i.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),i.persistence_name?"ph_"+i.persistence_name:"ph_"+o+"_posthog"})(e),this.Y=this.wi(e),this.load(),e.debug&&ne.info("Persistence loaded",e.persistence,ue({},this.props)),this.update_config(e,e,r),this.save()}isDisabled(){return!!this.xi}wi(e){nx.indexOf(e.persistence.toLowerCase())===-1&&(ne.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var r=e.persistence.toLowerCase();return r==="localstorage"&&st.H()?st:r==="localstorage+cookie"&&Va.H()?Va:r==="sessionstorage"&&bt.H()?bt:r==="memory"?Sw:r==="cookie"?Ir:Va.H()?Va:Ir}properties(){var e={};return Qe(this.props,(function(r,i){if(i===Ni&&yt(r))for(var o=Object.keys(r),l=0;l<o.length;l++)e["$feature/"+o[l]]=r[o[l]];else d=i,p=!1,(Sr(c=nw)?p:Kp&&c.indexOf===Kp?c.indexOf(d)!=-1:(Qe(c,(function(g){if(p||(p=g===d))return il})),p))||(e[i]=r);var c,d,p})),e}load(){if(!this.xi){var e=this.Y.W(this.yi);e&&(this.props=ut({},e))}}save(){this.xi||this.Y.G(this.yi,this.props,this.Ei,this.$i,this.Si,this.R.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(e,r,i){if(yt(e)){K(r)&&(r="None"),this.Ei=K(i)?this.ki:i;var o=!1;if(Qe(e,((l,c)=>{this.props.hasOwnProperty(c)&&this.props[c]!==r||(this.props[c]=l,o=!0)})),o)return this.save(),!0}return!1}register(e,r){if(yt(e)){this.Ei=K(r)?this.ki:r;var i=!1;if(Qe(e,((o,l)=>{e.hasOwnProperty(l)&&this.props[l]!==o&&(this.props[l]=o,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.bi){var e=cm(this.R.custom_campaign_params,this.R.mask_personal_data_properties,this.R.custom_personal_data_properties);Ri(Ud(e))||this.register(e),this.bi=!0}}update_search_keyword(){var e;this.register((e=re?.referrer)?fm(e):{})}update_referrer_info(){var e;this.register_once({$referrer:hm(),$referring_domain:re!=null&&re.referrer&&((e=cl(re.referrer))==null?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[fd]||this.props[hd]||this.register_once({[al]:pm(this.R.mask_personal_data_properties,this.R.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};Qe([hd,fd],(c=>{var d=this.props[c];d&&Qe(d,(function(p,g){e["$initial_"+Jc(g)]=p}))}));var r,i,o=this.props[al];if(o){var l=(r=gm(o),i={},Qe(r,(function(c,d){i["$initial_"+Jc(d)]=c})),i);ut(e,l)}return e}safe_merge(e){return Qe(this.props,(function(r,i){i in e||(e[i]=r)})),e}update_config(e,r,i){if(this.ki=this.Ei=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!i),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==r.persistence){var o=this.wi(e),l=this.props;this.clear(),this.Y=o,this.props=l,this.save()}}set_disabled(e){this.xi=e,this.xi?this.remove():this.save()}set_cross_subdomain(e){e!==this.$i&&(this.$i=e,this.remove(),this.save())}set_secure(e){e!==this.Si&&(this.Si=e,this.remove(),this.save())}set_event_timer(e,r){var i=this.props[Ws]||{};i[e]=r,this.props[Ws]=i,this.save()}remove_event_timer(e){var r=(this.props[Ws]||{})[e];return K(r)||(delete this.props[Ws][e],this.save()),r}get_property(e){return this.props[e]}set_property(e,r){this.props[e]=r,this.save()}}var Ug=ct("[Product Tours]"),Hc="ph_product_tours";class ix{constructor(e){this.Pi=null,this.Ti=null,this._instance=e}onRemoteConfig(e){this._instance.persistence&&this._instance.persistence.register({[gg]:!(e==null||!e.productTours)}),this.loadIfEnabled()}loadIfEnabled(){var e,r;this.Pi||(e=this._instance).config.disable_product_tours||(r=e.persistence)==null||!r.get_property(gg)||this.it((()=>this.Ii()))}it(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.generateProductTours?e():(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"product-tours",(o=>{o?Ug.error("Could not load product tours script",o):e()}))}Ii(){var e;!this.Pi&&(e=_e.__PosthogExtensions__)!=null&&e.generateProductTours&&(this.Pi=_e.__PosthogExtensions__.generateProductTours(this._instance,!0))}getProductTours(e,r){if(r===void 0&&(r=!1),!He(this.Ti)||r){var i=this._instance.persistence;if(i){var o=i.props[Hc];if(He(o)&&!r)return this.Ti=o,void e(o,{isLoaded:!0})}this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/product_tours/?token="+this._instance.config.token),method:"GET",callback:l=>{var c=l.statusCode;if(c!==200||!l.json){var d="Product Tours API could not be loaded, status: "+c;return Ug.error(d),void e([],{isLoaded:!1,error:d})}var p=He(l.json.product_tours)?l.json.product_tours:[];this.Ti=p,i&&i.register({[Hc]:p}),e(p,{isLoaded:!0})}})}else e(this.Ti,{isLoaded:!0})}getActiveProductTours(e){Ve(this.Pi)?e([],{isLoaded:!1,error:"Product tours not loaded"}):this.Pi.getActiveProductTours(e)}showProductTour(e){var r;(r=this.Pi)==null||r.showTourById(e)}previewTour(e){this.Pi?this.Pi.previewTour(e):this.it((()=>{var r;this.Ii(),(r=this.Pi)==null||r.previewTour(e)}))}dismissProductTour(){var e;(e=this.Pi)==null||e.dismissTour("user_clicked_skip")}nextStep(){var e;(e=this.Pi)==null||e.nextStep()}previousStep(){var e;(e=this.Pi)==null||e.previousStep()}clearCache(){var e;this.Ti=null,(e=this._instance.persistence)==null||e.unregister(Hc)}resetTour(e){var r;(r=this.Pi)==null||r.resetTour(e)}resetAllTours(){var e;(e=this.Pi)==null||e.resetAllTours()}cancelPendingTour(e){var r;(r=this.Pi)==null||r.cancelPendingTour(e)}}var $s=(function(s){return s.Activation="events",s.Cancellation="cancelEvents",s})({});(function(s){return s.Button="button",s.Tab="tab",s.Selector="selector",s})({});(function(s){return s.TopLeft="top_left",s.TopRight="top_right",s.TopCenter="top_center",s.MiddleLeft="middle_left",s.MiddleRight="middle_right",s.MiddleCenter="middle_center",s.Left="left",s.Center="center",s.Right="right",s.NextToTrigger="next_to_trigger",s})({});(function(s){return s.Top="top",s.Left="left",s.Right="right",s.Bottom="bottom",s})({});var Wc=(function(s){return s.Popover="popover",s.API="api",s.Widget="widget",s.ExternalSurvey="external_survey",s})({});(function(s){return s.Open="open",s.MultipleChoice="multiple_choice",s.SingleChoice="single_choice",s.Rating="rating",s.Link="link",s})({});(function(s){return s.NextQuestion="next_question",s.End="end",s.ResponseBased="response_based",s.SpecificQuestion="specific_question",s})({});(function(s){return s.Once="once",s.Recurring="recurring",s.Always="always",s})({});var Ja=(function(s){return s.SHOWN="survey shown",s.DISMISSED="survey dismissed",s.SENT="survey sent",s.ABANDONED="survey abandoned",s})({}),Bg=(function(s){return s.SURVEY_ID="$survey_id",s.SURVEY_NAME="$survey_name",s.SURVEY_RESPONSE="$survey_response",s.SURVEY_ITERATION="$survey_iteration",s.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",s.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",s.SURVEY_SUBMISSION_ID="$survey_submission_id",s.SURVEY_QUESTIONS="$survey_questions",s.SURVEY_COMPLETED="$survey_completed",s.PRODUCT_TOUR_ID="$product_tour_id",s})({}),Sm=(function(s){return s.Popover="popover",s.Inline="inline",s})({}),Ye=ct("[Surveys]"),Em="seenSurvey_",sx=(s,e)=>{var r="$survey_"+e+"/"+s.id;return s.current_iteration&&s.current_iteration>0&&(r="$survey_"+e+"/"+s.id+"/"+s.current_iteration),r},Vg=s=>((e,r)=>{var i=""+e+r.id;return r.current_iteration&&r.current_iteration>0&&(i=""+e+r.id+"_"+r.current_iteration),i})(Em,s),ox=[Wc.Popover,Wc.Widget,Wc.API],ax={ignoreConditions:!1,ignoreDelay:!1,displayType:Sm.Popover};class Zd{constructor(){this.Ci={},this.Ci={}}on(e,r){return this.Ci[e]||(this.Ci[e]=[]),this.Ci[e].push(r),()=>{this.Ci[e]=this.Ci[e].filter((i=>i!==r))}}emit(e,r){for(var i of this.Ci[e]||[])i(r);for(var o of this.Ci["*"]||[])o(e,r)}}function Ci(s,e,r){if(Ve(s))return!1;switch(r){case"exact":return s===e;case"contains":var i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/_/g,".").replace(/%/g,".*");return new RegExp(i,"i").test(s);case"regex":try{return new RegExp(e).test(s)}catch{return!1}default:return!1}}class lx{constructor(e){this.Ri=new Zd,this.Fi=(r,i)=>this.Mi(r,i)&&this.Oi(r,i)&&this.Ai(r,i)&&this.Di(r,i),this.Mi=(r,i)=>i==null||!i.event||r?.event===i?.event,this._instance=e,this.ji=new Set,this.Li=new Set}init(){var e;if(!K((e=this._instance)==null?void 0:e.Ni)){var r;(r=this._instance)==null||r.Ni(((i,o)=>{this.on(i,o)}))}}register(e){var r,i;if(!K((r=this._instance)==null?void 0:r.Ni)&&(e.forEach((c=>{var d,p;(d=this.Li)==null||d.add(c),(p=c.steps)==null||p.forEach((g=>{var v;(v=this.ji)==null||v.add(g?.event||"")}))})),(i=this._instance)!=null&&i.autocapture)){var o,l=new Set;e.forEach((c=>{var d;(d=c.steps)==null||d.forEach((p=>{p!=null&&p.selector&&l.add(p?.selector)}))})),(o=this._instance)==null||o.autocapture.setElementSelectors(l)}}on(e,r){var i;r!=null&&e.length!=0&&(this.ji.has(e)||this.ji.has(r?.event))&&this.Li&&((i=this.Li)==null?void 0:i.size)>0&&this.Li.forEach((o=>{this.Ui(r,o)&&this.Ri.emit("actionCaptured",o.name)}))}zi(e){this.onAction("actionCaptured",(r=>e(r)))}Ui(e,r){if(r?.steps==null)return!1;for(var i of r.steps)if(this.Fi(e,i))return!0;return!1}onAction(e,r){return this.Ri.on(e,r)}Oi(e,r){if(r!=null&&r.url){var i,o=e==null||(i=e.properties)==null?void 0:i.$current_url;if(!o||typeof o!="string"||!Ci(o,r.url,r.url_matching||"contains"))return!1}return!0}Ai(e,r){return!!this.Hi(e,r)&&!!this.Bi(e,r)&&!!this.qi(e,r)}Hi(e,r){var i;if(r==null||!r.href)return!0;var o=this.Wi(e);if(o.length>0)return o.some((d=>Ci(d.href,r.href,r.href_matching||"exact")));var l,c=(e==null||(i=e.properties)==null?void 0:i.$elements_chain)||"";return!!c&&Ci((l=c.match(/(?::|")href="(.*?)"/))?l[1]:"",r.href,r.href_matching||"exact")}Bi(e,r){var i;if(r==null||!r.text)return!0;var o=this.Wi(e);if(o.length>0)return o.some((g=>Ci(g.text,r.text,r.text_matching||"exact")||Ci(g.$el_text,r.text,r.text_matching||"exact")));var l,c,d,p=(e==null||(i=e.properties)==null?void 0:i.$elements_chain)||"";return!!p&&(l=(function(g){for(var v,_=[],y=/(?::|")text="(.*?)"/g;!Ve(v=y.exec(g));)_.includes(v[1])||_.push(v[1]);return _})(p),c=r.text,d=r.text_matching||"exact",l.some((g=>Ci(g,c,d))))}qi(e,r){var i,o;if(r==null||!r.selector)return!0;var l=e==null||(i=e.properties)==null?void 0:i.$element_selectors;if(l!=null&&l.includes(r.selector))return!0;var c=(e==null||(o=e.properties)==null?void 0:o.$elements_chain)||"";if(r.selector_regex&&c)try{return new RegExp(r.selector_regex).test(c)}catch{return!1}return!1}Wi(e){var r;return(e==null||(r=e.properties)==null?void 0:r.$elements)==null?[]:e?.properties.$elements}Di(e,r){return r==null||!r.properties||r.properties.length===0||bm(r.properties.reduce(((i,o)=>{var l=He(o.value)?o.value.map(String):o.value!=null?[String(o.value)]:[];return i[o.key]={values:l,operator:o.operator||"exact"},i}),{}),e?.properties)}}class ux{constructor(e){this._instance=e,this.Gi=new Map,this.Vi=new Map,this.Ji=new Map}Ki(e,r){return!!e&&bm(e.propertyFilters,r?.properties)}Yi(e,r){var i=new Map;return e.forEach((o=>{var l;(l=o.conditions)==null||(l=l[r])==null||(l=l.values)==null||l.forEach((c=>{if(c!=null&&c.name){var d=i.get(c.name)||[];d.push(o.id),i.set(c.name,d)}}))})),i}Xi(e,r,i){var o=(i===$s.Activation?this.Gi:this.Vi).get(e),l=[];return this.Qi((c=>{l=c.filter((d=>o?.includes(d.id)))})),l.filter((c=>{var d,p=(d=c.conditions)==null||(d=d[i])==null||(d=d.values)==null?void 0:d.find((g=>g.name===e));return this.Ki(p,r)}))}register(e){var r;K((r=this._instance)==null?void 0:r.Ni)||(this.Zi(e),this.te(e))}te(e){var r=e.filter((i=>{var o,l;return((o=i.conditions)==null?void 0:o.actions)&&((l=i.conditions)==null||(l=l.actions)==null||(l=l.values)==null?void 0:l.length)>0}));r.length!==0&&(this.ie==null&&(this.ie=new lx(this._instance),this.ie.init(),this.ie.zi((i=>{this.onAction(i)}))),r.forEach((i=>{var o,l,c,d,p;i.conditions&&(o=i.conditions)!=null&&o.actions&&(l=i.conditions)!=null&&(l=l.actions)!=null&&l.values&&((c=i.conditions)==null||(c=c.actions)==null||(c=c.values)==null?void 0:c.length)>0&&((d=this.ie)==null||d.register(i.conditions.actions.values),(p=i.conditions)==null||(p=p.actions)==null||(p=p.values)==null||p.forEach((g=>{if(g&&g.name){var v=this.Ji.get(g.name);v&&v.push(i.id),this.Ji.set(g.name,v||[i.id])}})))})))}Zi(e){var r,i=e.filter((l=>{var c,d;return((c=l.conditions)==null?void 0:c.events)&&((d=l.conditions)==null||(d=d.events)==null||(d=d.values)==null?void 0:d.length)>0})),o=e.filter((l=>{var c,d;return((c=l.conditions)==null?void 0:c.cancelEvents)&&((d=l.conditions)==null||(d=d.cancelEvents)==null||(d=d.values)==null?void 0:d.length)>0}));(i.length!==0||o.length!==0)&&((r=this._instance)==null||r.Ni(((l,c)=>{this.onEvent(l,c)})),this.Gi=this.Yi(e,$s.Activation),this.Vi=this.Yi(e,$s.Cancellation))}onEvent(e,r){var i,o=this.ee(),l=this.re(),c=this.se(),d=((i=this._instance)==null||(i=i.persistence)==null?void 0:i.props[l])||[];if(c===e&&r&&d.length>0){var p,g;o.info("event matched, removing item from activated items",{event:e,eventPayload:r,existingActivatedItems:d});var v=(r==null||(p=r.properties)==null?void 0:p.$survey_id)||(r==null||(g=r.properties)==null?void 0:g.$product_tour_id);if(v){var _=d.indexOf(v);_>=0&&(d.splice(_,1),this.ne(d))}}else{if(this.Vi.has(e)){var y=this.Xi(e,r,$s.Cancellation);y.length>0&&(o.info("cancel event matched, cancelling items",{event:e,itemsToCancel:y.map((C=>C.id))}),y.forEach((C=>{var k=d.indexOf(C.id);k>=0&&d.splice(k,1),this.oe(C.id)})),this.ne(d))}if(this.Gi.has(e)){o.info("event name matched",{event:e,eventPayload:r,items:this.Gi.get(e)});var w=this.Xi(e,r,$s.Activation);this.ne(d.concat(w.map((C=>C.id))||[]))}}}onAction(e){var r,i=this.re(),o=((r=this._instance)==null||(r=r.persistence)==null?void 0:r.props[i])||[];this.Ji.has(e)&&this.ne(o.concat(this.Ji.get(e)||[]))}ne(e){var r,i=this.ee(),o=this.re(),l=[...new Set(e)].filter((c=>!this.ae(c)));i.info("updating activated items",{activatedItems:l}),(r=this._instance)==null||(r=r.persistence)==null||r.register({[o]:l})}getActivatedIds(){var e,r=this.re(),i=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.props[r];return i||[]}getEventToItemsMap(){return this.Gi}le(){return this.ie}}class cx extends ux{constructor(e){super(e)}re(){return"$surveys_activated"}se(){return Ja.SHOWN}Qi(e){var r;(r=this._instance)==null||r.getSurveys(e)}oe(e){var r;(r=this._instance)==null||r.cancelPendingSurvey(e)}ee(){return Ye}ae(){return!1}getSurveys(){return this.getActivatedIds()}getEventToSurveys(){return this.getEventToItemsMap()}}class dx{constructor(e){this.ue=void 0,this._surveyManager=null,this.he=!1,this.de=!1,this.ve=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){if(!this._instance.config.disable_surveys){var r=e.surveys;if(Ve(r))return Ye.warn("Flags not loaded yet. Not loading surveys.");var i=He(r);this.ue=i?r.length>0:r,Ye.info("flags response received, isSurveysEnabled: "+this.ue),this.loadIfEnabled()}}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],r=0;r<localStorage.length;r++){var i=localStorage.key(r);(i!=null&&i.startsWith(Em)||i!=null&&i.startsWith("inProgressSurvey_"))&&e.push(i)}e.forEach((o=>localStorage.removeItem(o)))}loadIfEnabled(){if(!this._surveyManager)if(this.de)Ye.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)Ye.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Ye.info("Not loading surveys in cookieless mode without consent.");else{var e=_e?.__PosthogExtensions__;if(e){if(!K(this.ue)||this._instance.config.advanced_enable_surveys){var r=this.ue||this._instance.config.advanced_enable_surveys;this.de=!0;try{var i=e.generateSurveys;if(i)return void this.ce(i,r);var o=e.loadExternalDependency;if(!o)return void this.fe("PostHog loadExternalDependency extension not found.");o(this._instance,"surveys",(l=>{l||!e.generateSurveys?this.fe("Could not load surveys script",l):this.ce(e.generateSurveys,r)}))}catch(l){throw this.fe("Error initializing surveys",l),l}finally{this.de=!1}}}else Ye.error("PostHog Extensions not found.")}}ce(e,r){this._surveyManager=e(this._instance,r),this._surveyEventReceiver=new cx(this._instance),Ye.info("Surveys loaded successfully"),this.pe({isLoaded:!0})}fe(e,r){Ye.error(e,r),this.pe({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.ve.push(e),this._surveyManager&&this.pe({isLoaded:!0}),()=>{this.ve=this.ve.filter((r=>r!==e))}}getSurveys(e,r){if(r===void 0&&(r=!1),this._instance.config.disable_surveys)return Ye.info("Disabled. Not loading surveys."),e([]);var i=this._instance.get_property(ud);if(i&&!r)return e(i,{isLoaded:!0});if(this.he)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.he=!0,this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:o=>{var l;this.he=!1;var c=o.statusCode;if(c!==200||!o.json){var d="Surveys API could not be loaded, status: "+c;return Ye.error(d),e([],{isLoaded:!1,error:d})}var p,g=o.json.surveys||[],v=g.filter((_=>(function(y){return!(!y.start_date||y.end_date)})(_)&&((function(y){var w;return!((w=y.conditions)==null||(w=w.events)==null||(w=w.values)==null||!w.length)})(_)||(function(y){var w;return!((w=y.conditions)==null||(w=w.actions)==null||(w=w.values)==null||!w.length)})(_))));return v.length>0&&((p=this._surveyEventReceiver)==null||p.register(v)),(l=this._instance.persistence)==null||l.register({[ud]:g}),e(g,{isLoaded:!0})}})}catch(o){throw this.he=!1,o}}pe(e){for(var r of this.ve)try{if(!e.isLoaded)return r([],e);this.getSurveys(r)}catch(i){Ye.error("Error in survey callback",i)}}getActiveMatchingSurveys(e,r){if(r===void 0&&(r=!1),!Ve(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,r);Ye.warn("init was not called")}ge(e){var r=null;return this.getSurveys((i=>{var o;r=(o=i.find((l=>l.id===e)))!==null&&o!==void 0?o:null})),r}_e(e){if(Ve(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var r=typeof e=="string"?this.ge(e):e;return r?this._surveyManager.checkSurveyEligibility(r):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(Ve(this._surveyManager))return Ye.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var r=this._e(e);return{visible:r.eligible,disabledReason:r.reason}}canRenderSurveyAsync(e,r){return Ve(this._surveyManager)?(Ye.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise((i=>{this.getSurveys((o=>{var l,c=(l=o.find((p=>p.id===e)))!==null&&l!==void 0?l:null;if(c){var d=this._e(c);i({visible:d.eligible,disabledReason:d.reason})}else i({visible:!1,disabledReason:"Survey not found"})}),r)}))}renderSurvey(e,r){var i;if(Ve(this._surveyManager))Ye.warn("init was not called");else{var o=typeof e=="string"?this.ge(e):e;if(o!=null&&o.id)if(ox.includes(o.type)){var l=re?.querySelector(r);if(l)return(i=o.appearance)!=null&&i.surveyPopupDelaySeconds?(Ye.info("Rendering survey "+o.id+" with delay of "+o.appearance.surveyPopupDelaySeconds+" seconds"),void setTimeout((()=>{var c,d;Ye.info("Rendering survey "+o.id+" with delay of "+((c=o.appearance)==null?void 0:c.surveyPopupDelaySeconds)+" seconds"),(d=this._surveyManager)==null||d.renderSurvey(o,l),Ye.info("Survey "+o.id+" rendered")}),1e3*o.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(o,l);Ye.warn("Survey element not found")}else Ye.warn("Surveys of type "+o.type+" cannot be rendered in the app");else Ye.warn("Survey not found")}}displaySurvey(e,r){var i;if(Ve(this._surveyManager))Ye.warn("init was not called");else{var o=this.ge(e);if(o){var l=o;if((i=o.appearance)!=null&&i.surveyPopupDelaySeconds&&r.ignoreDelay&&(l=ue({},o,{appearance:ue({},o.appearance,{surveyPopupDelaySeconds:0})})),r.ignoreConditions===!1){var c=this.canRenderSurvey(o);if(!c.visible)return void Ye.warn("Survey is not eligible to be displayed: ",c.disabledReason)}r.displayType!==Sm.Inline?this._surveyManager.handlePopoverSurvey(l):this.renderSurvey(l,r.selector)}else Ye.warn("Survey not found")}}cancelPendingSurvey(e){Ve(this._surveyManager)?Ye.warn("init was not called"):this._surveyManager.cancelSurvey(e)}handlePageUnload(){var e;(e=this._surveyManager)==null||e.handlePageUnload()}}var zs=ct("[Conversations]");class fx{constructor(e){this.me=void 0,this._conversationsManager=null,this.be=!1,this.ye=null,this._instance=e}onRemoteConfig(e){if(!this._instance.config.disable_conversations){var r=e.conversations;Ve(r)||(Kr(r)?this.me=r:(this.me=r.enabled,this.ye=r),this.loadIfEnabled())}}reset(){var e;(e=this._conversationsManager)==null||e.reset(),this._conversationsManager=null,this.me=void 0,this.ye=null}loadIfEnabled(){if(!this._conversationsManager&&!this.be&&!(this._instance.config.disable_conversations||this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())){var e=_e?.__PosthogExtensions__;if(e&&!K(this.me)&&this.me)if(this.ye&&this.ye.token){if((function(o){var l;if(!o||o.length===0)return!0;var c=L==null||(l=L.location)==null?void 0:l.hostname;return!c||o.some((d=>{var p=(function(v){var _=v.replace(/^https?:\/\//,"");return(_=_.split("/")[0].split("?")[0].split(":")[0])||null})(d);if(!p)return!1;if(p.startsWith("*.")){var g=p.slice(2);return c.endsWith("."+g)||c===g}return c===p}))})(this.ye.domains)){this.be=!0;try{var r=e.initConversations;if(r)return this.we(r),void(this.be=!1);var i=e.loadExternalDependency;if(!i)return void this.xe("PostHog loadExternalDependency extension not found.");i(this._instance,"conversations",(o=>{o||!e.initConversations?this.xe("Could not load conversations script",o):this.we(e.initConversations),this.be=!1}))}catch(o){this.xe("Error initializing conversations",o),this.be=!1}}}else zs.error("Conversations enabled but missing token in remote config.")}}we(e){if(this.ye)try{this._conversationsManager=e(this.ye,this._instance),zs.info("Conversations loaded successfully")}catch(r){this.xe("Error completing conversations initialization",r)}else zs.error("Cannot complete initialization: remote config is null")}xe(e,r){zs.error(e,r),this._conversationsManager=null,this.be=!1}enable(){this._conversationsManager?this._conversationsManager.enable():zs.warn("Conversations not loaded yet.")}disable(){this._conversationsManager&&this._conversationsManager.disable()}isLoaded(){return!Sr(this._conversationsManager)}isEnabled(){return this.me===!0}}var Hg=ct("[RateLimiter]");class hx{constructor(e){var r,i;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=o=>{var l=o.text;if(l&&l.length)try{(JSON.parse(l).quota_limited||[]).forEach((c=>{Hg.info((c||"events")+" is quota limited."),this.serverLimits[c]=new Date().getTime()+6e4}))}catch(c){return void Hg.warn('could not rate limit - continuing. Error: "'+c?.message+'"',{text:l})}},this.instance=e,this.captureEventsPerSecond=((r=e.config.rate_limiting)==null?void 0:r.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((i=e.config.rate_limiting)==null?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){var r,i,o;e===void 0&&(e=!1);var l=new Date().getTime(),c=(r=(i=this.instance.persistence)==null?void 0:i.get_property(dd))!==null&&r!==void 0?r:{tokens:this.captureEventsBurstLimit,last:l};c.tokens+=(l-c.last)/1e3*this.captureEventsPerSecond,c.last=l,c.tokens>this.captureEventsBurstLimit&&(c.tokens=this.captureEventsBurstLimit);var d=c.tokens<1;return d||e||(c.tokens=Math.max(0,c.tokens-1)),!d||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=d,(o=this.instance.persistence)==null||o.set_property(dd,c),{isRateLimited:d,remainingTokens:c.tokens}}isServerRateLimited(e){var r=this.serverLimits[e||"events"]||!1;return r!==!1&&new Date().getTime()<r}}var Zn=ct("[RemoteConfig]");class px{constructor(e){this._instance=e}get remoteConfig(){var e;return(e=_e._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.config}Ee(e){var r,i;(r=_e.__PosthogExtensions__)!=null&&r.loadExternalDependency?(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,"remote-config",(()=>e(this.remoteConfig))):(Zn.error("PostHog Extensions not found. Cannot load remote config."),e())}$e(e){this._instance._send_request({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:r=>{e(r.json)}})}load(){try{if(this.remoteConfig)return Zn.info("Using preloaded remote config",this.remoteConfig),void this.pi(this.remoteConfig);if(this._instance.O())return void Zn.warn("Remote config is disabled. Falling back to local config.");this.Ee((e=>{if(!e)return Zn.info("No config found after loading remote JS config. Falling back to JSON."),void this.$e((r=>{this.pi(r)}));this.pi(e)}))}catch(e){Zn.error("Error loading remote config",e)}}pi(e){e?this._instance.config.__preview_remote_config?(this._instance.pi(e),e.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):Zn.info("__preview_remote_config is disabled. Logging config instead",e):Zn.error("Failed to fetch remote config from PostHog.")}}var _d=3e3;class gx{constructor(e,r){this.Se=!0,this.ke=[],this.Pe=Nr(r?.flush_interval_ms||_d,250,5e3,ne.createLogger("flush interval"),_d),this.Te=e}enqueue(e){this.ke.push(e),this.Ie||this.Ce()}unload(){this.Re();var e=this.ke.length>0?this.Fe():{},r=Object.values(e);[...r.filter((i=>i.url.indexOf("/e")===0)),...r.filter((i=>i.url.indexOf("/e")!==0))].map((i=>{this.Te(ue({},i,{transport:"sendBeacon"}))}))}enable(){this.Se=!1,this.Ce()}Ce(){var e=this;this.Se||(this.Ie=setTimeout((()=>{if(this.Re(),this.ke.length>0){var r=this.Fe(),i=function(){var l=r[o],c=new Date().getTime();l.data&&He(l.data)&&Qe(l.data,(d=>{d.offset=Math.abs(d.timestamp-c),delete d.timestamp})),e.Te(l)};for(var o in r)i()}}),this.Pe))}Re(){clearTimeout(this.Ie),this.Ie=void 0}Fe(){var e={};return Qe(this.ke,(r=>{var i,o=r,l=(o?o.batchKey:null)||o.url;K(e[l])&&(e[l]=ue({},o,{data:[]})),(i=e[l].data)==null||i.push(o.data)})),this.ke=[],e}}var vx=["retriesPerformedSoFar"];class mx{constructor(e){this.Me=!1,this.Oe=3e3,this.ke=[],this._instance=e,this.ke=[],this.Ae=!0,!K(L)&&"onLine"in L.navigator&&(this.Ae=L.navigator.onLine,this.De=()=>{this.Ae=!0,this.Lt()},this.je=()=>{this.Ae=!1},ft(L,"online",this.De),ft(L,"offline",this.je))}get length(){return this.ke.length}retriableRequest(e){var{retriesPerformedSoFar:r}=e,i=yv(e,vx);jr(r)&&r>0&&(i.url=gl(i.url,{retry_count:r})),this._instance._send_request(ue({},i,{callback:o=>{o.statusCode!==200&&(o.statusCode<400||o.statusCode>=500)&&(r??0)<10?this.Le(ue({retriesPerformedSoFar:r},i)):i.callback==null||i.callback(o)}}))}Le(e){var r=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=r+1;var i=(function(c){var d=3e3*Math.pow(2,c),p=d/2,g=Math.min(18e5,d),v=(Math.random()-.5)*(g-p);return Math.ceil(g+v)})(r),o=Date.now()+i;this.ke.push({retryAt:o,requestOptions:e});var l="Enqueued failed request for retry in "+i;navigator.onLine||(l+=" (Browser is offline)"),ne.warn(l),this.Me||(this.Me=!0,this.Ne())}Ne(){if(this.Ue&&clearTimeout(this.Ue),this.ke.length===0)return this.Me=!1,void(this.Ue=void 0);this.Ue=setTimeout((()=>{this.Ae&&this.ke.length>0&&this.Lt(),this.Ne()}),this.Oe)}Lt(){var e=Date.now(),r=[],i=this.ke.filter((l=>l.retryAt<e||(r.push(l),!1)));if(this.ke=r,i.length>0)for(var{requestOptions:o}of i)this.retriableRequest(o)}unload(){for(var{requestOptions:e}of(this.Ue&&(clearTimeout(this.Ue),this.Ue=void 0),this.Me=!1,K(L)||(this.De&&(L.removeEventListener("online",this.De),this.De=void 0),this.je&&(L.removeEventListener("offline",this.je),this.je=void 0)),this.ke))try{this._instance._send_request(ue({},e,{transport:"sendBeacon"}))}catch(r){ne.error(r)}this.ke=[]}}class _x{constructor(e){this.ze=()=>{var r,i,o,l;this.He||(this.He={});var c=this.scrollElement(),d=this.scrollY(),p=c?Math.max(0,c.scrollHeight-c.clientHeight):0,g=d+(c?.clientHeight||0),v=c?.scrollHeight||0;this.He.lastScrollY=Math.ceil(d),this.He.maxScrollY=Math.max(d,(r=this.He.maxScrollY)!==null&&r!==void 0?r:0),this.He.maxScrollHeight=Math.max(p,(i=this.He.maxScrollHeight)!==null&&i!==void 0?i:0),this.He.lastContentY=g,this.He.maxContentY=Math.max(g,(o=this.He.maxContentY)!==null&&o!==void 0?o:0),this.He.maxContentHeight=Math.max(v,(l=this.He.maxContentHeight)!==null&&l!==void 0?l:0)},this._instance=e}getContext(){return this.He}resetContext(){var e=this.He;return setTimeout(this.ze,0),e}startMeasuringScrollPosition(){ft(L,"scroll",this.ze,{capture:!0}),ft(L,"scrollend",this.ze,{capture:!0}),ft(L,"resize",this.ze)}scrollElement(){if(!this._instance.config.scroll_root_selector)return L?.document.documentElement;var e=He(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var r of e){var i=L?.document.querySelector(r);if(i)return i}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return L&&(L.scrollY||L.pageYOffset||L.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return L&&(L.scrollX||L.pageXOffset||L.document.documentElement.scrollLeft)||0}}var yx=s=>pm(s?.config.mask_personal_data_properties,s?.config.custom_personal_data_properties);class Wg{constructor(e,r,i,o){this.Be=l=>{var c=this.qe();if(!c||c.sessionId!==l){var d={sessionId:l,props:this.We(this._instance)};this.Ge.register({[cd]:d})}},this._instance=e,this.Ve=r,this.Ge=i,this.We=o||yx,this.Ve.onSessionId(this.Be)}qe(){return this.Ge.props[cd]}getSetOnceProps(){var e,r=(e=this.qe())==null?void 0:e.props;return r?"r"in r?gm(r):{$referring_domain:r.referringDomain,$pathname:r.initialPathName,utm_source:r.utm_source,utm_campaign:r.utm_campaign,utm_medium:r.utm_medium,utm_content:r.utm_content,utm_term:r.utm_term}:{}}getSessionProps(){var e={};return Qe(Ud(this.getSetOnceProps()),((r,i)=>{i==="$current_url"&&(i="url"),e["$session_entry_"+Jc(i)]=r})),e}}var Gc=ct("[SessionId]");class Gg{on(e,r){return this.Je.on(e,r)}constructor(e,r,i){var o;if(this.Ke=[],this.Ye=void 0,this.Je=new Zd,this.Xe=(v,_)=>Math.abs(v-_)>this.sessionTimeoutMs,!e.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(e.config.cookieless_mode==="always")throw new Error('SessionIdManager cannot be used with cookieless_mode="always"');this.R=e.config,this.Ge=e.persistence,this.Qe=void 0,this.Ze=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.tr=r||Sn,this.ir=i||Sn;var l=this.R.persistence_name||this.R.token,c=this.R.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*Nr(c,60,36e3,Gc.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.er(),this.rr="ph_"+l+"_window_id",this.sr="ph_"+l+"_primary_window_exists",this.nr()){var d=bt.W(this.rr),p=bt.W(this.sr);d&&!p?this.Qe=d:bt.V(this.rr),bt.G(this.sr,!0)}if((o=this.R.bootstrap)!=null&&o.sessionID)try{var g=(v=>{var _=v.replace(/-/g,"");if(_.length!==32)throw new Error("Not a valid UUID");if(_[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(_.substring(0,12),16)})(this.R.bootstrap.sessionID);this.ar(this.R.bootstrap.sessionID,new Date().getTime(),g)}catch(v){Gc.error("Invalid sessionID in bootstrap",v)}this.lr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return K(this.Ke)&&(this.Ke=[]),this.Ke.push(e),this.Ze&&e(this.Ze,this.Qe),()=>{this.Ke=this.Ke.filter((r=>r!==e))}}nr(){return this.R.persistence!=="memory"&&!this.Ge.xi&&bt.H()}ur(e){e!==this.Qe&&(this.Qe=e,this.nr()&&bt.G(this.rr,e))}hr(){return this.Qe?this.Qe:this.nr()?bt.W(this.rr):null}ar(e,r,i){e===this.Ze&&r===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=r,this.Ze=e,this.Ge.register({[sl]:[r,e,i]}))}dr(){var e=this.Ge.props[sl];return He(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.ar(null,null,null)}destroy(){clearTimeout(this.vr),this.vr=void 0,this.Ye&&L&&(L.removeEventListener("beforeunload",this.Ye,{capture:!1}),this.Ye=void 0),this.Ke=[]}lr(){this.Ye=()=>{this.nr()&&bt.V(this.sr)},ft(L,"beforeunload",this.Ye,{capture:!1})}checkAndGetSessionAndWindowId(e,r){if(e===void 0&&(e=!1),r===void 0&&(r=null),this.R.cookieless_mode==="always")throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var i=r||new Date().getTime(),[o,l,c]=this.dr(),d=this.hr(),p=jr(c)&&c>0&&Math.abs(i-c)>864e5,g=!1,v=!l,_=!v&&!e&&this.Xe(i,o);v||_||p?(l=this.tr(),d=this.ir(),Gc.info("new session ID generated",{sessionId:l,windowId:d,changeReason:{noSessionId:v,activityTimeout:_,sessionPastMaximumLength:p}}),c=i,g=!0):d||(d=this.ir(),g=!0);var y=o===0||!e||p?i:o,w=c===0?new Date().getTime():c;return this.ur(d),this.ar(l,y,w),e||this.er(),g&&this.Ke.forEach((C=>C(l,d,g?{noSessionId:v,activityTimeout:_,sessionPastMaximumLength:p}:void 0))),{sessionId:l,windowId:d,sessionStartTimestamp:w,changeReason:g?{noSessionId:v,activityTimeout:_,sessionPastMaximumLength:p}:void 0,lastActivityTimestamp:o}}er(){clearTimeout(this.vr),this.vr=setTimeout((()=>{var[e]=this.dr();if(this.Xe(new Date().getTime(),e)){var r=this.Ze;this.resetSessionId(),this.Je.emit("forcedIdleReset",{idleSessionId:r})}}),1.1*this.sessionTimeoutMs)}}var wx=["$set_once","$set"],xn=ct("[SiteApps]");class xx{constructor(e){this._instance=e,this.cr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}pr(e,r){if(r){var i=this.globalsForEvent(r);this.cr.push(i),this.cr.length>1e3&&(this.cr=this.cr.slice(10))}}get siteAppLoaders(){var e;return(e=_e._POSTHOG_REMOTE_CONFIG)==null||(e=e[this._instance.config.token])==null?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ni(this.pr.bind(this));this.gr=()=>{e(),this.cr=[],this.gr=void 0}}}globalsForEvent(e){var r,i,o,l,c,d,p;if(!e)throw new Error("Event payload is required");var g={},v=this._instance.get_property("$groups")||[],_=this._instance.get_property("$stored_group_properties")||{};for(var[y,w]of Object.entries(_))g[y]={id:v[y],type:y,properties:w};var{$set_once:C,$set:k}=e;return{event:ue({},yv(e,wx),{properties:ue({},e.properties,k?{$set:ue({},(r=(i=e.properties)==null?void 0:i.$set)!==null&&r!==void 0?r:{},k)}:{},C?{$set_once:ue({},(o=(l=e.properties)==null?void 0:l.$set_once)!==null&&o!==void 0?o:{},C)}:{}),elements_chain:(c=(d=e.properties)==null?void 0:d.$elements_chain)!==null&&c!==void 0?c:"",distinct_id:(p=e.properties)==null?void 0:p.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:g}}setupSiteApp(e){var r=this.apps[e.id],i=()=>{var d;!r.errored&&this.cr.length&&(xn.info("Processing "+this.cr.length+" events for site app with id "+e.id),this.cr.forEach((p=>r.processEvent==null?void 0:r.processEvent(p))),r.processedBuffer=!0),Object.values(this.apps).every((p=>p.processedBuffer||p.errored))&&((d=this.gr)==null||d.call(this))},o=!1,l=d=>{r.errored=!d,r.loaded=!0,xn.info("Site app with id "+e.id+" "+(d?"loaded":"errored")),o&&i()};try{var{processEvent:c}=e.init({posthog:this._instance,callback:d=>{l(d)}});c&&(r.processEvent=c),o=!0}catch(d){xn.error("Error while initializing PostHog app with config id "+e.id,d),l(!1)}if(o&&r.loaded)try{i()}catch(d){xn.error("Error while processing buffered events PostHog app with config id "+e.id,d),r.errored=!0}}_r(){var e=this.siteAppLoaders||[];for(var r of e)this.apps[r.id]={id:r.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}mr(e){if(Object.keys(this.apps).length!==0){var r=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{i.processEvent==null||i.processEvent(r)}catch(o){xn.error("Error while processing event "+e.event+" for site app "+i.id,o)}}}onRemoteConfig(e){var r,i,o,l=this;if((r=this.siteAppLoaders)!=null&&r.length)return this.isEnabled?(this._r(),void this._instance.on("eventCaptured",(g=>this.mr(g)))):void xn.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((i=this.gr)==null||i.call(this),(o=e.siteApps)!=null&&o.length)if(this.isEnabled){var c=function(g){var v;_e["__$$ph_site_app_"+g]=l._instance,(v=_e.__PosthogExtensions__)==null||v.loadSiteApp==null||v.loadSiteApp(l._instance,p,(_=>{if(_)return xn.error("Error while initializing PostHog app with config id "+g,_)}))};for(var{id:d,url:p}of e.siteApps)c(d)}else xn.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Cm=function(s,e){if(!s)return!1;var r=s.userAgent;if(r&&rg(r,e))return!0;try{var i=s?.userAgentData;if(i!=null&&i.brands&&i.brands.some((o=>rg(o?.brand,e))))return!0}catch{}return!!s.webdriver},Ys=(function(s){return s.US="us",s.EU="eu",s.CUSTOM="custom",s})({}),Zg="i.posthog.com";class kx{constructor(e){this.br={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return e==="https://app.posthog.com"?"https://us.i.posthog.com":e}get flagsApiHost(){var e=this.instance.config.flags_api_host;return e?e.trim().replace(/\/$/,""):this.apiHost}get uiHost(){var e,r=(e=this.instance.config.ui_host)==null?void 0:e.replace(/\/$/,"");return r||(r=this.apiHost.replace("."+Zg,".posthog.com")),r==="https://app.posthog.com"?"https://us.posthog.com":r}get region(){return this.br[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.br[this.apiHost]=Ys.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.br[this.apiHost]=Ys.EU:this.br[this.apiHost]=Ys.CUSTOM),this.br[this.apiHost]}endpointFor(e,r){if(r===void 0&&(r=""),r&&(r=r[0]==="/"?r:"/"+r),e==="ui")return this.uiHost+r;if(e==="flags")return this.flagsApiHost+r;if(this.region===Ys.CUSTOM)return this.apiHost+r;var i=Zg+r;switch(e){case"assets":return"https://"+this.region+"-assets."+i;case"api":return"https://"+this.region+"."+i}}}var bx={icontains:(s,e)=>!!L&&e.href.toLowerCase().indexOf(s.toLowerCase())>-1,not_icontains:(s,e)=>!!L&&e.href.toLowerCase().indexOf(s.toLowerCase())===-1,regex:(s,e)=>!!L&&vl(e.href,s),not_regex:(s,e)=>!!L&&!vl(e.href,s),exact:(s,e)=>e.href===s,is_not:(s,e)=>e.href!==s};class Rt{constructor(e){var r=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(i){i===void 0&&(i=!1),r.getWebExperiments((o=>{Rt.yr("retrieved web experiments from the server"),r.wr=new Map,o.forEach((l=>{if(l.feature_flag_key){var c;r.wr&&(Rt.yr("setting flag key ",l.feature_flag_key," to web experiment ",l),(c=r.wr)==null||c.set(l.feature_flag_key,l));var d=r._instance.getFeatureFlag(l.feature_flag_key);gt(d)&&l.variants[d]&&r.Er(l.name,d,l.variants[d].transforms)}else if(l.variants)for(var p in l.variants){var g=l.variants[p];Rt.$r(g)&&r.Er(l.name,p,g.transforms)}}))}),i)},this._instance=e,this._instance.onFeatureFlags((i=>{this.onFeatureFlags(i)}))}onFeatureFlags(e){if(this._is_bot())Rt.yr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(Ve(this.wr))return this.wr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();Rt.yr("applying feature flags",e),e.forEach((r=>{var i;if(this.wr&&(i=this.wr)!=null&&i.has(r)){var o,l=this._instance.getFeatureFlag(r),c=(o=this.wr)==null?void 0:o.get(r);l&&c!=null&&c.variants[l]&&this.Er(c.name,l,c.variants[l].transforms)}}))}}previewWebExperiment(){var e=Rt.getWindowLocation();if(e!=null&&e.search){var r=dl(e?.search,"__experiment_id"),i=dl(e?.search,"__experiment_variant");r&&i&&(Rt.yr("previewing web experiments "+r+" && "+i),this.getWebExperiments((o=>{this.Sr(parseInt(r),i,o)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,r,i){if(this._instance.config.disable_web_experiments&&!i)return e([]);var o=this._instance.get_property("$web_experiments");if(o&&!r)return e(o);this._instance._send_request({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:l=>{if(l.statusCode!==200||!l.json)return e([]);var c=l.json.experiments||[];return e(c)}})}Sr(e,r,i){var o=i.filter((l=>l.id===e));o&&o.length>0&&(Rt.yr("Previewing web experiment ["+o[0].name+"] with variant ["+r+"]"),this.Er(o[0].name,r,o[0].variants[r].transforms))}static $r(e){return!Ve(e.conditions)&&Rt.kr(e)&&Rt.Pr(e)}static kr(e){var r;if(Ve(e.conditions)||Ve((r=e.conditions)==null?void 0:r.url))return!0;var i,o,l,c=Rt.getWindowLocation();return!!c&&((i=e.conditions)==null||!i.url||bx[(o=(l=e.conditions)==null?void 0:l.urlMatchType)!==null&&o!==void 0?o:"icontains"](e.conditions.url,c))}static getWindowLocation(){return L?.location}static Pr(e){var r;if(Ve(e.conditions)||Ve((r=e.conditions)==null?void 0:r.utm))return!0;var i=cm();if(i.utm_source){var o,l,c,d,p,g,v,_,y=(o=e.conditions)==null||(o=o.utm)==null||!o.utm_campaign||((l=e.conditions)==null||(l=l.utm)==null?void 0:l.utm_campaign)==i.utm_campaign,w=(c=e.conditions)==null||(c=c.utm)==null||!c.utm_source||((d=e.conditions)==null||(d=d.utm)==null?void 0:d.utm_source)==i.utm_source,C=(p=e.conditions)==null||(p=p.utm)==null||!p.utm_medium||((g=e.conditions)==null||(g=g.utm)==null?void 0:g.utm_medium)==i.utm_medium,k=(v=e.conditions)==null||(v=v.utm)==null||!v.utm_term||((_=e.conditions)==null||(_=_.utm)==null?void 0:_.utm_term)==i.utm_term;return y&&C&&k&&w}return!1}static yr(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];ne.info("[WebExperiments] "+e,i)}Er(e,r,i){this._is_bot()?Rt.yr("Refusing to render web experiment since the viewer is a likely bot"):r!=="control"?i.forEach((o=>{if(o.selector){var l;Rt.yr("applying transform of variant "+r+" for experiment "+e+" ",o);var c=(l=document)==null?void 0:l.querySelectorAll(o.selector);c?.forEach((d=>{var p=d;o.html&&(p.innerHTML=o.html),o.css&&p.setAttribute("style",o.css)}))}})):Rt.yr("Control variants leave the page unmodified.")}_is_bot(){return Jt&&this._instance?Cm(Jt,this._instance.config.custom_blocked_useragents):void 0}}var Sx=ct("[PostHog ExternalIntegrations]"),Ex={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class Cx{constructor(e){this._instance=e}it(e,r){var i;(i=_e.__PosthogExtensions__)==null||i.loadExternalDependency==null||i.loadExternalDependency(this._instance,e,(o=>{if(o)return Sx.error("failed to load script",o);r()}))}startIfEnabledOrStop(){var e=this,r=function(c){var d,p,g;!o||(d=_e.__PosthogExtensions__)!=null&&(d=d.integrations)!=null&&d[c]||e.it(Ex[c],(()=>{var v;(v=_e.__PosthogExtensions__)==null||(v=v.integrations)==null||(v=v[c])==null||v.start(e._instance)})),!o&&(p=_e.__PosthogExtensions__)!=null&&(p=p.integrations)!=null&&p[c]&&((g=_e.__PosthogExtensions__)==null||(g=g.integrations)==null||(g=g[c])==null||g.stop())};for(var[i,o]of Object.entries((l=this._instance.config.integrations)!==null&&l!==void 0?l:{})){var l;r(i)}}}var yd="[SessionRecording]",Ds=ct(yd);class qg{get started(){var e;return!((e=this.Tr)==null||!e.isStarted)}get status(){return this.Tr?this.Tr.status:this.Ir&&!this.Cr?"disabled":"lazy_loading"}constructor(e){if(this._forceAllowLocalhostNetworkCapture=!1,this.Ir=!1,this.Rr=void 0,this._instance=e,!this._instance.sessionManager)throw Ds.error("started without valid sessionManager"),new Error(yd+" started without valid sessionManager. This is a bug.");if(this._instance.config.cookieless_mode==="always")throw new Error(yd+' cannot be used with cookieless_mode="always"')}get Cr(){var e,r=!((e=this._instance.get_property(jc))==null||!e.enabled),i=!this._instance.config.disable_session_recording,o=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return L&&r&&i&&!o}startIfEnabledOrStop(e){var r;if(!this.Cr||(r=this.Tr)==null||!r.isStarted){var i=!K(Object.assign)&&!K(Array.from);this.Cr&&i?(this.Fr(e),Ds.info("starting")):this.stopRecording()}}Fr(e){var r,i,o;this.Cr&&(_e!=null&&(r=_e.__PosthogExtensions__)!=null&&(r=r.rrweb)!=null&&r.record&&(i=_e.__PosthogExtensions__)!=null&&i.initSessionRecording?this.Mr(e):(o=_e.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this._instance,this.Or,(l=>{if(l)return Ds.error("could not load recorder",l);this.Mr(e)})))}stopRecording(){var e,r;(e=this.Rr)==null||e.call(this),this.Rr=void 0,(r=this.Tr)==null||r.stop()}Ar(){var e;(e=this._instance.persistence)==null||e.unregister(Wv)}Dr(e){if(this._instance.persistence){var r,i,o=this._instance.persistence,l=()=>{var c=e.sessionRecording===!1?void 0:e.sessionRecording,d=c?.sampleRate,p=Ve(d)?null:parseFloat(d);Ve(p)&&this.Ar();var g=c?.minimumDurationMilliseconds;o.register({[jc]:ue({enabled:!!c},c,{networkPayloadCapture:ue({capturePerformance:e.capturePerformance},c?.networkPayloadCapture),canvasRecording:{enabled:c?.recordCanvas,fps:c?.canvasFps,quality:c?.canvasQuality},sampleRate:p,minimumDurationMilliseconds:K(g)?null:g,endpoint:c?.endpoint,triggerMatchType:c?.triggerMatchType,masking:c?.masking,urlTriggers:c?.urlTriggers})})};l(),(r=this.Rr)==null||r.call(this),this.Rr=(i=this._instance.sessionManager)==null?void 0:i.onSessionId(l)}}onRemoteConfig(e){"sessionRecording"in e?e.sessionRecording!==!1?(this.Dr(e),this.Ir=!0,this.startIfEnabledOrStop()):this.Ir=!0:Ds.info("skipping remote config with no sessionRecording",e)}log(e,r){var i;r===void 0&&(r="log"),(i=this.Tr)!=null&&i.log?this.Tr.log(e,r):Ds.warn("log called before recorder was ready")}get Or(){var e,r,i=(e=this._instance)==null||(e=e.persistence)==null?void 0:e.get_property(jc);return(i==null||(r=i.scriptConfig)==null?void 0:r.script)||"lazy-recorder"}Mr(e){var r,i;if((r=_e.__PosthogExtensions__)==null||!r.initSessionRecording)throw Error("Called on script loaded before session recording is available");this.Tr||(this.Tr=(i=_e.__PosthogExtensions__)==null?void 0:i.initSessionRecording(this._instance),this.Tr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture),this.Tr.start(e)}onRRwebEmit(e){var r;(r=this.Tr)==null||r.onRRwebEmit==null||r.onRRwebEmit(e)}overrideLinkedFlag(){var e,r;this.Tr||(r=this._instance.persistence)==null||r.register({$replay_override_linked_flag:!0}),(e=this.Tr)==null||e.overrideLinkedFlag()}overrideSampling(){var e,r;this.Tr||(r=this._instance.persistence)==null||r.register({$replay_override_sampling:!0}),(e=this.Tr)==null||e.overrideSampling()}overrideTrigger(e){var r,i;this.Tr||(i=this._instance.persistence)==null||i.register({[e==="url"?"$replay_override_url_trigger":"$replay_override_event_trigger"]:!0}),(r=this.Tr)==null||r.overrideTrigger(e)}get sdkDebugProperties(){var e;return((e=this.Tr)==null?void 0:e.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(e,r){var i;return!((i=this.Tr)==null||!i.tryAddCustomEvent(e,r))}}var eo={},wd=()=>{},Pi="posthog",Pm=!Kw&&Ht?.indexOf("MSIE")===-1&&Ht?.indexOf("Mozilla")===-1,Yg=s=>{var e;return ue({api_host:"https://us.i.posthog.com",flags_api_host:null,ui_host:null,token:"",autocapture:!0,cross_subdomain_cookie:rw(re?.location),persistence:"localStorage+cookie",persistence_name:"",loaded:wd,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:"if_capture_pageview",defaults:s??"unset",__preview_deferred_init_extensions:!1,debug:Wt&&gt(Wt?.search)&&Wt.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_conversations:!1,disable_product_tours:!0,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(L==null||(e=L.location)==null?void 0:e.protocol)==="https:",ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:r=>{var i="Bad HTTP status: "+r.statusCode+" "+r.text;ne.error(i)},get_device_id:r=>r,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:_d},error_tracking:{},_onCapture:wd,__preview_eager_load_replay:!1},(r=>({rageclick:!(r&&r>="2025-11-30")||{content_ignorelist:!0},capture_pageview:!(r&&r>="2025-05-24")||"history_change",session_recording:r&&r>="2025-11-30"?{strictMinimumDuration:!0}:{}}))(s))},Qg=s=>{var e={};K(s.process_person)||(e.person_profiles=s.process_person),K(s.xhr_headers)||(e.request_headers=s.xhr_headers),K(s.cookie_name)||(e.persistence_name=s.cookie_name),K(s.disable_cookie)||(e.disable_persistence=s.disable_cookie),K(s.store_google)||(e.save_campaign_params=s.store_google),K(s.verbose)||(e.debug=s.verbose);var r=ut({},e,s);return He(s.property_blacklist)&&(K(s.property_denylist)?r.property_denylist=s.property_blacklist:He(s.property_denylist)?r.property_denylist=[...s.property_blacklist,...s.property_denylist]:ne.error("Invalid value for property_denylist config: "+s.property_denylist)),r};class Px{constructor(){this.__forceAllowLocalhost=!1}get jr(){return this.__forceAllowLocalhost}set jr(e){ne.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class Nl{get decideEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}get flagsEndpointWasHit(){var e,r;return(e=(r=this.featureFlags)==null?void 0:r.hasLoadedFlags)!==null&&e!==void 0&&e}constructor(){this.webPerformance=new Px,this.Lr=!1,this.version=Gr.LIB_VERSION,this.Nr=new Zd,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Yg(),this.SentryIntegration=Iw,this.sentryIntegration=e=>(function(r,i){var o=um(r,i);return{name:lm,processEvent:l=>o(l)}})(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.Ur=!1,this.zr=null,this.Hr=null,this.Br=null,this.featureFlags=new rx(this),this.toolbar=new jw(this),this.scrollManager=new _x(this),this.pageViewManager=new Vw(this),this.surveys=new dx(this),this.conversations=new fx(this),this.experiments=new Rt(this),this.exceptions=new Jw(this),this.rateLimiter=new hx(this),this.requestRouter=new kx(this),this.consent=new Ew(this),this.externalIntegrations=new Cx(this),this.people={set:(e,r,i)=>{var o=gt(e)?{[e]:r}:e;this.setPersonProperties(o),i?.({})},set_once:(e,r,i)=>{var o=gt(e)?{[e]:r}:e;this.setPersonProperties(void 0,o),i?.({})}},this.on("eventCaptured",(e=>ne.info('send "'+e?.event+'"',e)))}init(e,r,i){if(i&&i!==Pi){var o,l=(o=eo[i])!==null&&o!==void 0?o:new Nl;return l._init(e,r,i),eo[i]=l,eo[Pi][i]=l,l}return this._init(e,r,i)}_init(e,r,i){var o;if(r===void 0&&(r={}),K(e)||ed(e))return ne.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return console.warn("[PostHog.js]","You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},r.debug=this.qr(r.debug),this.Wr=r,this.Gr=[],r.person_profiles&&(this.Hr=r.person_profiles),this.set_config(ut({},Yg(r.defaults),Qg(r),{name:i,token:e})),this.config.on_xhr_error&&ne.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=r.disable_compression?void 0:Qr.GZipJS;var l=this.Vr();this.persistence=new Vc(this.config,l),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Vc(ue({},this.config,{persistence:"sessionStorage"}),l);var c=ue({},this.persistence.props),d=ue({},this.sessionPersistence.props);this.register({$initialization_time:new Date().toISOString()}),this.Jr=new gx((M=>this.Kr(M)),this.config.request_queue_config),this.Yr=new mx(this),this.__request_queue=[];var p=this.config.cookieless_mode==="always"||this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut();if(p||(this.sessionManager=new Gg(this),this.sessionPropsManager=new Wg(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(ne.info("Deferring extension initialization to improve startup performance"),setTimeout((()=>{this.Xr(p)}),0)):(ne.info("Initializing extensions synchronously"),this.Xr(p)),Gr.DEBUG=Gr.DEBUG||this.config.debug,Gr.DEBUG&&ne.info("Starting in debug mode",{this:this,config:r,thisC:ue({},this.config),p:c,s:d}),((o=r.bootstrap)==null?void 0:o.distinctID)!==void 0){var g,v,_=this.config.get_device_id(Sn()),y=(g=r.bootstrap)!=null&&g.isIdentifiedID?_:r.bootstrap.distinctID;this.persistence.set_property(Zr,(v=r.bootstrap)!=null&&v.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:r.bootstrap.distinctID,$device_id:y})}if(this.Qr()){var w,C,k=Object.keys(((w=r.bootstrap)==null?void 0:w.featureFlags)||{}).filter((M=>{var D;return!((D=r.bootstrap)==null||(D=D.featureFlags)==null||!D[M])})).reduce(((M,D)=>{var V;return M[D]=((V=r.bootstrap)==null||(V=V.featureFlags)==null?void 0:V[D])||!1,M}),{}),x=Object.keys(((C=r.bootstrap)==null?void 0:C.featureFlagPayloads)||{}).filter((M=>k[M])).reduce(((M,D)=>{var V,J;return(V=r.bootstrap)!=null&&(V=V.featureFlagPayloads)!=null&&V[D]&&(M[D]=(J=r.bootstrap)==null||(J=J.featureFlagPayloads)==null?void 0:J[D]),M}),{});this.featureFlags.receivedFeatureFlags({featureFlags:k,featureFlagPayloads:x})}if(p)this.register_once({distinct_id:Is,$device_id:null},"");else if(!this.get_distinct_id()){var R=this.config.get_device_id(Sn());this.register_once({distinct_id:R,$device_id:R},""),this.persistence.set_property(Zr,"anonymous")}return ft(L,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),r.segment?Nw(this,(()=>this.Zr())):this.Zr(),En(this.config._onCapture)&&this.config._onCapture!==wd&&(ne.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",(M=>this.config._onCapture(M.event,M)))),this.config.ip&&ne.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Xr(e){var r=performance.now();this.historyAutocapture=new Rw(this),this.historyAutocapture.startIfEnabled();var i=[];i.push((()=>{new Aw(this).startIfEnabledOrStop()})),i.push((()=>{var o;this.siteApps=new xx(this),(o=this.siteApps)==null||o.init()})),e||i.push((()=>{this.sessionRecording=new qg(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||i.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),i.push((()=>{this.autocapture=new mw(this),this.autocapture.startIfEnabled()})),i.push((()=>{this.surveys.loadIfEnabled()})),i.push((()=>{this.conversations.loadIfEnabled()})),i.push((()=>{this.productTours=new ix(this),this.productTours.loadIfEnabled()})),i.push((()=>{this.heatmaps=new Bw(this),this.heatmaps.startIfEnabled()})),i.push((()=>{this.webVitalsAutocapture=new Dw(this)})),i.push((()=>{this.exceptionObserver=new Tw(this),this.exceptionObserver.startIfEnabledOrStop()})),i.push((()=>{this.deadClicksAutocapture=new am(this,Pw),this.deadClicksAutocapture.startIfEnabled()})),i.push((()=>{if(this.ts){var o=this.ts;this.ts=void 0,this.pi(o)}})),this.es(i,r)}es(e,r){for(;e.length>0;){if(this.config.__preview_deferred_init_extensions&&performance.now()-r>=30&&e.length>0)return void setTimeout((()=>{this.es(e,r)}),0);var i=e.shift();if(i)try{i()}catch(l){ne.error("Error initializing extension:",l)}}var o=Math.round(performance.now()-r);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?"deferred":"synchronous",$sdk_debug_extensions_init_time_ms:o}),this.config.__preview_deferred_init_extensions&&ne.info("PostHog extensions initialized ("+o+"ms)")}pi(e){var r,i,o,l,c,d,p,g,v;if(!re||!re.body)return ne.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((()=>{this.pi(e)}),500);this.config.__preview_deferred_init_extensions&&(this.ts=e),this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=je(e.supportedCompression,Qr.GZipJS)?Qr.GZipJS:je(e.supportedCompression,Qr.Base64)?Qr.Base64:void 0),(r=e.analytics)!=null&&r.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.Hr?this.Hr:"identified_only"}),(i=this.siteApps)==null||i.onRemoteConfig(e),(o=this.sessionRecording)==null||o.onRemoteConfig(e),(l=this.autocapture)==null||l.onRemoteConfig(e),(c=this.heatmaps)==null||c.onRemoteConfig(e),this.surveys.onRemoteConfig(e),this.conversations.onRemoteConfig(e),(d=this.productTours)==null||d.onRemoteConfig(e),(p=this.webVitalsAutocapture)==null||p.onRemoteConfig(e),(g=this.exceptionObserver)==null||g.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),(v=this.deadClicksAutocapture)==null||v.onRemoteConfig(e)}Zr(){try{this.config.loaded(this)}catch(e){ne.critical("`loaded` function failed",e)}this.rs(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||this.config.cookieless_mode==="always")&&this.ss()}),1),new px(this).load(),this.featureFlags.flags()}rs(){var e;this.is_capturing()&&this.config.request_batching&&((e=this.Jr)==null||e.enable())}_dom_loaded(){this.is_capturing()&&Cn(this.__request_queue,(e=>this.Kr(e))),this.__request_queue=[],this.rs()}_handle_unload(){var e,r;this.surveys.handlePageUnload(),this.config.request_batching?(this.ns()&&this.capture("$pageleave"),(e=this.Jr)==null||e.unload(),(r=this.Yr)==null||r.unload()):this.ns()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_send_request(e){this.__loaded&&(Pm?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=gl(e.url,{ip:this.config.ip?1:0}),e.headers=ue({},this.config.request_headers,e.headers),e.compression=e.compression==="best-available"?this.compression:e.compression,e.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(e.disableTransport=["sendBeacon"]),e.fetchOptions=e.fetchOptions||this.config.fetch_options,(r=>{var i,o,l,c=ue({},r);c.timeout=c.timeout||6e4,c.url=gl(c.url,{_:new Date().getTime().toString(),ver:Gr.LIB_VERSION,compression:c.compression});var d=(i=c.transport)!==null&&i!==void 0?i:"fetch",p=Ka.filter((v=>!c.disableTransport||!v.transport||!c.disableTransport.includes(v.transport))),g=(o=(l=Bv(p,(v=>v.transport===d)))==null?void 0:l.method)!==null&&o!==void 0?o:p[0].method;if(!g)throw new Error("No available transport method");g(c)})(ue({},e,{callback:r=>{var i,o;this.rateLimiter.checkForLimiting(r),r.statusCode>=400&&((i=(o=this.config).on_request_error)==null||i.call(o,r)),e.callback==null||e.callback(r)}}))))}Kr(e){this.Yr?this.Yr.retriableRequest(e):this._send_request(e)}_execute_array(e){var r,i=[],o=[],l=[];Cn(e,(d=>{d&&(r=d[0],He(r)?l.push(d):En(d)?d.call(this):He(d)&&r==="alias"?i.push(d):He(d)&&r.indexOf("capture")!==-1&&En(this[r])?l.push(d):o.push(d))}));var c=function(d,p){Cn(d,(function(g){if(He(g[0])){var v=p;Qe(g,(function(_){v=v[_[0]].apply(v,_.slice(1))}))}else this[g[0]].apply(this,g.slice(1))}),p)};c(i,this),c(o,this),c(l,this)}Qr(){var e,r;return((e=this.config.bootstrap)==null?void 0:e.featureFlags)&&Object.keys((r=this.config.bootstrap)==null?void 0:r.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,r,i){var o;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Jr){if(this.is_capturing())if(!K(e)&&gt(e)){var l=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(l&&!this.config.__preview_capture_bot_pageviews)){var c=i!=null&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(c==null||!c.isRateLimited){r!=null&&r.$current_url&&!gt(r?.$current_url)&&(ne.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),r==null||delete r.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var d=new Date,p=i?.timestamp||d,g=Sn(),v={uuid:g,event:e,properties:this.calculateEventProperties(e,r||{},p,g)};e==="$pageview"&&this.config.__preview_capture_bot_pageviews&&l&&(v.event="$bot_pageview",v.properties.$browser_type="bot"),c&&(v.properties.$lib_rate_limit_remaining_tokens=c.remainingTokens),i?.$set&&(v.$set=i?.$set);var _,y=e!=="$groupidentify",w=this.os(i?.$set_once,y);if(w&&(v.$set_once=w),(v=ew(v,i!=null&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=p,K(i?.timestamp)||(v.properties.$event_time_override_provided=!0,v.properties.$event_time_override_system_time=d),e===Ja.DISMISSED||e===Ja.SENT){var C=r?.[Bg.SURVEY_ID],k=r?.[Bg.SURVEY_ITERATION];_={id:C,current_iteration:k},localStorage.getItem(Vg(_))||localStorage.setItem(Vg(_),"true"),v.$set=ue({},v.$set,{[sx({id:C,current_iteration:k},e===Ja.SENT?"responded":"dismissed")]:!0})}var x=ue({},v.properties.$set,v.$set);if(Ri(x)||this.setPersonPropertiesForFlags(x),!Ve(this.config.before_send)){var R=this.ls(v);if(!R)return;v=R}this.Nr.emit("eventCaptured",v);var M={method:"POST",url:(o=i?._url)!==null&&o!==void 0?o:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:v,compression:"best-available",batchKey:i?._batchKey};return!this.config.request_batching||i&&(i==null||!i._batchKey)||i!=null&&i.send_instantly?this.Kr(M):this.Jr.enqueue(M),v}ne.critical("This capture call is ignored due to client rate limiting.")}}else ne.error("No event name provided to posthog.capture")}else ne.uninitializedWarning("posthog.capture")}Ni(e){return this.on("eventCaptured",(r=>e(r.event,r)))}calculateEventProperties(e,r,i,o,l){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return r;var c=l?void 0:this.persistence.remove_event_timer(e),d=ue({},r);if(d.token=this.config.token,d.$config_defaults=this.config.defaults,(this.config.cookieless_mode=="always"||this.config.cookieless_mode=="on_reject"&&this.consent.isExplicitlyOptedOut())&&(d.$cookieless_mode=!0),e==="$snapshot"){var p=ue({},this.persistence.properties(),this.sessionPersistence.properties());return d.distinct_id=p.distinct_id,(!gt(d.distinct_id)&&!jr(d.distinct_id)||ed(d.distinct_id))&&ne.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),d}var g,v=zw(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:_,windowId:y}=this.sessionManager.checkAndGetSessionAndWindowId(l,i.getTime());d.$session_id=_,d.$window_id=y}this.sessionPropsManager&&ut(d,this.sessionPropsManager.getSessionProps());try{var w;this.sessionRecording&&ut(d,this.sessionRecording.sdkDebugProperties),d.$sdk_debug_retry_queue_size=(w=this.Yr)==null?void 0:w.length}catch(R){d.$sdk_debug_error_capturing_properties=String(R)}if(this.requestRouter.region===Ys.CUSTOM&&(d.$lib_custom_api_host=this.config.api_host),g=e!=="$pageview"||l?e!=="$pageleave"||l?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(i):this.pageViewManager.doPageView(i,o),d=ut(d,g),e==="$pageview"&&re&&(d.title=re.title),!K(c)){var C=i.getTime()-c;d.$duration=parseFloat((C/1e3).toFixed(3))}Ht&&this.config.opt_out_useragent_filter&&(d.$browser_type=this._is_bot()?"bot":"browser"),(d=ut({},v,this.persistence.properties(),this.sessionPersistence.properties(),d)).$is_identified=this._isIdentified(),He(this.config.property_denylist)?Qe(this.config.property_denylist,(function(R){delete d[R]})):ne.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var k=this.config.sanitize_properties;k&&(ne.error("sanitize_properties is deprecated. Use before_send instead"),d=k(d,e));var x=this.us();return d.$process_person_profile=x,x&&!l&&this.hs("_calculate_event_properties"),d}os(e,r){var i;if(r===void 0&&(r=!0),!this.persistence||!this.us()||this.Lr)return e;var o=this.persistence.get_initial_props(),l=(i=this.sessionPropsManager)==null?void 0:i.getSetOnceProps(),c=ut({},o,l||{},e||{}),d=this.config.sanitize_properties;return d&&(ne.error("sanitize_properties is deprecated. Use before_send instead"),c=d(c,"$set_once")),r&&(this.Lr=!0),Ri(c)?void 0:c}register(e,r){var i;(i=this.persistence)==null||i.register(e,r)}register_once(e,r,i){var o;(o=this.persistence)==null||o.register_once(e,r,i)}register_for_session(e){var r;(r=this.sessionPersistence)==null||r.register(e)}unregister(e){var r;(r=this.persistence)==null||r.unregister(e)}unregister_for_session(e){var r;(r=this.sessionPersistence)==null||r.unregister(e)}ds(e,r){this.register({[e]:r})}getFeatureFlag(e,r){return this.featureFlags.getFeatureFlag(e,r)}getFeatureFlagPayload(e){var r=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(r)}catch{return r}}isFeatureEnabled(e,r){return this.featureFlags.isFeatureEnabled(e,r)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,r,i){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,r,i)}getEarlyAccessFeatures(e,r,i){return r===void 0&&(r=!1),this.featureFlags.getEarlyAccessFeatures(e,r,i)}on(e,r){return this.Nr.on(e,r)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var r,i;return(r=(i=this.sessionManager)==null?void 0:i.onSessionId(e))!==null&&r!==void 0?r:()=>{}}getSurveys(e,r){r===void 0&&(r=!1),this.surveys.getSurveys(e,r)}getActiveMatchingSurveys(e,r){r===void 0&&(r=!1),this.surveys.getActiveMatchingSurveys(e,r)}renderSurvey(e,r){this.surveys.renderSurvey(e,r)}displaySurvey(e,r){r===void 0&&(r=ax),this.surveys.displaySurvey(e,r)}cancelPendingSurvey(e){this.surveys.cancelPendingSurvey(e)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,r){return r===void 0&&(r=!1),this.surveys.canRenderSurveyAsync(e,r)}identify(e,r,i){if(!this.__loaded||!this.persistence)return ne.uninitializedWarning("posthog.identify");if(jr(e)&&(e=e.toString(),ne.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))ne.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==Is){if(this.hs("posthog.identify")){var o=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var l=o;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}e!==o&&e!==this.get_property(Hs)&&(this.unregister(Hs),this.register({distinct_id:e}));var c=(this.persistence.get_property(Zr)||"anonymous")==="anonymous";e!==o&&c?(this.persistence.set_property(Zr,"identified"),this.setPersonPropertiesForFlags(ue({},i||{},r||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:o},{$set:r||{},$set_once:i||{}}),this.Br=Fg(e,r,i),this.featureFlags.setAnonymousDistinctId(o)):(r||i)&&this.setPersonProperties(r,i),e!==o&&(this.reloadFeatureFlags(),this.unregister(ol))}}else ne.critical('The string "'+Is+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else ne.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,r){if((e||r)&&this.hs("posthog.setPersonProperties")){var i=Fg(this.get_distinct_id(),e,r);this.Br!==i?(this.setPersonPropertiesForFlags(ue({},r||{},e||{})),this.capture("$set",{$set:e||{},$set_once:r||{}}),this.Br=i):ne.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,r,i){if(e&&r){var o=this.getGroups();o[e]!==r&&this.resetGroupPropertiesForFlags(e),this.register({$groups:ue({},o,{[e]:r})}),i&&(this.capture("$groupidentify",{$group_type:e,$group_key:r,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),o[e]===r||i||this.reloadFeatureFlags()}else ne.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,r){r===void 0&&(r=!0),this.featureFlags.setPersonPropertiesForFlags(e,r)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,r){r===void 0&&(r=!0),this.hs("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,r)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var r,i,o,l;if(ne.info("reset"),!this.__loaded)return ne.uninitializedWarning("posthog.reset");var c=this.get_property("$device_id");if(this.consent.reset(),(r=this.persistence)==null||r.clear(),(i=this.sessionPersistence)==null||i.clear(),this.surveys.reset(),this.featureFlags.reset(),(o=this.persistence)==null||o.set_property(Zr,"anonymous"),(l=this.sessionManager)==null||l.resetSessionId(),this.Br=null,this.config.cookieless_mode==="always")this.register_once({distinct_id:Is,$device_id:null},"");else{var d=this.config.get_device_id(Sn());this.register_once({distinct_id:d,$device_id:e?d:c},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,r;return(e=(r=this.sessionManager)==null?void 0:r.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:r,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),o=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+r);if(e!=null&&e.withTimestamp&&i){var l,c=(l=e.timestampLookBack)!==null&&l!==void 0?l:10;if(!i)return o;o+="?t="+Math.max(Math.floor((new Date().getTime()-i)/1e3)-c,0)}return o}alias(e,r){return e===this.get_property(Vv)?(ne.critical("Attempting to create alias for existing People user - aborting."),-2):this.hs("posthog.alias")?(K(r)&&(r=this.get_distinct_id()),e!==r?(this.ds(Hs,e),this.capture("$create_alias",{alias:e,distinct_id:r})):(ne.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var r=ue({},this.config);if(yt(e)){var i,o,l,c,d,p,g;ut(this.config,Qg(e));var v=this.Vr();(i=this.persistence)==null||i.update_config(this.config,r,v),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Vc(ue({},this.config,{persistence:"sessionStorage"}),v);var _=this.qr(this.config.debug);Kr(_)&&(this.config.debug=_),Kr(this.config.debug)&&(this.config.debug?(Gr.DEBUG=!0,st.H()&&st.G("ph_debug","true"),ne.info("set_config",{config:e,oldConfig:r,newConfig:ue({},this.config)})):(Gr.DEBUG=!1,st.H()&&st.V("ph_debug"))),(o=this.exceptionObserver)==null||o.onConfigChange(),(l=this.sessionRecording)==null||l.startIfEnabledOrStop(),(c=this.autocapture)==null||c.startIfEnabled(),(d=this.heatmaps)==null||d.startIfEnabled(),(p=this.exceptionObserver)==null||p.startIfEnabledOrStop(),this.surveys.loadIfEnabled(),this.vs(),(g=this.externalIntegrations)==null||g.startIfEnabledOrStop()}}startSessionRecording(e){var r=e===!0,i={sampling:r||!(e==null||!e.sampling),linked_flag:r||!(e==null||!e.linked_flag),url_trigger:r||!(e==null||!e.url_trigger),event_trigger:r||!(e==null||!e.event_trigger)};if(Object.values(i).some(Boolean)){var o,l,c,d,p;(o=this.sessionManager)==null||o.checkAndGetSessionAndWindowId(),i.sampling&&((l=this.sessionRecording)==null||l.overrideSampling()),i.linked_flag&&((c=this.sessionRecording)==null||c.overrideLinkedFlag()),i.url_trigger&&((d=this.sessionRecording)==null||d.overrideTrigger("url")),i.event_trigger&&((p=this.sessionRecording)==null||p.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!((e=this.sessionRecording)==null||!e.started)}captureException(e,r){var i=new Error("PostHog syntheticException"),o=this.exceptions.buildProperties(e,{handled:!0,syntheticException:i});return this.exceptions.sendExceptionEvent(ue({},o,r))}startExceptionAutocapture(e){this.set_config({capture_exceptions:e==null||e})}stopExceptionAutocapture(){this.set_config({capture_exceptions:!1})}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var r;return(r=this.persistence)==null?void 0:r.props[e]}getSessionProperty(e){var r;return(r=this.sessionPersistence)==null?void 0:r.props[e]}toString(){var e,r=(e=this.config.name)!==null&&e!==void 0?e:Pi;return r!==Pi&&(r=Pi+"."+r),r}_isIdentified(){var e,r;return((e=this.persistence)==null?void 0:e.get_property(Zr))==="identified"||((r=this.sessionPersistence)==null?void 0:r.get_property(Zr))==="identified"}us(){var e,r;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Ri(this.getGroups())&&((e=this.persistence)==null||(e=e.props)==null||!e[Hs])&&((r=this.persistence)==null||(r=r.props)==null||!r[ll]))}ns(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.us()||this.hs("posthog.createPersonProfile")&&this.setPersonProperties({},{})}hs(e){return this.config.person_profiles==="never"?(ne.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.ds(ll,!0),!0)}Vr(){if(this.config.cookieless_mode==="always")return!0;var e=this.consent.isOptedOut(),r=this.config.opt_out_persistence_by_default||this.config.cookieless_mode==="on_reject";return this.config.disable_persistence||e&&!!r}vs(){var e,r,i,o,l=this.Vr();return((e=this.persistence)==null?void 0:e.xi)!==l&&((i=this.persistence)==null||i.set_disabled(l)),((r=this.sessionPersistence)==null?void 0:r.xi)!==l&&((o=this.sessionPersistence)==null||o.set_disabled(l)),l}opt_in_capturing(e){var r;if(this.config.cookieless_mode!=="always"){var i,o;this.config.cookieless_mode==="on_reject"&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),(i=this.sessionManager)==null||i.destroy(),this.sessionManager=new Gg(this),this.persistence&&(this.sessionPropsManager=new Wg(this,this.sessionManager,this.persistence)),this.sessionRecording=new qg(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.vs(),this.rs(),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),this.config.cookieless_mode=="on_reject"&&this.surveys.loadIfEnabled(),(K(e?.captureEventName)||e!=null&&e.captureEventName)&&this.capture((o=e?.captureEventName)!==null&&o!==void 0?o:"$opt_in",e?.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.ss()}else ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e,r;this.config.cookieless_mode!=="always"?(this.config.cookieless_mode==="on_reject"&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.vs(),this.config.cookieless_mode==="on_reject"&&(this.register({distinct_id:Is,$device_id:null}),(e=this.sessionManager)==null||e.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,(r=this.sessionRecording)==null||r.stopRecording(),this.sessionRecording=void 0,this.ss())):ne.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===qr.GRANTED?"granted":e===qr.DENIED?"denied":"pending"}is_capturing(){return this.config.cookieless_mode==="always"||(this.config.cookieless_mode==="on_reject"?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.vs()}_is_bot(){return Jt?Cm(Jt,this.config.custom_blocked_useragents):void 0}ss(){re&&(re.visibilityState==="visible"?this.Ur||(this.Ur=!0,this.capture("$pageview",{title:re.title},{send_instantly:!0}),this.zr&&(re.removeEventListener("visibilitychange",this.zr),this.zr=null)):this.zr||(this.zr=this.ss.bind(this),ft(re,"visibilitychange",this.zr)))}debug(e){e===!1?(L?.console.log("You've disabled debug mode."),this.set_config({debug:!1})):(L?.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),this.set_config({debug:!0}))}O(){var e,r,i,o,l,c,d,p=this.Wr||{};return"advanced_disable_flags"in p?!!p.advanced_disable_flags:this.config.advanced_disable_flags!==!1?!!this.config.advanced_disable_flags:this.config.advanced_disable_decide===!0?(ne.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(i="advanced_disable_decide",o=!1,l=ne,c=(r="advanced_disable_flags")in(e=p)&&!K(e[r]),d=i in e&&!K(e[i]),c?e[r]:d?(l&&l.warn("Config field '"+i+"' is deprecated. Please use '"+r+"' instead. The old field will be removed in a future major version."),e[i]):o)}ls(e){if(Ve(this.config.before_send))return e;var r=He(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var o of r){if(i=o(i),Ve(i)){var l="Event '"+e.event+"' was rejected in beforeSend function";return my(e.event)?ne.warn(l+". This can cause unexpected behavior."):ne.info(l),null}i.properties&&!Ri(i.properties)||ne.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return i}getPageViewId(){var e;return(e=this.pageViewManager.Kt)==null?void 0:e.pageViewId}captureTraceFeedback(e,r){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:r})}captureTraceMetric(e,r,i){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:r,$ai_metric_value:String(i)})}qr(e){var r=Kr(e)&&!e,i=st.H()&&st.q("ph_debug")==="true";return!r&&(!!i||e)}}(function(s,e){for(var r=0;r<e.length;r++)s.prototype[e[r]]=Jy(s.prototype[e[r]])})(Nl,["identify"]);var Xg,Tx=(Xg=eo[Pi]=new Nl,(function(){function s(){s.done||(s.done=!0,Pm=!1,Qe(eo,(function(e){e._dom_loaded()})))}re!=null&&re.addEventListener?re.readyState==="complete"?s():ft(re,"DOMContentLoaded",s,{capture:!1}):L&&ne.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")})(),Xg),Rx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ix=(s,e)=>{const r=ve.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:c,children:d,...p},g)=>ve.createElement("svg",{ref:g,...Rx,width:o,height:o,stroke:i,strokeWidth:c?Number(l)*24/Number(o):l,className:`lucide lucide-${Nx(s)}`,...p},[...e.map(([v,_])=>ve.createElement(v,_)),...(Array.isArray(d)?d:[d])||[]]));return r.displayName=`${s}`,r};var er=Ix;const Ox=er("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),jx=er("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),qd=er("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Mx=er("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),Tm=er("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]),ao=er("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ax=er("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Fx=er("Paintbrush",[["path",{d:"M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z",key:"m6k5sh"}],["path",{d:"M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7",key:"arzq70"}],["path",{d:"M14.5 17.5 4.5 15",key:"s7fvrz"}]]),Lx=er("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Il=er("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),$x=er("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),zx=er("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Dx=er("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ol=ve.forwardRef(({onFileSelect:s,acceptedTypes:e="image/*",maxSizeMB:r=10,helpText:i=null},o)=>{const[l,c]=ve.useState(!1),[d,p]=ve.useState(null),[g,v]=ve.useState(null),[_,y]=ve.useState(null),w=ve.useRef(null),C=r*1024*1024,k=Y=>e.split(",").map(be=>be.trim()).some(be=>be==="image/*"?Y.type.startsWith("image/"):be==="video/*"?Y.type.startsWith("video/"):Y.type===be),x=Y=>Y?.type.startsWith("video/"),R=Y=>{if(y(null),!k(Y)){const be=e.includes("video");y(be?"Please upload an image or video file":"Please upload an image file");return}if(Y.size>C){y(`File too large. Maximum size is ${r}MB`);return}const ke=URL.createObjectURL(Y);p(Y),v(ke),s&&s(Y)},M=Y=>{Y.preventDefault(),c(!0)},D=Y=>{Y.preventDefault(),c(!1)},V=Y=>{Y.preventDefault(),c(!1);const ke=Y.dataTransfer.files[0];ke&&R(ke)},J=()=>{w.current?.click()},me=Y=>{const ke=Y.target.files[0];ke&&R(ke)},Z=()=>{p(null),v(null),y(null),w.current&&(w.current.value=""),s&&s(null)};return ve.useImperativeHandle(o,()=>({reset:Z})),S.jsxs("div",{className:"w-full",children:[S.jsx("input",{type:"file",ref:w,onChange:me,accept:e,className:"hidden"}),d?S.jsx("div",{className:"card p-4",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx("div",{className:"preview-container w-32 h-32 flex-shrink-0",children:x(d)?S.jsx("video",{src:g,className:"w-full h-full object-contain",muted:!0,playsInline:!0}):S.jsx("img",{src:g,alt:"Preview",className:"w-full h-full object-contain"})}),S.jsx("div",{className:"flex-1 min-w-0",children:S.jsxs("div",{className:"flex items-start justify-between gap-4",children:[S.jsxs("div",{className:"min-w-0",children:[S.jsx("p",{className:"text-zinc-900 dark:text-zinc-200 font-medium truncate",children:d.name}),S.jsxs("p",{className:"text-zinc-600 dark:text-zinc-500 text-sm",children:[(d.size/1024/1024).toFixed(2)," MB",x(d)&&"  Video"]})]}),S.jsx("button",{onClick:Z,className:"p-2.5 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200 hover:bg-accent-50 dark:hover:bg-accent-900/20 rounded-lg transition-colors",children:S.jsx(Dx,{className:"w-5 h-5"})})]})})]})}):S.jsx("div",{onClick:J,onDragOver:M,onDragLeave:D,onDrop:V,className:`
            upload-zone cursor-pointer
            border-2 border-dashed border-accent-200 dark:border-accent-900/40 rounded-2xl bg-white dark:bg-transparent
            p-6 sm:p-12 text-center
            ${l?"dragging":""}
          `,children:S.jsxs("div",{className:"flex flex-col items-center gap-4",children:[S.jsx("div",{className:"w-16 h-16 rounded-2xl bg-accent-50 dark:bg-accent-900/20 flex items-center justify-center",children:S.jsx(zx,{className:"w-8 h-8 text-accent-600 dark:text-zinc-400"})}),S.jsxs("div",{children:[S.jsx("p",{className:"text-zinc-900 dark:text-zinc-200 font-medium mb-1",children:"Drop your file here, or click to browse"}),S.jsx("p",{className:"text-zinc-600 dark:text-zinc-500 text-sm",children:i||`Supports JPG, PNG, WebP up to ${r}MB`})]})]})}),_&&S.jsx("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-600 dark:text-red-400 text-sm",children:_})]})});Ol.displayName="FileUpload";var Kg;(function(s){function e(r){return`RgbColor(${r.r},${r.g},${r.b})`}s.toString=e})(Kg||(Kg={}));class Ft{r;g;b;a;static MINIMUM_A=13;constructor(e=0,r=0,i=0,o=255){this.r=e,this.g=r,this.b=i,this.a=o}static fromRgbColorData(e){return new Ft(e.r,e.g,e.b,e.a??255)}static createRandomColor(){const e=new Ft;return e.randomize(),e}static fromPixelArray(e,r,i=!0){const o=new Ft;return o.setFromPixelArray(e,r,i),o}static fromHex(e){const r=e.substring(1).match(/.{1,2}/g)?.map(i=>parseInt(i,16));return Ft.fromPixelArray(r,0,r.length>3)}static buildColorAverage(e){const r=Math.floor(e.r/e.n),i=Math.floor(e.g/e.n),o=Math.floor(e.b/e.n),l=Math.floor(e.a/e.n);return new Ft(r,i,o,l)}isInvisible(){return this.a<Ft.MINIMUM_A}hasOpacity(){return this.a<255}setFromColorCounts(e){this.r=Math.floor(e.r/e.n),this.g=Math.floor(e.g/e.n),this.b=Math.floor(e.b/e.n),this.a=Math.floor(e.a/e.n)}randomize(){this.r=Math.floor(Math.random()*256),this.g=Math.floor(Math.random()*256),this.b=Math.floor(Math.random()*256),this.a=Math.floor(Math.random()*128)+128}setFromPixelArray(e,r,i=!0){const l=r*(i?4:3);this.r=e[l+0],this.g=e[l+1],this.b=e[l+2],this.a=i?e[l+3]:255}get[Symbol.toStringTag](){return`RgbaColor(${this.r},${this.g},${this.b},${this.a})`}calculateDistanceToPixelInArray(e,r,i=!0){const o=i?e[r+3]:255;return Math.abs(this.r-e[r])+Math.abs(this.g-e[r+1])+Math.abs(this.b-e[r+2])+Math.abs(this.a-o)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===(e.a??255)}toCssColor(){return this.hasOpacity()?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toCssColorHex(){let r=this.toInt32().toString(16);const i=(this.hasOpacity()?8:6)-r.length;return i>0&&(r="0".repeat(i)+r),"#"+r.toUpperCase()}toInt32(){return this.hasOpacity()?(this.r<<24|this.g<<16|this.b<<8|this.a)>>>0:(this.r<<16|this.g<<8|this.b)>>>0}}var lo;(function(s){s.OFF="off",s.ON="on",s.REASONABLE="reasonable"})(lo||(lo={}));class Ux{rows;palette;options;verbose;constructor(e,r,i){this.options=r,this.verbose=r.verbose??!1,this.palette=this.buildPalette(e,i),this.verbose&&console.time(" - Color Quantization"),this.rows=this.buildColorData(e,this.palette),this.verbose&&console.timeEnd(" - Color Quantization")}buildPalette(e,r){const i=Math.max(this.options.numberOfColors,2),o=r(e,i);return this.options.verbose&&console.log(`Created palette with ${o.length} colors.`),o.map(l=>l instanceof Ft?l:Ft.fromRgbColorData(l))}buildColorData(e,r){let i;const o=Math.max(this.options.colorClusteringCycles,1);for(let l=1;l<=o;l++){const c=l===o,d=this.runClusteringCycle(e,r,c),p=c||i&&this.colorIndexesEqual(i,d);if(i=d,p){this.options.verbose&&console.log(`Ran ${l} clustering cycles`);break}}return i}runClusteringCycle(e,r,i){const o=this.buildImageColorIndex(e,r),l=this.buildColorCounts(e,o,r.length),c=e.width*e.height;return this.adjustPaletteToColorAverages(r,l,c,i),o}colorIndexesEqual(e,r){if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++){const o=e[i],l=r[i];if(o.length!==l.length)return!1;for(let c=0;c<o.length;c++)if(o[c]!==l[c])return!1}return!0}adjustPaletteToColorAverages(e,r,i,o){for(let l=0;l<e.length;l++){const c=r[l];this.options.minColorQuota>0&&c.n/i<this.options.minColorQuota&&!o?e[l].randomize():c.n>0&&e[l].setFromColorCounts(c)}}buildImageColorIndex(e,r){const i=this.options.colorDistanceBuffering;return i===lo.ON||i===lo.REASONABLE&&r.length>=32?this.buildImageColorIndexBuffered(e,r):this.buildImageColorIndexUnbuffered(e,r)}buildImageColorIndexUnbuffered(e,r){const i=this.initColorIndexArray(e.width,e.height);for(let o=0;o<e.height;o++)for(let l=0;l<e.width;l++){const c=(o*e.width+l)*4,d=this.findClosestPaletteColorIx(e,c,r);i[o+1][l+1]=d}return i}buildImageColorIndexBuffered(e,r){const i=this.initColorIndexArray(e.width,e.height),o=[];let l=0,c=0;for(let d=0;d<e.height;d++)for(let p=0;p<e.width;p++){const g=(d*e.width+p)*4,v=this.getPixelColorId(e,g);o[v]!==void 0?l++:(o[v]=this.findClosestPaletteColorIx(e,g,r),c++),i[d+1][p+1]=o[v]}return this.verbose&&console.log(`Buffered ${c} colors to skip ${l} comparisons (`,Math.round(100*l/(l+c)),"%)"),i}getPixelColorId(e,r){return(e.data[r]<<24|e.data[r+1]<<16|e.data[r+2]<<8|e.data[r+3])>>>0}initColorIndexArray(e,r){const i=[];for(let o=0;o<r+2;o++)i[o]=new Array(e+2).fill(-1);return i}buildColorCounts(e,r,i){const o=this.initColorCounts(i);for(let l=0;l<e.height;l++)for(let c=0;c<e.width;c++){const d=r[l+1][c+1],p=o[d],g=(l*e.width+c)*4;p.r+=e.data[g],p.g+=e.data[g+1],p.b+=e.data[g+2],p.a+=e.data[g+3],p.n++}return o}initColorCounts(e){const r=[];for(let i=0;i<e;i++)r[i]={r:0,g:0,b:0,a:0,n:0};return r}findClosestPaletteColorIx(e,r,i){let o=0,l=1024;for(let c=0;c<i.length;c++){const p=i[c].calculateDistanceToPixelInArray(e.data,r);p>=l||(l=p,o=c)}return o}}var xr;(function(s){s[s.RIGHT=0]="RIGHT",s[s.DOWN_RIGHT=1]="DOWN_RIGHT",s[s.DOWN=2]="DOWN",s[s.DOWN_LEFT=3]="DOWN_LEFT",s[s.LEFT=4]="LEFT",s[s.UP_LEFT=5]="UP_LEFT",s[s.UP=6]="UP",s[s.UP_RIGHT=7]="UP_RIGHT",s[s.NONE=0]="NONE"})(xr||(xr={}));var uo;(function(s){s.OFF="off",s.INTERPOLATE="interpolate"})(uo||(uo={}));class Jg{interpolate(e,r,i){const o=[];for(const l of r){const d={points:this.interpolatePointsUsingMode(e,l.points,i),boundingBox:l.boundingBox,childHoles:l.childHoles,isHole:l.isHole};o.push(d)}return o}interpolatePointsUsingMode(e,r,i){switch(e){case uo.OFF:return r.map((o,l)=>this.trajectoryPointFromEdgePoint(r,l));default:case uo.INTERPOLATE:return this.buildInterpolatedPoints(r,i)}}trajectoryPointFromEdgePoint(e,r){const i=e[r],o=(r+1)%e.length,l=e[o];return{x:i.x,y:i.y,data:this.geTrajectory(i.x,i.y,l.x,l.y)}}buildInterpolatedPoints(e,r){const i=[];for(let o=0;o<e.length;o++){if(r&&this.isRightAngle(e,o)){const c=this.buildCornerPoint(e,o);this.updateLastPointTrajectory(i,e[o]),i.push(c)}const l=this.interpolateNextTwoPoints(e,o);i.push(l)}return i}updateLastPointTrajectory(e,r){if(e.length===0)return;const i=e.length-1,o=e[i];o.data=this.geTrajectory(o.x,o.y,r.x,r.y)}interpolateNextTwoPoints(e,r){const i=e.length,o=(r+1)%i,l=(r+2)%i,c=e[r],d=e[o],p=e[l],g=(c.x+d.x)/2,v=(c.y+d.y)/2,_=(d.x+p.x)/2,y=(d.y+p.y)/2;return{x:g,y:v,data:this.geTrajectory(g,v,_,y)}}isRightAngle(e,r){const i=e.length,o=e[r],l=(r+1)%i,c=(r+2)%i,d=(r-1+i)%i,p=(r-2+i)%i;return o.x===e[p].x&&o.x===e[d].x&&o.y===e[l].y&&o.y===e[c].y||o.y===e[p].y&&o.y===e[d].y&&o.x===e[l].x&&o.x===e[c].x}buildCornerPoint(e,r){const i=(r+1)%e.length,o=e[r],l=e[i],c=(o.x+l.x)/2,d=(o.y+l.y)/2,p=this.geTrajectory(o.x,o.y,c,d);return{x:o.x,y:o.y,data:p}}geTrajectory(e,r,i,o){return e<i?r<o?xr.DOWN_RIGHT:r>o?xr.UP_RIGHT:xr.RIGHT:e>i?r<o?xr.DOWN_LEFT:r>o?xr.UP_LEFT:xr.LEFT:r<o?xr.DOWN:r>o?xr.UP:xr.NONE}}var co;(function(s){s.OFF="off",s.KEEP_RATIO="ratio",s.ALL="all"})(co||(co={}));var bn;(function(s){s.FILL="fill",s.STROKE="stroke",s.STROKE_FILL="stroke+fill"})(bn||(bn={}));const Rm={strokeWidth:1,lineFilter:!1,scale:1,decimalPlaces:1,viewBox:!0,desc:!1,segmentEndpointRadius:0,curveControlPointRadius:0,fillStyle:bn.STROKE_FILL,trim:co.OFF};var At;(function(s){s.GENERATE="generate",s.SAMPLE="sample",s.SCAN="scan",s.PALETTE="palette"})(At||(At={}));var ml;(function(s){s[s.SEQUENTIAL=1]="SEQUENTIAL",s[s.PARALLEL=2]="PARALLEL"})(ml||(ml={}));var xd;(function(s){function e(o){return Object.assign({},r,o??{})}s.buildFrom=e;const r=Object.assign(Rm,{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:8,enhanceRightAngles:!0,colorSamplingMode:At.SCAN,palette:null,numberOfColors:16,minColorQuota:0,colorClusteringCycles:3,colorDistanceBuffering:lo.REASONABLE,layeringMode:ml.PARALLEL,interpolation:uo.INTERPOLATE,blurRadius:0,blurDelta:20,sharpen:!1,sharpenThreshold:20}),i=o=>o;s.Presets=i({default:r,posterized1:{colorSamplingMode:At.GENERATE,numberOfColors:2},posterized2:{numberOfColors:4,blurRadius:5},curvy:{lineErrorMargin:.01,lineFilter:!0,enhanceRightAngles:!1},sharp:{curveErrorMargin:.01,lineFilter:!1},detailed:{minShapeOutline:0,decimalPlaces:2,lineErrorMargin:.5,curveErrorMargin:.5,numberOfColors:64},smoothed:{blurRadius:5,blurDelta:64},grayscale:{colorSamplingMode:At.GENERATE,colorClusteringCycles:1,numberOfColors:7},fixedpalette:{colorSamplingMode:At.GENERATE,colorClusteringCycles:1,numberOfColors:27},randomsampling1:{colorSamplingMode:At.SAMPLE,numberOfColors:8},randomsampling2:{colorSamplingMode:At.SAMPLE,numberOfColors:64},artistic1:{colorSamplingMode:At.GENERATE,colorClusteringCycles:1,minShapeOutline:0,blurRadius:5,blurDelta:64,lineErrorMargin:.01,lineFilter:!0,numberOfColors:16,strokeWidth:2},artistic2:{curveErrorMargin:.01,colorSamplingMode:At.GENERATE,colorClusteringCycles:1,numberOfColors:4,strokeWidth:0},artistic3:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:8},artistic4:{curveErrorMargin:10,lineErrorMargin:10,numberOfColors:64,blurRadius:5,blurDelta:256,strokeWidth:2},posterized3:{lineErrorMargin:1,curveErrorMargin:1,minShapeOutline:20,enhanceRightAngles:!0,colorSamplingMode:At.GENERATE,numberOfColors:3,minColorQuota:0,colorClusteringCycles:3,blurRadius:3,blurDelta:20,strokeWidth:0,lineFilter:!1,decimalPlaces:1,palette:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}})})(xd||(xd={}));const Bx=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}];class Vx{drawLayersToDiv(e,r,i){r=r||1;var o,l,c,d,p,g;i?(g=document.getElementById(i),g||(g=document.createElement("div"),g.id=i,document.body.appendChild(g))):(g=document.createElement("div"),document.body.appendChild(g));for(p in e){if(!e.hasOwnProperty(p))continue;o=e[p][0].length,l=e[p].length;const v=document.createElement("canvas");v.width=o*r,v.height=l*r;const _=this.getCanvasContext(v),y=Bx;for(d=0;d<l;d++)for(c=0;c<o;c++){const w=e[p][d][c]%y.length,C=y[w];_.fillStyle=this.toRgbaLiteral(C),_.fillRect(c*r,d*r,r,r)}g.appendChild(v)}}toRgbaLiteral(e){return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"}getCanvasContext(e){const r=e.getContext("2d");if(!r)throw new Error("Could not read canvas");return r}}class ev{static buildForColors(e){const r=e.rows,i=r.length,o=r[0].length,l=[];for(let C=0;C<e.palette.length;C++){l[C]=[];for(let k=0;k<i;k++)l[C][k]=new Array(o).fill(0)}let c,d,p,g,v,_,y,w;for(let C=1;C<i-1;C++)for(let k=1;k<o-1;k++){const x=r[C][k];c=r[C-1][k-1]===x?1:0,d=r[C-1][k]===x?1:0,p=r[C-1][k+1]===x?1:0,g=r[C][k-1]===x?1:0,v=r[C][k+1]===x?1:0,_=r[C+1][k-1]===x?1:0,y=r[C+1][k]===x?1:0,w=r[C+1][k+1]===x?1:0;const R=l[x];R[C+1][k+1]=1+v*2+w*4+y*8,g||(R[C+1][k]=2+y*4+_*8),d||(R[C][k+1]=0+p*2+v*4+8),c||(R[C][k]=0+d*2+4+g*8)}return l}static buildForColor(e,r){const i=e.rows,o=i.length,l=i[0].length,c=[];for(let d=0;d<o;d++)c[d]=new Array(l).fill(0);for(let d=1;d<o;d++)for(let p=1;p<l;p++)c[d][p]=(i[d-1][p-1]===r?1:0)+(i[d-1][p]===r?2:0)+(i[d][p-1]===r?8:0)+(i[d][p]===r?4:0);return c}}const Hx=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]];class tv{scan(e,r){const i=e[0].length,o=e.length,l=[];let c=0;for(let d=0;d<o;d++)for(let p=0;p<i;p++){const g=e[d][p];if(g!==4&&g!==11)continue;let v=p,_=d;const y={points:[],boundingBox:[v,_,v,_],childHoles:[],isHole:g===11};l[c]=y;let w=!1,C=1;for(;!w;){const k=e[_][v];this.addPointToArea(y,v-1,_-1,k);const x=Hx[k][C];if(e[_][v]=x[0],C=x[1],v+=x[2],_+=x[3],v-1===y.points[0].x&&_-1===y.points[0].y){if(w=!0,y.points.length<r){l.pop();continue}if(y.isHole){const R=this.findParentId(y,l,c,i,o);l[R].childHoles.push(c)}c++}}}return l}addPointToArea(e,r,i,o){const l={x:r,y:i,data:o};return r<e.boundingBox[0]&&(e.boundingBox[0]=r),i<e.boundingBox[1]&&(e.boundingBox[1]=i),r>e.boundingBox[2]&&(e.boundingBox[2]=r),i>e.boundingBox[3]&&(e.boundingBox[3]=i),e.points.push(l)}findParentId(e,r,i,o,l){let c=0,d=[-1,-1,o+1,l+1];for(let p=0;p<i;p++){const g=r[p];!g.isHole&&this.boundingBoxIncludes(g.boundingBox,e.boundingBox)&&this.boundingBoxIncludes(d,g.boundingBox)&&this.pointInPolygon(e.points[0],g.points)&&(c=p,d=g.boundingBox)}return c}boundingBoxIncludes(e,r){return e[0]<r[0]&&e[1]<r[1]&&e[2]>r[2]&&e[3]>r[3]}pointInPolygon(e,r){let i=!1;for(let o=0,l=r.length-1;o<r.length;l=o++)i=r[o].y>e.y!=r[l].y>e.y&&e.x<(r[l].x-r[o].x)*(e.y-r[o].y)/(r[l].y-r[o].y)+r[o].x?!i:i;return i}}var kd;(function(s){function e(r){const i=`${r.type} ${r.x1} ${r.y1} ${r.x2} ${r.y2}`;return r.type==="L"?i:i+` ${r.x3} ${r.y3}`}s.toString=e})(kd||(kd={}));class rv{trace(e,r,i){const o=[],l=[].concat(e.points);l.push(l[0]);for(let c=0;c<l.length-1;){const d=this.findNextSequenceStartIx(l,c),p=this.getPathCommandsOfSequence(l,r,i,c,d);o.push(...p),c=d}return{lineAttributes:o,boundingBox:e.boundingBox,childHoles:e.childHoles,isHole:e.isHole}}findNextSequenceStartIx(e,r){const i=e[r].data;let o=r+1,l=e[o],c=null;for(;(l.data===i||l.data===c||c===null)&&o<e.length-1;)l.data!==i&&c===null&&(c=l.data),o++,l=e[o];return o===e.length-2?o+1:o}getPathCommandsOfSequence(e,r,i,o,l){if(l>e.length||l<0)return[];const c=this.checkSequenceFitsLine(e,r,o,l);if(typeof c=="object")return[c];const d=this.checkSequenceFitsCurve(e,i,o,l,c);if(typeof d=="object")return[d];const p=c,g=this.getPathCommandsOfSequence(e,r,i,o,p),v=this.getPathCommandsOfSequence(e,r,i,p,l);return g.concat(v)}checkSequenceFitsLine(e,r,i,o){const l=o-i,c=e[i],d=e[o],p=(d.x-c.x)/l,g=(d.y-c.y)/l;let v=!0,_=i,y=0;for(let w=i+1;w<o;w++){const C=w-i,k=c.x+C*p,x=c.y+C*g,R=e[w],M=(R.x-k)*(R.x-k)+(R.y-x)*(R.y-x);M>r&&(v=!1),M>y&&(_=w,y=M)}return v?{type:"L",x1:c.x,y1:c.y,x2:d.x,y2:d.y}:_}checkSequenceFitsCurve(e,r,i,o,l){const c=o-i,d=e[i],p=e[o];let g=!0,v=0,_=i,y=l-i,w=y/c,C=(1-w)*(1-w),k=2*(1-w)*w,x=w*w;const R=(C*d.x+x*p.x-e[l].x)/-k,M=(C*d.y+x*p.y-e[l].y)/-k;for(let D=i+1;D!=o;D=(D+1)%e.length){y=D-i,w=y/c,C=(1-w)*(1-w),k=2*(1-w)*w,x=w*w;const V=C*d.x+k*R+x*p.x,J=C*d.y+k*M+x*p.y,me=e[D],Z=(me.x-V)*(me.x-V)+(me.y-J)*(me.y-J);Z>r&&(g=!1),Z>v&&(_=D,v=Z)}return g?{type:"Q",x1:d.x,y1:d.y,x2:R,y2:M,x3:p.x,y3:p.y}:_}}var bd;(function(s){function e(l,c,d,p=!1){const g=r(l,c);d&&i(g,l),!(g.minX===0&&g.maxX===l.width&&g.minY===0&&g.maxY===l.height)&&(p&&console.log(`Trimming x[${g.minX}|${g.maxX}]/${l.width}, y[${g.minY}|${g.maxY}]/${l.height}`),o(l,g))}s.trim=e;function r(l,c){let d=l.width,p=l.height,g=0,v=0;for(let y=0;y<l.areasByColor.length;y++){if(l.colors[y].a===0)continue;const C=l.areasByColor[y];for(const k of C)for(const x of k.lineAttributes){const R=x.type==="Q";d=Math.min(d,x.x1,x.x2,R?x.x3:d),g=Math.max(g,x.x1,x.x2,R?x.x3:0),p=Math.min(p,x.y1,x.y2,R?x.y3:p),v=Math.max(v,x.y1,x.y2,R?x.y3:0)}}const _=Math.floor(c/2);return d-=_,p-=_,g+=_,v+=_,{minX:d,maxX:g,minY:p,maxY:v}}function i(l,c){const d=l.maxX-l.minX,p=l.maxY-l.minY,g=c.width,v=c.height,_=Math.ceil(p*g/v);if(d===_)return;if(_>d){const C=(_-d)/2;l.minX-=Math.ceil(C),l.maxX+=Math.floor(C);return}const w=(Math.ceil(d*v/g)-p)/2;l.minY-=Math.ceil(w),l.maxY+=Math.floor(w)}function o(l,c){const{minX:d,maxX:p,minY:g,maxY:v}=c;for(const _ of l.areasByColor)for(const y of _)for(const w of y.lineAttributes)w.x1-=d,w.x2-=d,w.y1-=g,w.y2-=g,w.type==="Q"&&(w.x3-=d,w.y3-=g);l.height=v-g,l.width=p-d}})(bd||(bd={}));class nv{options;useStroke;useFill;constructor(e){this.options=Object.assign({},Rm,e),this.useFill=[bn.FILL,bn.STROKE_FILL].includes(this.options.fillStyle),this.useStroke=[bn.STROKE,bn.STROKE_FILL].includes(this.options.fillStyle)}fixValue(e){return this.options.scale!==1&&(e*=this.options.scale),this.options.decimalPlaces===-1?e:+e.toFixed(this.options.decimalPlaces)}draw(e){this.init(e);const r=[];for(let i=0;i<e.areasByColor.length;i++)for(let o=0;o<e.areasByColor[i].length;o++)e.areasByColor[i][o].isHole||r.push(...this.buildSegmentTags(e,i,o));return this.options.verbose&&console.log(`Adding ${r.length} <path> tags to SVG.`),this.buildSvgTag(e,r)}init(e){if(this.options.trim!==co.OFF){const r=this.options.fillStyle===bn.FILL?0:this.options.strokeWidth,i=this.options.trim===co.KEEP_RATIO;bd.trim(e,r,i,this.options.verbose)}}buildSegmentTags(e,r,i){const o=e.areasByColor[r],l=o[i],c=e.colors[r];if(!this.isValidLine(c,l.lineAttributes))return[];const d=[],p=this.options.desc?this.getDescriptionAttribute(e,r,i):"",g=this.buildPathTag(l,o,c,p);if(d.push(g),this.options.segmentEndpointRadius||this.options.curveControlPointRadius){const v=this.drawControlOutput(l,o);d.push(...v)}return d}isValidLine(e,r){const i=!this.options.lineFilter||r.length>=3;return!e.isInvisible()&&i}getDescriptionAttribute(e,r,i){const l=e.areasByColor[r][i].isHole?1:0,c=e.colors[r],d=`r:${c.r} g:${c.g} b:${c.b}`;return this.options.desc?`desc="colorId:${r} segment:${i} ${d} isHole:${l}" `:""}buildPath(e,r){const i=e.lineAttributes,o=[];o.push("M",this.fixValue(i[0].x1),this.fixValue(i[0].y1));for(const l of i)o.push(l.type,this.fixValue(l.x2),this.fixValue(l.y2)),"x3"in l&&o.push(this.fixValue(l.x3),this.fixValue(l.y3));o.push("Z");for(const l of e.childHoles){const c=r[l],d=c.lineAttributes[c.lineAttributes.length-1];o.push("M"),d.type==="Q"?o.push(this.fixValue(d.x3),this.fixValue(d.y3)):o.push(this.fixValue(d.x2),this.fixValue(d.y2));for(const p of c.lineAttributes.reverse())o.push(p.type),p.type==="Q"&&o.push(this.fixValue(p.x2),this.fixValue(p.y2)),o.push(this.fixValue(p.x1),this.fixValue(p.y1));o.push("Z")}return o.join(" ")}drawControlOutput(e,r){const i=this.drawControlPoint(e);for(let o of e.childHoles){const l=r[o],c=this.drawControlPoint(l);i.push(...c)}return i}drawControlPoint(e){const r=[];for(const i of e.lineAttributes){const o="x3"in i;if(this.options.segmentEndpointRadius){const l=o?i.x3:i.x2,c=o?i.y3:i.y2,d=this.buildCircleTag(l,c,this.options.segmentEndpointRadius,"white");r.push(d)}if(o&&this.options.curveControlPointRadius){const l="cyan",c=this.options.curveControlPointRadius*.2;r.push(this.buildCircleTag(i.x2,i.y2,this.options.curveControlPointRadius,l),this.buildLineTag(i.x1,i.y1,i.x2,i.y2,l,c),this.buildLineTag(i.x2,i.y2,i.x3,i.y3,l,c))}}return r}buildSvgTag(e,r){const i=Math.ceil(e.width*this.options.scale),o=Math.ceil(e.height*this.options.scale),l=this.options.viewBox?`viewBox="0 0 ${i} ${o}"`:`width="${i}" height="${o}"`,c=r.join(`
 `);return`<svg ${l} version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer-ts 1.0.2" >
 ${c}
</svg>`}buildPathTag(e,r,i,o=""){const l=this.buildPath(e,r),c=this.buildColorAttributes(i,e);return`<path ${o}${c}d="${l}" />`}buildCircleTag(e,r,i,o){const l=this.fixValue(e),c=this.fixValue(r),d=i*.2;return`<circle cx="${l}" cy="${c}" r="${i}" fill="${o}" stroke-width="${d}" stroke="black" />`}buildLineTag(e,r,i,o,l,c){const d=this.fixValue(e),p=this.fixValue(r),g=this.fixValue(i),v=this.fixValue(o);return`<line x1="${d}" y1="${p}" x2="${g}" y2="${v}" stroke-width="${c}" stroke="${l}" />`}buildColorAttributes(e,r){const i=this.colorToRgbString(e);let l=`fill="${this.useFill?i:"none"}" `;this.useStroke&&(l+=`stroke="${i}" stroke-width="${this.options.strokeWidth}" `);const c=(e.a/255).toPrecision(1);return c!=="1"&&(l+=`opacity="${c}" `),l}colorToRgbString(e){return`rgb(${e.r},${e.g},${e.b})`}}function Wx(s,e=null){switch(s){case At.GENERATE:return(r,i)=>Gx(i);case At.SAMPLE:return Yx;case At.PALETTE:if(!e||e.length===0)throw new Error("No color palette in options but mode is set to palette");return(r,i)=>e.map(Ft.fromRgbColorData);case At.SCAN:default:return Qx}}function Gx(s){return s<8?qx(s):Zx(s)}function Zx(s){const e=[],r=Math.floor(Math.pow(s,.3333333333333333)),i=Math.floor(255/(r-1));for(let l=0,c=0;l<r;l++,c+=i)for(let d=0,p=0;d<r;d++,p+=i)for(let g=0,v=0;g<r;g++,v+=i)e.push(new Ft(c,p,v));const o=s-e.length;for(let l=0;l<o;l++)e.push(Ft.createRandomColor());return e}function qx(s){const e=[],r=Math.floor(255/(s-1));for(let i=0;i<s;i++){const o=i*r,l=new Ft(o,o,o);e.push(l)}return e}function Yx(s,e){const r=[],i=s.data.length/4;for(let o=4*e;o>0;o--){const l=Math.floor(Math.random()*i),c=Ft.fromPixelArray(s.data,l);if(!r.some(d=>d.equals(c))&&(r.push(c),r.length===e))break}return r}function Qx(s,e){const r=[],i=Math.ceil(Math.sqrt(e)),o=s.width/(i+1),l=s.height/(i+1);for(let c=1;c<=i;c++){const d=c*l*s.width;for(let p=1;p<=i;p++){const g=Math.floor(d+p*o),v=Ft.fromPixelArray(s.data,g);if(!r.some(_=>v.equals(_))&&(r.push(v),r.length===e))break}}return r}var Sd;(function(s){function e(i,o=!1){if(r(i))return i;o&&console.log("Transforming image data from RGB to RGBA");const l=i.width*i.height,c=l*4,d=new Uint8ClampedArray(c);for(let p=0;p<l;p++){const g=p*3,v=p*4;d[v+0]=i.data[g+0],d[v+1]=i.data[g+1],d[v+2]=i.data[g+2],d[v+3]=255}return{width:i.width,height:i.height,colorSpace:i.colorSpace,data:d}}s.process=e;function r(i){const l=i.width*i.height*4;return i.data.length>=l}})(Sd||(Sd={}));const Xx=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]];class to{static blur(e,r,i){if(r=Math.floor(r),r<1)return e;r>5&&(r=5),i=Math.abs(i),i>1024&&(i=1024);const o=Xx[r-1],l={width:e.width,height:e.height,colorSpace:e.colorSpace,data:new Uint8ClampedArray(e.width*e.height*4)};return to.blurHorizontally(e,r,o,l.data),to.blurVertically(l,r,o),to.checkDelta(e,l.data,i),l}static blurHorizontally(e,r,i,o){for(let l=0;l<e.height;l++)for(let c=0;c<e.width;c++){const d=l*e.width+c;let p=0,g=0,v=0,_=0,y=0;for(let C=-r;C<=r;C++){if(c+C<0||c+C>=e.width)continue;const k=(d+C)*4,x=i[C+r];p+=e.data[k+0]*x,g+=e.data[k+1]*x,v+=e.data[k+2]*x,_+=e.data[k+3]*x,y+=x}const w=d*4;o[w+0]=Math.floor(p/y),o[w+1]=Math.floor(g/y),o[w+2]=Math.floor(v/y),o[w+3]=Math.floor(_/y),o[w+0]}}static blurVertically(e,r,i){const o=new Uint8ClampedArray(e.data);for(let l=0;l<e.height;l++)for(let c=0;c<e.width;c++){let d=0,p=0,g=0,v=0,_=0;for(let w=-r;w<=r;w++){const C=l+w;if(C<0||C>=e.height)continue;const k=(C*e.width+c)*4,x=i[w+r];d+=o[k+0]*x,p+=o[k+1]*x,g+=o[k+2]*x,v+=o[k+3]*x,_+=x}const y=(l*e.width+c)*4;e.data[y+0]=Math.floor(d/_),e.data[y+1]=Math.floor(p/_),e.data[y+2]=Math.floor(g/_),e.data[y+3]=Math.floor(v/_)}}static checkDelta(e,r,i){for(let o=0;o<e.height;o++)for(let l=0;l<e.width;l++){const c=(o*e.width+l)*4;Math.abs(r[c+0]-e.data[c+0])+Math.abs(r[c+1]-e.data[c+1])+Math.abs(r[c+2]-e.data[c+2])+Math.abs(r[c+3]-e.data[c+3])>i&&(r[c+0]=e.data[c],r[c+1]=e.data[c+1],r[c+2]=e.data[c+2],r[c+3]=e.data[c+3])}}}const Kx=[[0,-1,0],[-1,5,-1],[0,-1,0]];function Jx(s,e){return new e1(Kx).apply(s,e)}class e1{kernel;kernelWeight;constructor(e){this.kernel=e,this.kernelWeight=e.flat().reduce((r,i)=>r+i,0)}apply(e,r){const i=new Uint8ClampedArray(4*e.width*e.height);for(let o=0;o<e.height;o++)for(let l=0;l<e.width;l++)this.applyKernelToPixel(e,l,o,i);return this.applyThreshold(e,i,r),{width:e.width,height:e.height,colorSpace:e.colorSpace,data:i}}applyKernelToPixel(e,r,i,o){const l=Math.floor(this.kernel.length/2),c=(i*e.width+r)*4;for(let d=0;d<4;d++){let p=0,g=0;for(let v=-l;v<=l;v++)if(!(i+v<0||i+v>=e.height))for(let _=-l;_<=l;_++){if(r+_<0||r+_>=e.width)continue;const y=((i+v)*e.width+(r+_))*4+d,w=this.kernel[v+l][_+l];p+=e.data[y]*w,g+=w}g!==this.kernelWeight&&(p*=this.kernelWeight===0?0:g/this.kernelWeight),o[c+d]=p}}applyThreshold(e,r,i){if(!(i<=0||i===1||i>=1024)){i=i<1?1024*i:i;for(let o=0;o<e.data.length;o+=4){let l=0;for(let c=o;c<o+4;c++)l+=Math.abs(e.data[c]-r[c]);if(!(l<=i))for(let c=o;c<o+4;c++)r[c]=e.data[c]}}}}var iv;(function(s){function e(r){const i=[];for(let o=0;o<r.areasByColor.length;o++){const l=r.areasByColor[o];if(l.length!==0){i.push(r.colors[o].toString());for(const c of l){const d=c.lineAttributes.map(p=>kd.toString(p)).join(" ");i.push(d)}}}return i.join(`
`)}s.toString=e})(iv||(iv={}));class Yd{options;colorQuantizeFunction;constructor(e=null){this.options=xd.buildFrom(e),this.colorQuantizeFunction=Wx(this.options.colorSamplingMode,this.options.palette)}setColorQuantizeFunction(e){return this.colorQuantizeFunction=e,this}traceImageToSvg(e){const r=new nv(this.options);return this.traceImage(e,r)}traceImage(e,r=null){r||(r=new nv(this.options));const i=this.isVerbose();i&&console.time(" - Preprocessing time"),e=this.preProcessImage(e),i&&console.timeEnd(" - Preprocessing time"),i&&console.time(" - Color indexing time");const o=new Ux(e,this.options,this.colorQuantizeFunction);i&&console.timeEnd(" - Color indexing time"),i&&console.time(" - Trace time");const l=this.imageDataToTraceData(e,o);i&&console.timeEnd(" - Trace time"),i&&console.time(" - Draw time");const c=r.draw(l);return i&&console.timeEnd(" - Draw time"),c}isVerbose(){return this.options.verbose??!1}preProcessImage(e){return e=Sd.process(e,this.isVerbose()),this.options.blurRadius>0&&(e=to.blur(e,this.options.blurRadius,this.options.blurDelta)),this.options.sharpen&&(e=Jx(e,this.options.sharpenThreshold)),e}imageDataToTraceData(e,r){return this.options.layeringMode===ml.SEQUENTIAL?this.imageDataToTraceDataWithSequentialLayering(e,r):this.imageDataToTraceDataWithParallelLayering(e,r)}imageDataToTraceDataWithSequentialLayering(e,r){const i=[],o=new tv,l=new Jg,c=new rv;for(let d=0;d<r.palette.length;d++){const p=ev.buildForColor(r,d),g=o.scan(p,this.options.minShapeOutline),_=l.interpolate(this.options.interpolation,g,this.options.enhanceRightAngles).map(y=>c.trace(y,this.options.lineErrorMargin,this.options.curveErrorMargin));i.push(_)}return{areasByColor:i,colors:r.palette,width:r.rows[0].length-2,height:r.rows.length-2}}imageDataToTraceDataWithParallelLayering(e,r){const i=ev.buildForColors(r);this.options.layerContainerId&&new Vx().drawLayersToDiv(i,this.options.scale,this.options.layerContainerId);const o=new tv,l=i.map(w=>o.scan(w,this.options.minShapeOutline)),c=new Jg,d=this.options.interpolation,p=this.options.enhanceRightAngles,g=l.map(w=>c.interpolate(d,w,p)),v=new rv,_=w=>v.trace(w,this.options.lineErrorMargin,this.options.curveErrorMargin);return{areasByColor:g.map(w=>w.map(_)),colors:r.palette,width:e.width,height:e.height}}}const t1="modulepreload",r1=function(s){return"/"+s},sv={},ov=function(e,r,i){let o=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(_=>Promise.resolve(_).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};var c=g;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=d?.nonce||d?.getAttribute("nonce");o=g(r.map(v=>{if(v=r1(v),v in sv)return;sv[v]=!0;const _=v.endsWith(".css"),y=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${y}`))return;const w=document.createElement("link");if(w.rel=_?"stylesheet":t1,_||(w.as="script"),w.crossOrigin="",w.href=v,p&&w.setAttribute("nonce",p),document.head.appendChild(w),_)return new Promise((C,k)=>{w.addEventListener("load",C),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${v}`)))})}))}function l(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return o.then(d=>{for(const p of d||[])p.status==="rejected"&&l(p.reason);return e().catch(l)})};var n1=Object.create,Nm=Object.defineProperty,i1=Object.getOwnPropertyDescriptor,Im=Object.getOwnPropertyNames,s1=Object.getPrototypeOf,o1=Object.prototype.hasOwnProperty,Qd=(s,e)=>function(){return e||(0,s[Im(s)[0]])((e={exports:{}}).exports,e),e.exports},a1=(s,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Im(e))!o1.call(s,o)&&o!==r&&Nm(s,o,{get:()=>e[o],enumerable:!(i=i1(e,o))||i.enumerable});return s},jl=(s,e,r)=>(r=s!=null?n1(s1(s)):{},a1(!s||!s.__esModule?Nm(r,"default",{value:s,enumerable:!0}):r,s)),l1=Qd({"../../node_modules/.pnpm/iota-array@1.0.0/node_modules/iota-array/iota.js"(s,e){function r(i){for(var o=new Array(i),l=0;l<i;++l)o[l]=l;return o}e.exports=r}}),u1=Qd({"../../node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js"(s,e){e.exports=function(o){return o!=null&&(r(o)||i(o)||!!o._isBuffer)};function r(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function i(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&r(o.slice(0,0))}}}),Ml=Qd({"../../node_modules/.pnpm/ndarray@1.0.19/node_modules/ndarray/ndarray.js"(s,e){var r=l1(),i=u1(),o=typeof Float64Array<"u";function l(_,y){return _[0]-y[0]}function c(){var _=this.stride,y=new Array(_.length),w;for(w=0;w<y.length;++w)y[w]=[Math.abs(_[w]),w];y.sort(l);var C=new Array(y.length);for(w=0;w<C.length;++w)C[w]=y[w][1];return C}function d(_,y){var w=["View",y,"d",_].join("");y<0&&(w="View_Nil"+_);var C=_==="generic";if(y===-1){var k="function "+w+"(a){this.data=a;};var proto="+w+".prototype;proto.dtype='"+_+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+w+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+w+"(a){return new "+w+"(a);}",be=new Function(k);return be()}else if(y===0){var k="function "+w+"(a,d) {this.data = a;this.offset = d};var proto="+w+".prototype;proto.dtype='"+_+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+w+"_copy() {return new "+w+"(this.data,this.offset)};proto.pick=function "+w+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+w+"_get(){return "+(C?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+w+"_set(v){return "+(C?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+w+"(a,b,c,d){return new "+w+"(a,d)}",be=new Function("TrivialArray",k);return be(g[_][0])}var k=["'use strict'"],x=r(y),R=x.map(function(X){return"i"+X}),M="this.offset+"+x.map(function(X){return"this.stride["+X+"]*i"+X}).join("+"),D=x.map(function(X){return"b"+X}).join(","),V=x.map(function(X){return"c"+X}).join(",");k.push("function "+w+"(a,"+D+","+V+",d){this.data=a","this.shape=["+D+"]","this.stride=["+V+"]","this.offset=d|0}","var proto="+w+".prototype","proto.dtype='"+_+"'","proto.dimension="+y),k.push("Object.defineProperty(proto,'size',{get:function "+w+"_size(){return "+x.map(function(X){return"this.shape["+X+"]"}).join("*"),"}})"),y===1?k.push("proto.order=[0]"):(k.push("Object.defineProperty(proto,'order',{get:"),y<4?(k.push("function "+w+"_order(){"),y===2?k.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):y===3&&k.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):k.push("ORDER})")),k.push("proto.set=function "+w+"_set("+R.join(",")+",v){"),C?k.push("return this.data.set("+M+",v)}"):k.push("return this.data["+M+"]=v}"),k.push("proto.get=function "+w+"_get("+R.join(",")+"){"),C?k.push("return this.data.get("+M+")}"):k.push("return this.data["+M+"]}"),k.push("proto.index=function "+w+"_index(",R.join(),"){return "+M+"}"),k.push("proto.hi=function "+w+"_hi("+R.join(",")+"){return new "+w+"(this.data,"+x.map(function(X){return["(typeof i",X,"!=='number'||i",X,"<0)?this.shape[",X,"]:i",X,"|0"].join("")}).join(",")+","+x.map(function(X){return"this.stride["+X+"]"}).join(",")+",this.offset)}");var J=x.map(function(X){return"a"+X+"=this.shape["+X+"]"}),me=x.map(function(X){return"c"+X+"=this.stride["+X+"]"});k.push("proto.lo=function "+w+"_lo("+R.join(",")+"){var b=this.offset,d=0,"+J.join(",")+","+me.join(","));for(var Z=0;Z<y;++Z)k.push("if(typeof i"+Z+"==='number'&&i"+Z+">=0){d=i"+Z+"|0;b+=c"+Z+"*d;a"+Z+"-=d}");k.push("return new "+w+"(this.data,"+x.map(function(X){return"a"+X}).join(",")+","+x.map(function(X){return"c"+X}).join(",")+",b)}"),k.push("proto.step=function "+w+"_step("+R.join(",")+"){var "+x.map(function(X){return"a"+X+"=this.shape["+X+"]"}).join(",")+","+x.map(function(X){return"b"+X+"=this.stride["+X+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var Z=0;Z<y;++Z)k.push("if(typeof i"+Z+"==='number'){d=i"+Z+"|0;if(d<0){c+=b"+Z+"*(a"+Z+"-1);a"+Z+"=ceil(-a"+Z+"/d)}else{a"+Z+"=ceil(a"+Z+"/d)}b"+Z+"*=d}");k.push("return new "+w+"(this.data,"+x.map(function(X){return"a"+X}).join(",")+","+x.map(function(X){return"b"+X}).join(",")+",c)}");for(var Y=new Array(y),ke=new Array(y),Z=0;Z<y;++Z)Y[Z]="a[i"+Z+"]",ke[Z]="b[i"+Z+"]";k.push("proto.transpose=function "+w+"_transpose("+R+"){"+R.map(function(X,Ae){return X+"=("+X+"===undefined?"+Ae+":"+X+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+w+"(this.data,"+Y.join(",")+","+ke.join(",")+",this.offset)}"),k.push("proto.pick=function "+w+"_pick("+R+"){var a=[],b=[],c=this.offset");for(var Z=0;Z<y;++Z)k.push("if(typeof i"+Z+"==='number'&&i"+Z+">=0){c=(c+this.stride["+Z+"]*i"+Z+")|0}else{a.push(this.shape["+Z+"]);b.push(this.stride["+Z+"])}");k.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),k.push("return function construct_"+w+"(data,shape,stride,offset){return new "+w+"(data,"+x.map(function(X){return"shape["+X+"]"}).join(",")+","+x.map(function(X){return"stride["+X+"]"}).join(",")+",offset)}");var be=new Function("CTOR_LIST","ORDER",k.join(`
`));return be(g[_],c)}function p(_){if(i(_))return"buffer";if(o)switch(Object.prototype.toString.call(_)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(_)?"array":"generic"}var g={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function v(_,y,w,C){if(_===void 0){var V=g.array[0];return V([])}else typeof _=="number"&&(_=[_]);y===void 0&&(y=[_.length]);var k=y.length;if(w===void 0){w=new Array(k);for(var x=k-1,R=1;x>=0;--x)w[x]=R,R*=y[x]}if(C===void 0){C=0;for(var x=0;x<k;++x)w[x]<0&&(C-=(y[x]-1)*w[x])}for(var M=p(_),D=g[M];D.length<=k+1;)D.push(d(M,D.length-1));var V=D[k+1];return V(_,y,w,C)}e.exports=v}}),c1=typeof global=="object"&&global&&global.Object===Object&&global,d1=c1,f1=typeof self=="object"&&self&&self.Object===Object&&self,h1=d1||f1||Function("return this")(),Xd=h1,p1=Xd.Symbol,_l=p1,Om=Object.prototype,g1=Om.hasOwnProperty,v1=Om.toString,Us=_l?_l.toStringTag:void 0;function m1(s){var e=g1.call(s,Us),r=s[Us];try{s[Us]=void 0;var i=!0}catch{}var o=v1.call(s);return i&&(e?s[Us]=r:delete s[Us]),o}var _1=m1,y1=Object.prototype,w1=y1.toString;function x1(s){return w1.call(s)}var k1=x1,b1="[object Null]",S1="[object Undefined]",av=_l?_l.toStringTag:void 0;function E1(s){return s==null?s===void 0?S1:b1:av&&av in Object(s)?_1(s):k1(s)}var C1=E1;function P1(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var jm=P1,T1="[object AsyncFunction]",R1="[object Function]",N1="[object GeneratorFunction]",I1="[object Proxy]";function O1(s){if(!jm(s))return!1;var e=C1(s);return e==R1||e==N1||e==T1||e==I1}var j1=O1,M1=Xd["__core-js_shared__"],Zc=M1,lv=(function(){var s=/[^.]+$/.exec(Zc&&Zc.keys&&Zc.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function A1(s){return!!lv&&lv in s}var F1=A1,L1=Function.prototype,$1=L1.toString;function z1(s){if(s!=null){try{return $1.call(s)}catch{}try{return s+""}catch{}}return""}var D1=z1,U1=/[\\^$.*+?()[\]{}|]/g,B1=/^\[object .+?Constructor\]$/,V1=Function.prototype,H1=Object.prototype,W1=V1.toString,G1=H1.hasOwnProperty,Z1=RegExp("^"+W1.call(G1).replace(U1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function q1(s){if(!jm(s)||F1(s))return!1;var e=j1(s)?Z1:B1;return e.test(D1(s))}var Y1=q1;function Q1(s,e){return s?.[e]}var X1=Q1;function K1(s,e){var r=X1(s,e);return Y1(r)?r:void 0}var Mm=K1,J1=Mm(Object,"create"),fo=J1;function ek(){this.__data__=fo?fo(null):{},this.size=0}var tk=ek;function rk(s){var e=this.has(s)&&delete this.__data__[s];return this.size-=e?1:0,e}var nk=rk,ik="__lodash_hash_undefined__",sk=Object.prototype,ok=sk.hasOwnProperty;function ak(s){var e=this.__data__;if(fo){var r=e[s];return r===ik?void 0:r}return ok.call(e,s)?e[s]:void 0}var lk=ak,uk=Object.prototype,ck=uk.hasOwnProperty;function dk(s){var e=this.__data__;return fo?e[s]!==void 0:ck.call(e,s)}var fk=dk,hk="__lodash_hash_undefined__";function pk(s,e){var r=this.__data__;return this.size+=this.has(s)?0:1,r[s]=fo&&e===void 0?hk:e,this}var gk=pk;function Vi(s){var e=-1,r=s==null?0:s.length;for(this.clear();++e<r;){var i=s[e];this.set(i[0],i[1])}}Vi.prototype.clear=tk;Vi.prototype.delete=nk;Vi.prototype.get=lk;Vi.prototype.has=fk;Vi.prototype.set=gk;var uv=Vi;function vk(){this.__data__=[],this.size=0}var mk=vk;function _k(s,e){return s===e||s!==s&&e!==e}var yk=_k;function wk(s,e){for(var r=s.length;r--;)if(yk(s[r][0],e))return r;return-1}var Al=wk,xk=Array.prototype,kk=xk.splice;function bk(s){var e=this.__data__,r=Al(e,s);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():kk.call(e,r,1),--this.size,!0}var Sk=bk;function Ek(s){var e=this.__data__,r=Al(e,s);return r<0?void 0:e[r][1]}var Ck=Ek;function Pk(s){return Al(this.__data__,s)>-1}var Tk=Pk;function Rk(s,e){var r=this.__data__,i=Al(r,s);return i<0?(++this.size,r.push([s,e])):r[i][1]=e,this}var Nk=Rk;function Hi(s){var e=-1,r=s==null?0:s.length;for(this.clear();++e<r;){var i=s[e];this.set(i[0],i[1])}}Hi.prototype.clear=mk;Hi.prototype.delete=Sk;Hi.prototype.get=Ck;Hi.prototype.has=Tk;Hi.prototype.set=Nk;var Ik=Hi,Ok=Mm(Xd,"Map"),jk=Ok;function Mk(){this.size=0,this.__data__={hash:new uv,map:new(jk||Ik),string:new uv}}var Ak=Mk;function Fk(s){var e=typeof s;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?s!=="__proto__":s===null}var Lk=Fk;function $k(s,e){var r=s.__data__;return Lk(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Fl=$k;function zk(s){var e=Fl(this,s).delete(s);return this.size-=e?1:0,e}var Dk=zk;function Uk(s){return Fl(this,s).get(s)}var Bk=Uk;function Vk(s){return Fl(this,s).has(s)}var Hk=Vk;function Wk(s,e){var r=Fl(this,s),i=r.size;return r.set(s,e),this.size+=r.size==i?0:1,this}var Gk=Wk;function Wi(s){var e=-1,r=s==null?0:s.length;for(this.clear();++e<r;){var i=s[e];this.set(i[0],i[1])}}Wi.prototype.clear=Ak;Wi.prototype.delete=Dk;Wi.prototype.get=Bk;Wi.prototype.has=Hk;Wi.prototype.set=Gk;var Am=Wi,Zk="Expected a function";function Kd(s,e){if(typeof s!="function"||e!=null&&typeof e!="function")throw new TypeError(Zk);var r=function(){var i=arguments,o=e?e.apply(this,i):i[0],l=r.cache;if(l.has(o))return l.get(o);var c=s.apply(this,i);return r.cache=l.set(o,c)||l,c};return r.cache=new(Kd.Cache||Am),r}Kd.Cache=Am;var qk=Kd,Jd=jl(Ml()),Fm=class Ed{constructor(e,r){this.type="application/octet-stream",this.params={},this.type=e,this.params=r}toString(){const e=[];for(const r in this.params){const i=this.params[r];e.push(`${r}=${i}`)}return[this.type,...e].join(";")}static create(e,r){return new Ed(e,r)}isIdentical(e){return this.type===e.type&&this.params===e.params}isEqual(e){return this.type===e.type}static fromString(e){const[r,...i]=e.split(";"),o={};for(const l of i){const[c,d]=l.split("=");o[c.trim()]=d.trim()}return new Ed(r,o)}},qc=jl(Ml());async function Yk(s){const e=Fm.fromString(s.type);switch(e.type){case"image/x-alpha8":{const r=parseInt(e.params.width),i=parseInt(e.params.height);return(0,qc.default)(new Uint8Array(await s.arrayBuffer()),[i,r,1])}case"image/x-rgba8":{const r=parseInt(e.params.width),i=parseInt(e.params.height);return(0,qc.default)(new Uint8Array(await s.arrayBuffer()),[i,r,4])}case"application/octet-stream":case"image/png":case"image/jpeg":case"image/jpg":case"image/webp":{const r=await createImageBitmap(s),i=Jk(r);return(0,qc.default)(new Uint8Array(i.data),[i.height,i.width,4])}default:throw new Error(`Invalid format: ${e.type} with params: ${e.params}`)}}async function Qk(s,e=.8,r="image/png"){const[i,o,l]=s.shape;switch(r){case"image/x-alpha8":case"image/x-rgba8":{const p=Fm.create(r,{width:o.toString(),height:i.toString()});return new Blob([s.data],{type:p.toString()})}case"image/png":case"image/jpeg":case"image/webp":{const p=new ImageData(new Uint8ClampedArray(s.data),o,i);var c=Lm(p.width,p.height),d=c.getContext("2d");return d.putImageData(p,0,0),c.convertToBlob({quality:e,type:r})}default:throw new Error(`Invalid format: ${r}`)}}function Xk(s){return new RegExp("^(?:[a-z+]+:)?//","i").test(s)}function Kk(s,e){return Xk(s)?s:new URL(s,e).href}function Jk(s){var e=Lm(s.width,s.height),r=e.getContext("2d");return r.drawImage(s,0,0),r.getImageData(0,0,e.width,e.height)}function eb(s){if(typeof Uint8Array<"u")return new Uint8Array(s);if(typeof Uint8ClampedArray<"u")return new Uint8ClampedArray(s);if(typeof Uint16Array<"u")return new Uint16Array(s);if(typeof Uint32Array<"u")return new Uint32Array(s);if(typeof Float32Array<"u")return new Float32Array(s);if(typeof Float64Array<"u")return new Float64Array(s);throw new Error("TypedArray not supported")}function cv(s,e,r,i=!1){const[o,l,c]=s.shape;let d=l/e,p=o/r;i&&(d=p=Math.max(d,p)>1?Math.max(d,p):Math.min(d,p));const g=(0,Jd.default)(eb(c*e*r),[r,e,c]);for(let v=0;v<r;v++)for(let _=0;_<e;_++){const y=_*d,w=v*p,C=Math.max(Math.floor(y),0),k=Math.min(Math.ceil(y),l-1),x=Math.max(Math.floor(w),0),R=Math.min(Math.ceil(w),o-1),M=y-C,D=w-x;for(let V=0;V<c;V++){const J=s.get(x,C,V),me=s.get(x,k,V),Z=s.get(R,C,V),Y=s.get(R,k,V),ke=(1-M)*(1-D)*J+M*(1-D)*me+(1-M)*D*Z+M*D*Y;g.set(v,_,V,ke)}}return g}function tb(s,e=[128,128,128],r=[256,256,256]){var i=s.data;const[o,l,c]=s.shape,d=o*l,p=new Float32Array(3*d);for(let g=0,v=0;g<i.length;g+=4,v+=1)p[v]=(i[g]-e[0])/r[0],p[v+d]=(i[g+1]-e[1])/r[1],p[v+d+d]=(i[g+2]-e[2])/r[2];return(0,Jd.default)(p,[1,3,o,l])}async function rb(s,e){return typeof s=="string"&&(s=Kk(s,e.publicPath),s=new URL(s)),s instanceof URL&&(s=await(await fetch(s,{})).blob()),(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s=new Blob([s])),s instanceof Blob&&(s=await Yk(s)),s}function nb(s){const e=new Uint8Array(s.data.length);for(let r=0;r<s.data.length;r++)e[r]=s.data[r]*255;return(0,Jd.default)(e,s.shape)}function Lm(s,e){let r;if(typeof OffscreenCanvas<"u"?r=new OffscreenCanvas(s,e):r=document.createElement("canvas"),!r)throw new Error("Canvas nor OffscreenCanvas are available in the current context.");return r}var ib=jl(Ml()),$m=async()=>navigator.gpu===void 0?!1:await navigator.gpu.requestAdapter()!==null,sb=()=>navigator.hardwareConcurrency??4;async function dv(s,e){return URL.createObjectURL(await zm(s,e))}async function zm(s,e){const r=new URL("resources.json",e.publicPath),i=await fetch(r);if(!i.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");const l=(await i.json())[s];if(!l)throw new Error(`Resource ${s} not found. Ensure that the config.publicPath is configured correctly.`);const c=l.chunks;let d=0;const p=c.map(async _=>{const y=_.offsets[1]-_.offsets[0],w=e.publicPath?new URL(_.name,e.publicPath).toString():_.name,k=await(await fetch(w,e.fetchArgs)).blob();if(y!==k.size)throw new Error(`Failed to fetch ${s} with size ${y} but got ${k.size}`);return e.progress&&(d+=y,e.progress(`fetch:${s}`,d,l.size)),k}),g=await Promise.all(p),v=new Blob(g,{type:l.mime});if(v.size!==l.size)throw new Error(`Failed to fetch ${s} with size ${l.size} but got ${v.size}`);return v}var Bs=null,Dm=async s=>(Bs!==null||(s?Bs=(await ov(async()=>{const{default:e}=await import("./ort.webgpu.bundle.min-CElWvg4j.js");return{default:e}},[])).default:Bs=(await ov(async()=>{const{default:e}=await import("./ort.bundle.min-DAXuwjBG.js");return{default:e}},[])).default),Bs);async function ob(s,e){const r=e.device==="gpu"&&await $m(),i=r&&e.proxyToWorker,o=[r?"webgpu":"wasm"],l=await Dm(r);e.debug&&(console.debug("	Using WebGPU:",r),console.debug("	Proxy to Worker:",i),l.env.debug=!0,l.env.logLevel="verbose"),l.env.wasm.numThreads=sb(),l.env.wasm.proxy=i;const c=r?"/onnxruntime-web/ort-wasm-simd-threaded.jsep":"/onnxruntime-web/ort-wasm-simd-threaded",d=await dv(`${c}.wasm`,e),p=await dv(`${c}.mjs`,e);l.env.wasm.wasmPaths={mjs:p,wasm:d},e.debug&&console.debug("ort.env.wasm:",l.env.wasm);const g={executionProviders:o,graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await l.InferenceSession.create(s,g).catch(_=>{throw new Error(`Failed to create session: "${_}". Please check if the publicPath is set correctly.`)})}async function ab(s,e,r,i){const o=i.device==="gpu"&&await $m(),l=await Dm(o),c={};for(const[g,v]of e)c[g]=new l.Tensor("float32",new Float32Array(v.data),v.shape);const d=await s.run(c,{}),p=[];for(const g of r){const v=d[g],_=v.dims,y=v.data,w=(0,ib.default)(y,_);p.push(w)}return p}var $e;(function(s){s.assertEqual=o=>o;function e(o){}s.assertIs=e;function r(o){throw new Error}s.assertNever=r,s.arrayToEnum=o=>{const l={};for(const c of o)l[c]=c;return l},s.getValidEnumValues=o=>{const l=s.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),c={};for(const d of l)c[d]=o[d];return s.objectValues(c)},s.objectValues=o=>s.objectKeys(o).map(function(l){return o[l]}),s.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&l.push(c);return l},s.find=(o,l)=>{for(const c of o)if(l(c))return c},s.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,l=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(l)}s.joinValues=i,s.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})($e||($e={}));var Cd;(function(s){s.mergeShapes=(e,r)=>({...e,...r})})(Cd||(Cd={}));var oe=$e.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yr=s=>{switch(typeof s){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(s)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(s)?oe.array:s===null?oe.null:s.then&&typeof s.then=="function"&&s.catch&&typeof s.catch=="function"?oe.promise:typeof Map<"u"&&s instanceof Map?oe.map:typeof Set<"u"&&s instanceof Set?oe.set:typeof Date<"u"&&s instanceof Date?oe.date:oe.object;default:return oe.unknown}},W=$e.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),lb=s=>JSON.stringify(s,null,2).replace(/"([^"]+)":/g,"$1:"),kr=class Um extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(l){return l.message},i={_errors:[]},o=l=>{for(const c of l.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)i._errors.push(r(c));else{let d=i,p=0;for(;p<c.path.length;){const g=c.path[p];p===c.path.length-1?(d[g]=d[g]||{_errors:[]},d[g]._errors.push(r(c))):d[g]=d[g]||{_errors:[]},d=d[g],p++}}};return o(this),i}static assert(e){if(!(e instanceof Um))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$e.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},i=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):i.push(e(o));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}};kr.create=s=>new kr(s);var Li=(s,e)=>{let r;switch(s.code){case W.invalid_type:s.received===oe.undefined?r="Required":r=`Expected ${s.expected}, received ${s.received}`;break;case W.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(s.expected,$e.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:r=`Unrecognized key(s) in object: ${$e.joinValues(s.keys,", ")}`;break;case W.invalid_union:r="Invalid input";break;case W.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${$e.joinValues(s.options)}`;break;case W.invalid_enum_value:r=`Invalid enum value. Expected ${$e.joinValues(s.options)}, received '${s.received}'`;break;case W.invalid_arguments:r="Invalid function arguments";break;case W.invalid_return_type:r="Invalid function return type";break;case W.invalid_date:r="Invalid date";break;case W.invalid_string:typeof s.validation=="object"?"includes"in s.validation?(r=`Invalid input: must include "${s.validation.includes}"`,typeof s.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${s.validation.position}`)):"startsWith"in s.validation?r=`Invalid input: must start with "${s.validation.startsWith}"`:"endsWith"in s.validation?r=`Invalid input: must end with "${s.validation.endsWith}"`:$e.assertNever(s.validation):s.validation!=="regex"?r=`Invalid ${s.validation}`:r="Invalid";break;case W.too_small:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at least":"more than"} ${s.minimum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at least":"over"} ${s.minimum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${s.minimum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly equal to ":s.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(s.minimum))}`:r="Invalid input";break;case W.too_big:s.type==="array"?r=`Array must contain ${s.exact?"exactly":s.inclusive?"at most":"less than"} ${s.maximum} element(s)`:s.type==="string"?r=`String must contain ${s.exact?"exactly":s.inclusive?"at most":"under"} ${s.maximum} character(s)`:s.type==="number"?r=`Number must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="bigint"?r=`BigInt must be ${s.exact?"exactly":s.inclusive?"less than or equal to":"less than"} ${s.maximum}`:s.type==="date"?r=`Date must be ${s.exact?"exactly":s.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(s.maximum))}`:r="Invalid input";break;case W.custom:r="Invalid input";break;case W.invalid_intersection_types:r="Intersection results could not be merged";break;case W.not_multiple_of:r=`Number must be a multiple of ${s.multipleOf}`;break;case W.not_finite:r="Number must be finite";break;default:r=e.defaultError,$e.assertNever(s)}return{message:r}},Bm=Li;function ub(s){Bm=s}function yl(){return Bm}var wl=s=>{const{data:e,path:r,errorMaps:i,issueData:o}=s,l=[...r,...o.path||[]],c={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let d="";const p=i.filter(g=>!!g).slice().reverse();for(const g of p)d=g(c,{data:e,defaultError:d}).message;return{...o,path:l,message:d}},cb=[];function ee(s,e){const r=yl(),i=wl({issueData:e,data:s.data,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,r,r===Li?void 0:Li].filter(o=>!!o)});s.common.issues.push(i)}var Zt=class Vm{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const i=[];for(const o of r){if(o.status==="aborted")return Ee;o.status==="dirty"&&e.dirty(),i.push(o.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,r){const i=[];for(const o of r){const l=await o.key,c=await o.value;i.push({key:l,value:c})}return Vm.mergeObjectSync(e,i)}static mergeObjectSync(e,r){const i={};for(const o of r){const{key:l,value:c}=o;if(l.status==="aborted"||c.status==="aborted")return Ee;l.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(i[l.value]=c.value)}return{status:e.value,value:i}}},Ee=Object.freeze({status:"aborted"}),Ii=s=>({status:"dirty",value:s}),Lt=s=>({status:"valid",value:s}),Pd=s=>s.status==="aborted",Td=s=>s.status==="dirty",Kn=s=>s.status==="valid",ho=s=>typeof Promise<"u"&&s instanceof Promise;function xl(s,e,r,i){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(s)}function Hm(s,e,r,i,o){if(typeof e=="function"?s!==e||!0:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(s,r),r}var ge;(function(s){s.errToObj=e=>typeof e=="string"?{message:e}:e||{},s.toString=e=>typeof e=="string"?e:e?.message})(ge||(ge={}));var Qs,Xs,Mr=class{constructor(s,e,r,i){this._cachedPath=[],this.parent=s,this.data=e,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},fv=(s,e)=>{if(Kn(e))return{success:!0,data:e.value};if(!s.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new kr(s.common.issues);return this._error=r,this._error}}};function Pe(s){if(!s)return{};const{errorMap:e,invalid_type_error:r,required_error:i,description:o}=s;if(e&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,d)=>{var p,g;const{message:v}=s;return c.code==="invalid_enum_value"?{message:v??d.defaultError}:typeof d.data>"u"?{message:(p=v??i)!==null&&p!==void 0?p:d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:(g=v??r)!==null&&g!==void 0?g:d.defaultError}},description:o}}var Te=class{get description(){return this._def.description}_getType(s){return Yr(s.data)}_getOrReturnCtx(s,e){return e||{common:s.parent.common,data:s.data,parsedType:Yr(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}_processInputParams(s){return{status:new Zt,ctx:{common:s.parent.common,data:s.data,parsedType:Yr(s.data),schemaErrorMap:this._def.errorMap,path:s.path,parent:s.parent}}}_parseSync(s){const e=this._parse(s);if(ho(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(s){const e=this._parse(s);return Promise.resolve(e)}parse(s,e){const r=this.safeParse(s,e);if(r.success)return r.data;throw r.error}safeParse(s,e){var r;const i={common:{issues:[],async:(r=e?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:e?.errorMap},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Yr(s)},o=this._parseSync({data:s,path:i.path,parent:i});return fv(i,o)}"~validate"(s){var e,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Yr(s)};if(!this["~standard"].async)try{const o=this._parseSync({data:s,path:[],parent:i});return Kn(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(e=o?.message)===null||e===void 0?void 0:e.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:s,path:[],parent:i}).then(o=>Kn(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(s,e){const r=await this.safeParseAsync(s,e);if(r.success)return r.data;throw r.error}async safeParseAsync(s,e){const r={common:{issues:[],contextualErrorMap:e?.errorMap,async:!0},path:e?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:s,parsedType:Yr(s)},i=this._parse({data:s,path:r.path,parent:r}),o=await(ho(i)?i:Promise.resolve(i));return fv(r,o)}refine(s,e){const r=i=>typeof e=="string"||typeof e>"u"?{message:e}:typeof e=="function"?e(i):e;return this._refinement((i,o)=>{const l=s(i),c=()=>o.addIssue({code:W.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(s,e){return this._refinement((r,i)=>s(r)?!0:(i.addIssue(typeof e=="function"?e(r,i):e),!1))}_refinement(s){return new br({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:s}})}superRefine(s){return this._refinement(s)}constructor(s){this.spa=this.safeParseAsync,this._def=s,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Or.create(this,this._def)}nullable(){return Rn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jn.create(this)}promise(){return Di.create(this,this._def)}or(s){return wo.create([this,s],this._def)}and(s){return xo.create(this,s,this._def)}transform(s){return new br({...Pe(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:s}})}default(s){const e=typeof s=="function"?s:()=>s;return new Eo({...Pe(this._def),innerType:this,defaultValue:e,typeName:Se.ZodDefault})}brand(){return new ef({typeName:Se.ZodBranded,type:this,...Pe(this._def)})}catch(s){const e=typeof s=="function"?s:()=>s;return new Co({...Pe(this._def),innerType:this,catchValue:e,typeName:Se.ZodCatch})}describe(s){const e=this.constructor;return new e({...this._def,description:s})}pipe(s){return tf.create(this,s)}readonly(){return Po.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},db=/^c[^\s-]{8,}$/i,fb=/^[0-9a-z]+$/,hb=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pb=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gb=/^[a-z0-9_-]{21}$/i,vb=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,mb=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_b=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,yb="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Yc,wb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,xb=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bb=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Sb=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Eb=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Wm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Cb=new RegExp(`^${Wm}$`);function Gm(s){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return s.precision?e=`${e}\\.\\d{${s.precision}}`:s.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Pb(s){return new RegExp(`^${Gm(s)}$`)}function Zm(s){let e=`${Wm}T${Gm(s)}`;const r=[];return r.push(s.local?"Z?":"Z"),s.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Tb(s,e){return!!((e==="v4"||!e)&&wb.test(s)||(e==="v6"||!e)&&kb.test(s))}function Rb(s,e){if(!vb.test(s))return!1;try{const[r]=s.split("."),i=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function Nb(s,e){return!!((e==="v4"||!e)&&xb.test(s)||(e==="v6"||!e)&&bb.test(s))}var $i=class Ks extends Te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==oe.string){const l=this._getOrReturnCtx(e);return ee(l,{code:W.invalid_type,expected:oe.string,received:l.parsedType}),Ee}const i=new Zt;let o;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(o=this._getOrReturnCtx(e,o),ee(o,{code:W.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")e.data.length>l.value&&(o=this._getOrReturnCtx(e,o),ee(o,{code:W.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const c=e.data.length>l.value,d=e.data.length<l.value;(c||d)&&(o=this._getOrReturnCtx(e,o),c?ee(o,{code:W.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):d&&ee(o,{code:W.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")_b.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"email",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Yc||(Yc=new RegExp(yb,"u")),Yc.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"emoji",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")pb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"uuid",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")gb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"nanoid",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")db.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"cuid",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")fb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"cuid2",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")hb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"ulid",code:W.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ee(o,{validation:"url",code:W.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"regex",code:W.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?Zm(l).test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?Cb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?Pb(l).test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{code:W.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?mb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"duration",code:W.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?Tb(e.data,l.version)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"ip",code:W.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?Rb(e.data,l.alg)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"jwt",code:W.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?Nb(e.data,l.version)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"cidr",code:W.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?Sb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"base64",code:W.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?Eb.test(e.data)||(o=this._getOrReturnCtx(e,o),ee(o,{validation:"base64url",code:W.invalid_string,message:l.message}),i.dirty()):$e.assertNever(l);return{status:i.value,value:e.data}}_regex(e,r,i){return this.refinement(o=>e.test(o),{validation:r,code:W.invalid_string,...ge.errToObj(i)})}_addCheck(e){return new Ks({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ge.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ge.errToObj(e)})}datetime(e){var r,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(i=e?.local)!==null&&i!==void 0?i:!1,...ge.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...ge.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...ge.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...ge.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...ge.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...ge.errToObj(r)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ks({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};$i.create=s=>{var e;return new $i({checks:[],typeName:Se.ZodString,coerce:(e=s?.coerce)!==null&&e!==void 0?e:!1,...Pe(s)})};function Ib(s,e){const r=(s.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,o=r>i?r:i,l=parseInt(s.toFixed(o).replace(".","")),c=parseInt(e.toFixed(o).replace(".",""));return l%c/Math.pow(10,o)}var po=class Rd extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==oe.number){const l=this._getOrReturnCtx(e);return ee(l,{code:W.invalid_type,expected:oe.number,received:l.parsedType}),Ee}let i;const o=new Zt;for(const l of this._def.checks)l.kind==="int"?$e.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:W.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?Ib(e.data,l.value)!==0&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),ee(i,{code:W.not_finite,message:l.message}),o.dirty()):$e.assertNever(l);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ge.toString(r))}setLimit(e,r,i,o){return new Rd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:ge.toString(o)}]})}_addCheck(e){return new Rd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&$e.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(r)&&Number.isFinite(e)}};po.create=s=>new po({checks:[],typeName:Se.ZodNumber,coerce:s?.coerce||!1,...Pe(s)});var go=class Nd extends Te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==oe.bigint)return this._getInvalidInput(e);let i;const o=new Zt;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),ee(i,{code:W.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):$e.assertNever(l);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return ee(r,{code:W.invalid_type,expected:oe.bigint,received:r.parsedType}),Ee}gte(e,r){return this.setLimit("min",e,!0,ge.toString(r))}gt(e,r){return this.setLimit("min",e,!1,ge.toString(r))}lte(e,r){return this.setLimit("max",e,!0,ge.toString(r))}lt(e,r){return this.setLimit("max",e,!1,ge.toString(r))}setLimit(e,r,i,o){return new Nd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:i,message:ge.toString(o)}]})}_addCheck(e){return new Nd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};go.create=s=>{var e;return new go({checks:[],typeName:Se.ZodBigInt,coerce:(e=s?.coerce)!==null&&e!==void 0?e:!1,...Pe(s)})};var vo=class extends Te{_parse(s){if(this._def.coerce&&(s.data=!!s.data),this._getType(s)!==oe.boolean){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.boolean,received:r.parsedType}),Ee}return Lt(s.data)}};vo.create=s=>new vo({typeName:Se.ZodBoolean,coerce:s?.coerce||!1,...Pe(s)});var mo=class qm extends Te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==oe.date){const l=this._getOrReturnCtx(e);return ee(l,{code:W.invalid_type,expected:oe.date,received:l.parsedType}),Ee}if(isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return ee(l,{code:W.invalid_date}),Ee}const i=new Zt;let o;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(o=this._getOrReturnCtx(e,o),ee(o,{code:W.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(o=this._getOrReturnCtx(e,o),ee(o,{code:W.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):$e.assertNever(l);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new qm({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};mo.create=s=>new mo({checks:[],coerce:s?.coerce||!1,typeName:Se.ZodDate,...Pe(s)});var kl=class extends Te{_parse(s){if(this._getType(s)!==oe.symbol){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.symbol,received:r.parsedType}),Ee}return Lt(s.data)}};kl.create=s=>new kl({typeName:Se.ZodSymbol,...Pe(s)});var _o=class extends Te{_parse(s){if(this._getType(s)!==oe.undefined){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.undefined,received:r.parsedType}),Ee}return Lt(s.data)}};_o.create=s=>new _o({typeName:Se.ZodUndefined,...Pe(s)});var yo=class extends Te{_parse(s){if(this._getType(s)!==oe.null){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.null,received:r.parsedType}),Ee}return Lt(s.data)}};yo.create=s=>new yo({typeName:Se.ZodNull,...Pe(s)});var zi=class extends Te{constructor(){super(...arguments),this._any=!0}_parse(s){return Lt(s.data)}};zi.create=s=>new zi({typeName:Se.ZodAny,...Pe(s)});var Yn=class extends Te{constructor(){super(...arguments),this._unknown=!0}_parse(s){return Lt(s.data)}};Yn.create=s=>new Yn({typeName:Se.ZodUnknown,...Pe(s)});var Jr=class extends Te{_parse(s){const e=this._getOrReturnCtx(s);return ee(e,{code:W.invalid_type,expected:oe.never,received:e.parsedType}),Ee}};Jr.create=s=>new Jr({typeName:Se.ZodNever,...Pe(s)});var bl=class extends Te{_parse(s){if(this._getType(s)!==oe.undefined){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.void,received:r.parsedType}),Ee}return Lt(s.data)}};bl.create=s=>new bl({typeName:Se.ZodVoid,...Pe(s)});var Jn=class el extends Te{_parse(e){const{ctx:r,status:i}=this._processInputParams(e),o=this._def;if(r.parsedType!==oe.array)return ee(r,{code:W.invalid_type,expected:oe.array,received:r.parsedType}),Ee;if(o.exactLength!==null){const c=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(c||d)&&(ee(r,{code:c?W.too_big:W.too_small,minimum:d?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(ee(r,{code:W.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(ee(r,{code:W.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((c,d)=>o.type._parseAsync(new Mr(r,c,r.path,d)))).then(c=>Zt.mergeArray(i,c));const l=[...r.data].map((c,d)=>o.type._parseSync(new Mr(r,c,r.path,d)));return Zt.mergeArray(i,l)}get element(){return this._def.type}min(e,r){return new el({...this._def,minLength:{value:e,message:ge.toString(r)}})}max(e,r){return new el({...this._def,maxLength:{value:e,message:ge.toString(r)}})}length(e,r){return new el({...this._def,exactLength:{value:e,message:ge.toString(r)}})}nonempty(e){return this.min(1,e)}};Jn.create=(s,e)=>new Jn({type:s,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Pe(e)});function Ti(s){if(s instanceof ur){const e={};for(const r in s.shape){const i=s.shape[r];e[r]=Or.create(Ti(i))}return new ur({...s._def,shape:()=>e})}else return s instanceof Jn?new Jn({...s._def,type:Ti(s.element)}):s instanceof Or?Or.create(Ti(s.unwrap())):s instanceof Rn?Rn.create(Ti(s.unwrap())):s instanceof Tn?Tn.create(s.items.map(e=>Ti(e))):s}var ur=class wr extends Te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=$e.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==oe.object){const g=this._getOrReturnCtx(e);return ee(g,{code:W.invalid_type,expected:oe.object,received:g.parsedType}),Ee}const{status:i,ctx:o}=this._processInputParams(e),{shape:l,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof Jr&&this._def.unknownKeys==="strip"))for(const g in o.data)c.includes(g)||d.push(g);const p=[];for(const g of c){const v=l[g],_=o.data[g];p.push({key:{status:"valid",value:g},value:v._parse(new Mr(o,_,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof Jr){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of d)p.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(g==="strict")d.length>0&&(ee(o,{code:W.unrecognized_keys,keys:d}),i.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of d){const _=o.data[v];p.push({key:{status:"valid",value:v},value:g._parse(new Mr(o,_,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of p){const _=await v.key,y=await v.value;g.push({key:_,value:y,alwaysSet:v.alwaysSet})}return g}).then(g=>Zt.mergeObjectSync(i,g)):Zt.mergeObjectSync(i,p)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new wr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,i)=>{var o,l,c,d;const p=(c=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,r,i).message)!==null&&c!==void 0?c:i.defaultError;return r.code==="unrecognized_keys"?{message:(d=ge.errToObj(e).message)!==null&&d!==void 0?d:p}:{message:p}}}:{}})}strip(){return new wr({...this._def,unknownKeys:"strip"})}passthrough(){return new wr({...this._def,unknownKeys:"passthrough"})}extend(e){return new wr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new wr({...this._def,catchall:e})}pick(e){const r={};return $e.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(r[i]=this.shape[i])}),new wr({...this._def,shape:()=>r})}omit(e){const r={};return $e.objectKeys(this.shape).forEach(i=>{e[i]||(r[i]=this.shape[i])}),new wr({...this._def,shape:()=>r})}deepPartial(){return Ti(this)}partial(e){const r={};return $e.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];e&&!e[i]?r[i]=o:r[i]=o.optional()}),new wr({...this._def,shape:()=>r})}required(e){const r={};return $e.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])r[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof Or;)l=l._def.innerType;r[i]=l}}),new wr({...this._def,shape:()=>r})}keyof(){return e_($e.objectKeys(this.shape))}};ur.create=(s,e)=>new ur({shape:()=>s,unknownKeys:"strip",catchall:Jr.create(),typeName:Se.ZodObject,...Pe(e)});ur.strictCreate=(s,e)=>new ur({shape:()=>s,unknownKeys:"strict",catchall:Jr.create(),typeName:Se.ZodObject,...Pe(e)});ur.lazycreate=(s,e)=>new ur({shape:s,unknownKeys:"strip",catchall:Jr.create(),typeName:Se.ZodObject,...Pe(e)});var wo=class extends Te{_parse(s){const{ctx:e}=this._processInputParams(s),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return e.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new kr(c.ctx.common.issues));return ee(e,{code:W.invalid_union,unionErrors:l}),Ee}if(e.common.async)return Promise.all(r.map(async o=>{const l={...e,common:{...e.common,issues:[]},parent:null};return{result:await o._parseAsync({data:e.data,path:e.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const d of r){const p={...e,common:{...e.common,issues:[]},parent:null},g=d._parseSync({data:e.data,path:e.path,parent:p});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:p}),p.common.issues.length&&l.push(p.common.issues)}if(o)return e.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(d=>new kr(d));return ee(e,{code:W.invalid_union,unionErrors:c}),Ee}}get options(){return this._def.options}};wo.create=(s,e)=>new wo({options:s,typeName:Se.ZodUnion,...Pe(e)});var Wr=s=>s instanceof ko?Wr(s.schema):s instanceof br?Wr(s.innerType()):s instanceof bo?[s.value]:s instanceof Io?s.options:s instanceof So?$e.objectValues(s.enum):s instanceof Eo?Wr(s._def.innerType):s instanceof _o?[void 0]:s instanceof yo?[null]:s instanceof Or?[void 0,...Wr(s.unwrap())]:s instanceof Rn?[null,...Wr(s.unwrap())]:s instanceof ef||s instanceof Po?Wr(s.unwrap()):s instanceof Co?Wr(s._def.innerType):[],Ym=class Qm extends Te{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.object)return ee(r,{code:W.invalid_type,expected:oe.object,received:r.parsedType}),Ee;const i=this.discriminator,o=r.data[i],l=this.optionsMap.get(o);return l?r.common.async?l._parseAsync({data:r.data,path:r.path,parent:r}):l._parseSync({data:r.data,path:r.path,parent:r}):(ee(r,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),Ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,i){const o=new Map;for(const l of r){const c=Wr(l.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,l)}}return new Qm({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...Pe(i)})}};function Id(s,e){const r=Yr(s),i=Yr(e);if(s===e)return{valid:!0,data:s};if(r===oe.object&&i===oe.object){const o=$e.objectKeys(e),l=$e.objectKeys(s).filter(d=>o.indexOf(d)!==-1),c={...s,...e};for(const d of l){const p=Id(s[d],e[d]);if(!p.valid)return{valid:!1};c[d]=p.data}return{valid:!0,data:c}}else if(r===oe.array&&i===oe.array){if(s.length!==e.length)return{valid:!1};const o=[];for(let l=0;l<s.length;l++){const c=s[l],d=e[l],p=Id(c,d);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return r===oe.date&&i===oe.date&&+s==+e?{valid:!0,data:s}:{valid:!1}}var xo=class extends Te{_parse(s){const{status:e,ctx:r}=this._processInputParams(s),i=(o,l)=>{if(Pd(o)||Pd(l))return Ee;const c=Id(o.value,l.value);return c.valid?((Td(o)||Td(l))&&e.dirty(),{status:e.value,value:c.data}):(ee(r,{code:W.invalid_intersection_types}),Ee)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};xo.create=(s,e,r)=>new xo({left:s,right:e,typeName:Se.ZodIntersection,...Pe(r)});var Tn=class Xm extends Te{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==oe.array)return ee(i,{code:W.invalid_type,expected:oe.array,received:i.parsedType}),Ee;if(i.data.length<this._def.items.length)return ee(i,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ee;!this._def.rest&&i.data.length>this._def.items.length&&(ee(i,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const l=[...i.data].map((c,d)=>{const p=this._def.items[d]||this._def.rest;return p?p._parse(new Mr(i,c,i.path,d)):null}).filter(c=>!!c);return i.common.async?Promise.all(l).then(c=>Zt.mergeArray(r,c)):Zt.mergeArray(r,l)}get items(){return this._def.items}rest(e){return new Xm({...this._def,rest:e})}};Tn.create=(s,e)=>{if(!Array.isArray(s))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tn({items:s,typeName:Se.ZodTuple,rest:null,...Pe(e)})};var Km=class Od extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==oe.object)return ee(i,{code:W.invalid_type,expected:oe.object,received:i.parsedType}),Ee;const o=[],l=this._def.keyType,c=this._def.valueType;for(const d in i.data)o.push({key:l._parse(new Mr(i,d,i.path,d)),value:c._parse(new Mr(i,i.data[d],i.path,d)),alwaysSet:d in i.data});return i.common.async?Zt.mergeObjectAsync(r,o):Zt.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,i){return r instanceof Te?new Od({keyType:e,valueType:r,typeName:Se.ZodRecord,...Pe(i)}):new Od({keyType:$i.create(),valueType:e,typeName:Se.ZodRecord,...Pe(r)})}},Sl=class extends Te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(s){const{status:e,ctx:r}=this._processInputParams(s);if(r.parsedType!==oe.map)return ee(r,{code:W.invalid_type,expected:oe.map,received:r.parsedType}),Ee;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,d],p)=>({key:i._parse(new Mr(r,c,r.path,[p,"key"])),value:o._parse(new Mr(r,d,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const p=await d.key,g=await d.value;if(p.status==="aborted"||g.status==="aborted")return Ee;(p.status==="dirty"||g.status==="dirty")&&e.dirty(),c.set(p.value,g.value)}return{status:e.value,value:c}})}else{const c=new Map;for(const d of l){const p=d.key,g=d.value;if(p.status==="aborted"||g.status==="aborted")return Ee;(p.status==="dirty"||g.status==="dirty")&&e.dirty(),c.set(p.value,g.value)}return{status:e.value,value:c}}}};Sl.create=(s,e,r)=>new Sl({valueType:e,keyType:s,typeName:Se.ZodMap,...Pe(r)});var El=class jd extends Te{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.parsedType!==oe.set)return ee(i,{code:W.invalid_type,expected:oe.set,received:i.parsedType}),Ee;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(ee(i,{code:W.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(ee(i,{code:W.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const l=this._def.valueType;function c(p){const g=new Set;for(const v of p){if(v.status==="aborted")return Ee;v.status==="dirty"&&r.dirty(),g.add(v.value)}return{status:r.value,value:g}}const d=[...i.data.values()].map((p,g)=>l._parse(new Mr(i,p,i.path,g)));return i.common.async?Promise.all(d).then(p=>c(p)):c(d)}min(e,r){return new jd({...this._def,minSize:{value:e,message:ge.toString(r)}})}max(e,r){return new jd({...this._def,maxSize:{value:e,message:ge.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};El.create=(s,e)=>new El({valueType:s,minSize:null,maxSize:null,typeName:Se.ZodSet,...Pe(e)});var Jm=class tl extends Te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==oe.function)return ee(r,{code:W.invalid_type,expected:oe.function,received:r.parsedType}),Ee;function i(d,p){return wl({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yl(),Li].filter(g=>!!g),issueData:{code:W.invalid_arguments,argumentsError:p}})}function o(d,p){return wl({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,yl(),Li].filter(g=>!!g),issueData:{code:W.invalid_return_type,returnTypeError:p}})}const l={errorMap:r.common.contextualErrorMap},c=r.data;if(this._def.returns instanceof Di){const d=this;return Lt(async function(...p){const g=new kr([]),v=await d._def.args.parseAsync(p,l).catch(w=>{throw g.addIssue(i(p,w)),g}),_=await Reflect.apply(c,this,v);return await d._def.returns._def.type.parseAsync(_,l).catch(w=>{throw g.addIssue(o(_,w)),g})})}else{const d=this;return Lt(function(...p){const g=d._def.args.safeParse(p,l);if(!g.success)throw new kr([i(p,g.error)]);const v=Reflect.apply(c,this,g.data),_=d._def.returns.safeParse(v,l);if(!_.success)throw new kr([o(v,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tl({...this._def,args:Tn.create(e).rest(Yn.create())})}returns(e){return new tl({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,i){return new tl({args:e||Tn.create([]).rest(Yn.create()),returns:r||Yn.create(),typeName:Se.ZodFunction,...Pe(i)})}},ko=class extends Te{get schema(){return this._def.getter()}_parse(s){const{ctx:e}=this._processInputParams(s);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}};ko.create=(s,e)=>new ko({getter:s,typeName:Se.ZodLazy,...Pe(e)});var bo=class extends Te{_parse(s){if(s.data!==this._def.value){const e=this._getOrReturnCtx(s);return ee(e,{received:e.data,code:W.invalid_literal,expected:this._def.value}),Ee}return{status:"valid",value:s.data}}get value(){return this._def.value}};bo.create=(s,e)=>new bo({value:s,typeName:Se.ZodLiteral,...Pe(e)});function e_(s,e){return new Io({values:s,typeName:Se.ZodEnum,...Pe(e)})}var Io=class Md extends Te{constructor(){super(...arguments),Qs.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),i=this._def.values;return ee(r,{expected:$e.joinValues(i),received:r.parsedType,code:W.invalid_type}),Ee}if(xl(this,Qs)||Hm(this,Qs,new Set(this._def.values)),!xl(this,Qs).has(e.data)){const r=this._getOrReturnCtx(e),i=this._def.values;return ee(r,{received:r.data,code:W.invalid_enum_value,options:i}),Ee}return Lt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Md.create(e,{...this._def,...r})}exclude(e,r=this._def){return Md.create(this.options.filter(i=>!e.includes(i)),{...this._def,...r})}};Qs=new WeakMap;Io.create=e_;var So=class extends Te{constructor(){super(...arguments),Xs.set(this,void 0)}_parse(s){const e=$e.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(s);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const i=$e.objectValues(e);return ee(r,{expected:$e.joinValues(i),received:r.parsedType,code:W.invalid_type}),Ee}if(xl(this,Xs)||Hm(this,Xs,new Set($e.getValidEnumValues(this._def.values))),!xl(this,Xs).has(s.data)){const i=$e.objectValues(e);return ee(r,{received:r.data,code:W.invalid_enum_value,options:i}),Ee}return Lt(s.data)}get enum(){return this._def.values}};Xs=new WeakMap;So.create=(s,e)=>new So({values:s,typeName:Se.ZodNativeEnum,...Pe(e)});var Di=class extends Te{unwrap(){return this._def.type}_parse(s){const{ctx:e}=this._processInputParams(s);if(e.parsedType!==oe.promise&&e.common.async===!1)return ee(e,{code:W.invalid_type,expected:oe.promise,received:e.parsedType}),Ee;const r=e.parsedType===oe.promise?e.data:Promise.resolve(e.data);return Lt(r.then(i=>this._def.type.parseAsync(i,{path:e.path,errorMap:e.common.contextualErrorMap})))}};Di.create=(s,e)=>new Di({type:s,typeName:Se.ZodPromise,...Pe(e)});var br=class extends Te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(s){const{status:e,ctx:r}=this._processInputParams(s),i=this._def.effect||null,o={addIssue:l=>{ee(r,l),l.fatal?e.abort():e.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(e.value==="aborted")return Ee;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Ee:d.status==="dirty"||e.value==="dirty"?Ii(d.value):d});{if(e.value==="aborted")return Ee;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ee:c.status==="dirty"||e.value==="dirty"?Ii(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Ee:(c.status==="dirty"&&e.dirty(),l(c.value),{status:e.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Ee:(c.status==="dirty"&&e.dirty(),l(c.value).then(()=>({status:e.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Kn(l))return l;const c=i.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Kn(l)?Promise.resolve(i.transform(l.value,o)).then(c=>({status:e.value,value:c})):l);$e.assertNever(i)}};br.create=(s,e,r)=>new br({schema:s,typeName:Se.ZodEffects,effect:e,...Pe(r)});br.createWithPreprocess=(s,e,r)=>new br({schema:e,effect:{type:"preprocess",transform:s},typeName:Se.ZodEffects,...Pe(r)});var Or=class extends Te{_parse(s){return this._getType(s)===oe.undefined?Lt(void 0):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}};Or.create=(s,e)=>new Or({innerType:s,typeName:Se.ZodOptional,...Pe(e)});var Rn=class extends Te{_parse(s){return this._getType(s)===oe.null?Lt(null):this._def.innerType._parse(s)}unwrap(){return this._def.innerType}};Rn.create=(s,e)=>new Rn({innerType:s,typeName:Se.ZodNullable,...Pe(e)});var Eo=class extends Te{_parse(s){const{ctx:e}=this._processInputParams(s);let r=e.data;return e.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:e.path,parent:e})}removeDefault(){return this._def.innerType}};Eo.create=(s,e)=>new Eo({innerType:s,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});var Co=class extends Te{_parse(s){const{ctx:e}=this._processInputParams(s),r={...e,common:{...e.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ho(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new kr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Co.create=(s,e)=>new Co({innerType:s,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});var Cl=class extends Te{_parse(s){if(this._getType(s)!==oe.nan){const r=this._getOrReturnCtx(s);return ee(r,{code:W.invalid_type,expected:oe.nan,received:r.parsedType}),Ee}return{status:"valid",value:s.data}}};Cl.create=s=>new Cl({typeName:Se.ZodNaN,...Pe(s)});var Ob=Symbol("zod_brand"),ef=class extends Te{_parse(s){const{ctx:e}=this._processInputParams(s),r=e.data;return this._def.type._parse({data:r,path:e.path,parent:e})}unwrap(){return this._def.type}},tf=class t_ extends Te{_parse(e){const{status:r,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?Ee:l.status==="dirty"?(r.dirty(),Ii(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?Ee:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(e,r){return new t_({in:e,out:r,typeName:Se.ZodPipeline})}},Po=class extends Te{_parse(s){const e=this._def.innerType._parse(s),r=i=>(Kn(i)&&(i.value=Object.freeze(i.value)),i);return ho(e)?e.then(i=>r(i)):r(e)}unwrap(){return this._def.innerType}};Po.create=(s,e)=>new Po({innerType:s,typeName:Se.ZodReadonly,...Pe(e)});function hv(s,e){const r=typeof s=="function"?s(e):typeof s=="string"?{message:s}:s;return typeof r=="string"?{message:r}:r}function r_(s,e={},r){return s?zi.create().superRefine((i,o)=>{var l,c;const d=s(i);if(d instanceof Promise)return d.then(p=>{var g,v;if(!p){const _=hv(e,i),y=(v=(g=_.fatal)!==null&&g!==void 0?g:r)!==null&&v!==void 0?v:!0;o.addIssue({code:"custom",..._,fatal:y})}});if(!d){const p=hv(e,i),g=(c=(l=p.fatal)!==null&&l!==void 0?l:r)!==null&&c!==void 0?c:!0;o.addIssue({code:"custom",...p,fatal:g})}}):zi.create()}var jb={object:ur.lazycreate},Se;(function(s){s.ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly"})(Se||(Se={}));var Mb=(s,e={message:`Input not instance of ${s.name}`})=>r_(r=>r instanceof s,e),n_=$i.create,i_=po.create,Ab=Cl.create,Fb=go.create,s_=vo.create,Lb=mo.create,$b=kl.create,zb=_o.create,Db=yo.create,Ub=zi.create,Bb=Yn.create,Vb=Jr.create,Hb=bl.create,Wb=Jn.create,Gb=ur.create,Zb=ur.strictCreate,qb=wo.create,Yb=Ym.create,Qb=xo.create,Xb=Tn.create,Kb=Km.create,Jb=Sl.create,eS=El.create,tS=Jm.create,rS=ko.create,nS=bo.create,iS=Io.create,sS=So.create,oS=Di.create,pv=br.create,aS=Or.create,lS=Rn.create,uS=br.createWithPreprocess,cS=tf.create,dS=()=>n_().optional(),fS=()=>i_().optional(),hS=()=>s_().optional(),pS={string:s=>$i.create({...s,coerce:!0}),number:s=>po.create({...s,coerce:!0}),boolean:s=>vo.create({...s,coerce:!0}),bigint:s=>go.create({...s,coerce:!0}),date:s=>mo.create({...s,coerce:!0})},gS=Ee,kt=Object.freeze({__proto__:null,defaultErrorMap:Li,setErrorMap:ub,getErrorMap:yl,makeIssue:wl,EMPTY_PATH:cb,addIssueToContext:ee,ParseStatus:Zt,INVALID:Ee,DIRTY:Ii,OK:Lt,isAborted:Pd,isDirty:Td,isValid:Kn,isAsync:ho,get util(){return $e},get objectUtil(){return Cd},ZodParsedType:oe,getParsedType:Yr,ZodType:Te,datetimeRegex:Zm,ZodString:$i,ZodNumber:po,ZodBigInt:go,ZodBoolean:vo,ZodDate:mo,ZodSymbol:kl,ZodUndefined:_o,ZodNull:yo,ZodAny:zi,ZodUnknown:Yn,ZodNever:Jr,ZodVoid:bl,ZodArray:Jn,ZodObject:ur,ZodUnion:wo,ZodDiscriminatedUnion:Ym,ZodIntersection:xo,ZodTuple:Tn,ZodRecord:Km,ZodMap:Sl,ZodSet:El,ZodFunction:Jm,ZodLazy:ko,ZodLiteral:bo,ZodEnum:Io,ZodNativeEnum:So,ZodPromise:Di,ZodEffects:br,ZodTransformer:br,ZodOptional:Or,ZodNullable:Rn,ZodDefault:Eo,ZodCatch:Co,ZodNaN:Cl,BRAND:Ob,ZodBranded:ef,ZodPipeline:tf,ZodReadonly:Po,custom:r_,Schema:Te,ZodSchema:Te,late:jb,get ZodFirstPartyTypeKind(){return Se},coerce:pS,any:Ub,array:Wb,bigint:Fb,boolean:s_,date:Lb,discriminatedUnion:Yb,effect:pv,enum:iS,function:tS,instanceof:Mb,intersection:Qb,lazy:rS,literal:nS,map:Jb,nan:Ab,nativeEnum:sS,never:Vb,null:Db,nullable:lS,number:i_,object:Gb,oboolean:hS,onumber:fS,optional:aS,ostring:dS,pipeline:cS,preprocess:uS,promise:oS,record:Kb,set:eS,strictObject:Zb,string:n_,symbol:$b,transformer:pv,tuple:Xb,undefined:zb,union:qb,unknown:Bb,void:Hb,NEVER:gS,ZodIssueCode:W,quotelessJson:lb,ZodError:kr}),gv={name:"@imgly/background-removal",version:"1.7.0"},vS=kt.object({publicPath:kt.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/${PACKAGE_VERSION}/dist/").transform(s=>s.replace("${PACKAGE_NAME}",gv.name).replace("${PACKAGE_VERSION}",gv.version)),debug:kt.boolean().default(!1).describe("Whether to enable debug logging."),rescale:kt.boolean().default(!0).describe("Whether to rescale the image."),device:kt.enum(["cpu","gpu"]).default("cpu").describe("The device to run the model on."),proxyToWorker:kt.boolean().default(!1).describe("Whether to proxy inference to a web worker."),fetchArgs:kt.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:kt.function().args(kt.string(),kt.number(),kt.number()).returns(kt.void()).describe("Progress callback.").optional(),model:kt.preprocess(s=>{switch(s){case"large":return"isnet";case"small":return"isnet_quint8";case"medium":return"isnet_fp16";default:return s}},kt.enum(["isnet","isnet_fp16","isnet_quint8"])).default("medium"),output:kt.object({format:kt.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:kt.number().default(.8)}).default({})}).default({}).transform(s=>(s.debug&&console.log("Config:",s),s.debug&&!s.progress&&(s.progress=s.progress??((e,r,i)=>{console.debug(`Downloading ${e}: ${r} of ${i}`)}),crossOriginIsolated||s.debug&&console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),s));function mS(s){return vS.parse(s??{})}var _S=jl(Ml());async function yS(s){s.debug&&console.debug("Loading model...",s.model);const e=s.model,i=await(await zm(`/models/${e}`,s)).arrayBuffer();return await ob(i,s)}async function wS(s){s=mS(s);const e=await yS(s);return{config:s,session:{base:e}}}async function xS(s,e,r){const[o,l,c]=s.shape,d=!1;let p=cv(s,1024,1024,d);const g=tb(p);let v=await ab(r.base,[["input",g]],["output"],e),_=(0,_S.default)(v[0].data,[1024,1024,1]),y=nb(_);return e.rescale?(y=cv(y,l,o,d),[y,s]):[y,p]}var kS=qk(wS,s=>JSON.stringify(s));async function bS(s,e){const{config:r,session:i}=await kS(e);r.progress&&r.progress("compute:decode",0,4);const o=await rb(s,r);r.progress?.("compute:inference",1,4);const[l,c]=await xS(o,r,i);r.progress?.("compute:mask",2,4);const d=c,[p,g]=d.shape,v=p*g;for(let y=0;y<v;y+=1)d.data[4*y+3]=l.data[y];r.progress?.("compute:encode",3,4);const _=await Qk(d,r.output.quality,r.output.format);return r.progress?.("compute:encode",4,4),_}const qa={png:{mime:"image/png",extension:"png",label:"PNG"},jpeg:{mime:"image/jpeg",extension:"jpg",label:"JPEG"},webp:{mime:"image/webp",extension:"webp",label:"WebP"},svg:{mime:"image/svg+xml",extension:"svg",label:"SVG"}};function SS(){const s=ve.useRef(null),[e,r]=ve.useState(null),[i,o]=ve.useState(null),[l,c]=ve.useState(null),[d,p]=ve.useState(!1),[g,v]=ve.useState(null),[_,y]=ve.useState(50),[w,C]=ve.useState(!1),k=ve.useRef(null),[x,R]=ve.useState("png"),[M,D]=ve.useState(!1),V=ie=>{r(ie),o(ie?URL.createObjectURL(ie):null),c(null),v(null),y(50)},J=async ie=>new Promise(z=>{const F=new FileReader;F.onload=A=>{const $=new Image;$.onload=()=>{const E=$.width,O=$.height,q=document.createElement("canvas");let te=E,ce=O;const fe=1028;if(te>fe||ce>fe){const Ne=Math.min(fe/te,fe/ce);te=Math.round(te*Ne),ce=Math.round(ce*Ne)}q.width=te,q.height=ce,q.getContext("2d").drawImage($,0,0,te,ce),q.toBlob(Ne=>{z({file:Ne,originalWidth:E,originalHeight:O,compressedWidth:te,compressedHeight:ce})},"image/png")},$.src=A.target.result},F.readAsDataURL(ie)}),me=(ie,z,F)=>new Promise(A=>{const $=new Image;$.onload=()=>{const E=document.createElement("canvas");E.width=z,E.height=F;const O=E.getContext("2d");O.imageSmoothingEnabled=!0,O.imageSmoothingQuality="high",O.drawImage($,0,0,z,F),E.toBlob(A,"image/png")},$.src=ie}),Z=async()=>{if(e){p(!0),v(null);try{const{file:ie,originalWidth:z,originalHeight:F}=await J(e),A=await bS(ie),$=URL.createObjectURL(A),E=await me($,z,F),O=URL.createObjectURL(E);c(O),URL.revokeObjectURL($)}catch(ie){v(ie.message||"Failed to remove background"),console.error("Background removal error:",ie)}finally{p(!1)}}},Y=ie=>{let A=ie.width,$=ie.height;if(A>1200||$>1200){const E=1200/A,O=1200/$,q=Math.min(E,O);A=Math.round(A*q),$=Math.round($*q)}return{width:A,height:$}},ke=async ie=>{try{const{width:z,height:F}=Y(ie),A=document.createElement("canvas");A.width=z,A.height=F;const $=A.getContext("2d");$.drawImage(ie,0,0,z,F);const E=$.getImageData(0,0,z,F),O={numberOfColors:16,colorSamplingMode:"scan",fillStyle:"fill",strokeWidth:0,lineErrorMargin:1,curveErrorMargin:1,colorClusteringCycles:3,minColorQuota:.02},te=new Yd(O).traceImage(E);return new Blob([te],{type:"image/svg+xml"})}catch(z){throw new Error(`SVG conversion error: ${z.message}`)}},be=async()=>{if(l){D(!0);try{const ie=new Image;if(ie.crossOrigin="anonymous",await new Promise((q,te)=>{ie.onload=q,ie.onerror=te,ie.src=l}),x==="svg")return await ke(ie);const{width:z,height:F}=Y(ie),A=document.createElement("canvas");A.width=z,A.height=F;const $=A.getContext("2d");x==="jpeg"&&($.fillStyle="#FFFFFF",$.fillRect(0,0,z,F)),$.drawImage(ie,0,0,z,F);const E=qa[x],O=x==="png"?void 0:.9;return new Promise(q=>{A.toBlob(q,E.mime,O)})}finally{D(!1)}}},X=async()=>{if(l)try{let ie;x==="png"?ie=await(await fetch(l)).blob():ie=await be();const z=URL.createObjectURL(ie),F=document.createElement("a");F.href=z;const A=e.name.split(".").slice(0,-1).join("."),$=qa[x];F.download=`${A}-no-bg.${$.extension}`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(z)}catch(ie){v("Failed to download image"),console.error("Download error:",ie)}},Ae=()=>{r(null),o(null),c(null),v(null),y(50),s.current&&s.current.reset()},Oe=ie=>{if(!w||!k.current)return;const z=k.current.getBoundingClientRect(),F=(ie.touches?ie.touches[0].clientX:ie.clientX)-z.left,A=Math.max(0,Math.min(100,F/z.width*100));y(A)},Fe=ie=>{if(ie.preventDefault(),C(!0),k.current){const z=k.current.getBoundingClientRect(),F=(ie.touches?ie.touches[0].clientX:ie.clientX)-z.left,A=Math.max(0,Math.min(100,F/z.width*100));y(A)}},Me=()=>{C(!1)};return S.jsxs("div",{children:[S.jsx("style",{children:`
        @keyframes pulse-scale {
          0%, 100% { transform: scale(1); opacity: 1; }
          50% { transform: scale(1.1); opacity: 0.8; }
        }
        .processing-spinner {
          animation: spin 1s linear infinite;
        }
        .processing-text {
          animation: pulse-scale 1.5s ease-in-out infinite;
          color: #000000;
          font-weight: 600;
        }
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `}),S.jsx(Ol,{ref:s,onFileSelect:V}),e&&!l&&S.jsx("div",{className:"mt-6 flex justify-center",children:S.jsx("button",{onClick:Z,disabled:d,className:`btn-primary flex items-center gap-3 px-8 py-3 transition-all ${d?"opacity-90":""}`,children:d?S.jsxs(S.Fragment,{children:[S.jsx(ao,{className:"w-6 h-6 processing-spinner text-black"}),S.jsx("span",{className:"processing-text font-medium",children:"Processing..."})]}):"Remove Background"})}),g&&S.jsx("div",{className:"mt-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-600 dark:text-red-400 text-center",children:g}),l&&S.jsxs("div",{className:"mt-8 space-y-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex justify-between text-xs text-zinc-500 dark:text-zinc-400 px-1",children:[S.jsx("span",{children:"Original"}),S.jsx("span",{children:"Background Removed"})]}),S.jsxs("div",{ref:k,className:"relative aspect-video rounded-xl overflow-hidden cursor-ew-resize select-none preview-container",onMouseDown:Fe,onMouseMove:Oe,onMouseUp:Me,onMouseLeave:Me,onTouchStart:Fe,onTouchMove:Oe,onTouchEnd:Me,style:{touchAction:"none"},children:[S.jsx("img",{src:l,alt:"Processed",className:"absolute inset-0 w-full h-full object-contain",draggable:!1}),S.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",style:{clipPath:`inset(0 ${100-_}% 0 0)`},children:S.jsx("img",{src:i,alt:"Original",className:"absolute inset-0 w-full h-full object-contain",draggable:!1})}),S.jsx("div",{className:"absolute top-0 bottom-0 w-1 bg-white shadow-lg cursor-ew-resize",style:{left:`${_}%`,transform:"translateX(-50%)"},children:S.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center",children:S.jsxs("div",{className:"flex gap-0.5",children:[S.jsx("div",{className:"w-0.5 h-3 bg-zinc-400 rounded-full"}),S.jsx("div",{className:"w-0.5 h-3 bg-zinc-400 rounded-full"})]})})})]}),S.jsx("p",{className:"text-center text-xs text-zinc-500 dark:text-zinc-400",children:"Drag the slider to compare"})]}),S.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-800/50 rounded-xl border border-accent-100 dark:border-accent-900/30",children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Download Format"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Object.entries(qa).map(([ie,z])=>S.jsx("button",{onClick:()=>R(ie),className:`
                    py-2 px-3 rounded-lg border text-sm font-medium transition-all
                    ${x===ie?"border-accent-500 bg-accent-500/10 text-accent-600 dark:text-accent-400":"border-accent-200 dark:border-accent-900/30 bg-white dark:bg-zinc-800/50 text-zinc-700 dark:text-zinc-300 hover:border-accent-300 dark:hover:border-zinc-600"}
                  `,children:z.label},ie))})]}),S.jsx("div",{className:"sticky bottom-20 sm:bottom-4 z-40",children:S.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4 p-3 sm:p-4 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm rounded-xl border border-accent-100 dark:border-accent-900/30 shadow-lg",children:[S.jsxs("button",{onClick:Ae,className:"btn-secondary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:[S.jsx(Il,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:"Start Over"}),S.jsx("span",{className:"sm:hidden",children:"Reset"})]}),S.jsx("button",{onClick:X,disabled:M,className:"btn-primary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:M?S.jsxs(S.Fragment,{children:[S.jsx(ao,{className:"w-4 h-4 animate-spin"}),"Converting..."]}):S.jsxs(S.Fragment,{children:[S.jsx(qd,{className:"w-4 h-4"}),S.jsxs("span",{className:"hidden sm:inline",children:["Download ",qa[x].label]}),S.jsx("span",{className:"sm:hidden",children:"Download"})]})})]})})]})]})}const Ya={png:{mime:"image/png",extension:"png",label:"PNG"},jpeg:{mime:"image/jpeg",extension:"jpg",label:"JPEG"},webp:{mime:"image/webp",extension:"webp",label:"WebP"},svg:{mime:"image/svg+xml",extension:"svg",label:"SVG"}};function ES(){const[s,e]=ve.useState(null),[r,i]=ve.useState(null),[o,l]=ve.useState(null),[c,d]=ve.useState(!1),[p,g]=ve.useState(null),[v,_]=ve.useState(30),[y,w]=ve.useState(!1),[C,k]=ve.useState(!1),[x,R]=ve.useState("png"),[M,D]=ve.useState(!1),V=ve.useRef(null),J=ve.useRef(null);ve.useEffect(()=>{const z=()=>typeof window<"u"&&window.cv&&window.cv.Mat?(console.log("OpenCV.js is ready"),k(!0),!0):!1;if(z())return;const F=setInterval(()=>{z()&&clearInterval(F)},100);return()=>clearInterval(F)},[]),ve.useEffect(()=>{if(!s||!V.current)return;const z=V.current,F=z.getContext("2d",{willReadFrequently:!0}),A=J.current,$=A.getContext("2d",{willReadFrequently:!0}),E=new Image;E.onload=()=>{const O=window.innerWidth,q=O<640?Math.min(O-48,400):800,te=O<640?400:600;let ce=E.width,fe=E.height;ce>q&&(fe=q/ce*fe,ce=q),fe>te&&(ce=te/fe*ce,fe=te),z.width=ce,z.height=fe,A.width=ce,A.height=fe,F.drawImage(E,0,0,ce,fe),$.fillStyle="black",$.fillRect(0,0,ce,fe),i(E)},E.src=URL.createObjectURL(s)},[s]);const me=z=>{e(z),l(null),g(null)},Z=z=>{const A=V.current.getBoundingClientRect();return z.touches&&z.touches.length>0?{x:z.touches[0].clientX-A.left,y:z.touches[0].clientY-A.top}:{x:z.clientX-A.left,y:z.clientY-A.top}},Y=z=>{z.preventDefault(),w(!0),be(z)},ke=()=>{w(!1)},be=z=>{if(!y||!J.current)return;z.preventDefault();const F=V.current,A=J.current,$=F.getContext("2d",{willReadFrequently:!0}),E=A.getContext("2d",{willReadFrequently:!0}),{x:O,y:q}=Z(z);E.fillStyle="white",E.beginPath(),E.arc(O,q,v/2,0,Math.PI*2),E.fill(),$.fillStyle="rgba(239, 68, 68, 0.5)",$.beginPath(),$.arc(O,q,v/2,0,Math.PI*2),$.fill()},X=()=>{if(!V.current||!r)return;const z=V.current,F=z.getContext("2d",{willReadFrequently:!0}),A=J.current,$=A.getContext("2d",{willReadFrequently:!0});F.drawImage(r,0,0,z.width,z.height),$.fillStyle="black",$.fillRect(0,0,A.width,A.height)},Ae=async()=>{if(!V.current||!J.current||!C){g("OpenCV is not ready yet");return}d(!0),g(null);try{const z=V.current,F=J.current,A=window.cv,$=A.imread(z);console.log("Source image channels:",$.channels(),"Type:",$.type());const E=new A.Mat;A.cvtColor($,E,A.COLOR_RGBA2BGR);const O=A.imread(F);console.log("Mask channels:",O.channels(),"Type:",O.type());const q=new A.Mat;O.channels()===4?A.cvtColor(O,q,A.COLOR_RGBA2GRAY):O.channels()===3?A.cvtColor(O,q,A.COLOR_RGB2GRAY):O.copyTo(q),A.threshold(q,q,127,255,A.THRESH_BINARY),console.log("Mask after threshold, type:",q.type());const te=A.countNonZero(q);if(console.log("Non-zero mask pixels:",te),te===0)throw new Error("No areas marked for inpainting. Please draw on the image with the brush.");const ce=new A.Mat;q.convertTo(ce,A.CV_8U);const fe=new A.Mat;try{console.log("Attempting TELEA inpaint..."),A.inpaint(E,ce,fe,5,A.INPAINT_TELEA),console.log("TELEA succeeded")}catch(Le){console.error("TELEA inpaint failed, trying NS algorithm:",Le);try{console.log("Attempting NS inpaint..."),A.inpaint(E,ce,fe,5,A.INPAINT_NS),console.log("NS algorithm succeeded")}catch(Be){throw console.error("NS inpaint also failed:",Be),new Error("Inpainting algorithms failed. Please try with a larger brush size or different area.")}}const Ne=new A.Mat;A.cvtColor(fe,Ne,A.COLOR_BGR2RGBA),A.imshow(z,Ne),l(z.toDataURL("image/png")),console.log(" Watermark removed using OpenCV inpainting")}catch(z){console.error("Error details:",z),z.message?g(z.message):g(typeof z=="number"?"OpenCV processing failed. Try drawing a larger area or reloading the page.":"Failed to process image. Please check the console for details.")}finally{try{typeof srcRGBA<"u"&&srcRGBA&&srcRGBA.data&&srcRGBA.delete(),typeof src<"u"&&src&&src.data&&src.delete(),typeof maskRaw<"u"&&maskRaw&&maskRaw.data&&maskRaw.delete(),typeof grayMask<"u"&&grayMask&&grayMask.data&&grayMask.delete(),typeof maskU8<"u"&&maskU8&&maskU8.data&&maskU8.delete(),typeof dst<"u"&&dst&&dst.data&&dst.delete(),typeof resultRGBA<"u"&&resultRGBA&&resultRGBA.data&&resultRGBA.delete()}catch(z){console.warn("Cleanup error:",z)}d(!1)}},Oe=async z=>{try{const F=document.createElement("canvas");F.width=z.width,F.height=z.height;const A=F.getContext("2d");A.drawImage(z,0,0);const $=A.getImageData(0,0,F.width,F.height),E={numberOfColors:16,colorSamplingMode:"scan",fillStyle:"fill",strokeWidth:0,lineErrorMargin:1,curveErrorMargin:1,colorClusteringCycles:3,minColorQuota:.02},q=new Yd(E).traceImage($);return new Blob([q],{type:"image/svg+xml"})}catch(F){throw new Error(`SVG conversion error: ${F.message}`)}},Fe=async()=>{if(o){D(!0);try{const z=new Image;if(z.crossOrigin="anonymous",await new Promise((O,q)=>{z.onload=O,z.onerror=q,z.src=o}),x==="svg")return await Oe(z);const F=document.createElement("canvas");F.width=z.width,F.height=z.height;const A=F.getContext("2d");x==="jpeg"&&(A.fillStyle="#FFFFFF",A.fillRect(0,0,F.width,F.height)),A.drawImage(z,0,0);const $=Ya[x],E=x==="png"?void 0:.9;return new Promise(O=>{F.toBlob(O,$.mime,E)})}finally{D(!1)}}},Me=async()=>{if(o)try{let z;x==="png"?z=await(await fetch(o)).blob():z=await Fe();const F=URL.createObjectURL(z),A=document.createElement("a");A.href=F;const $=s.name.split(".").slice(0,-1).join("."),E=Ya[x];A.download=`${$}-cleaned.${E.extension}`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(F)}catch(z){g("Failed to download image"),console.error("Download error:",z)}},ie=()=>{e(null),i(null),l(null),g(null)};return S.jsxs("div",{children:[!s&&S.jsx(Ol,{onFileSelect:me}),s&&!o&&S.jsxs("div",{className:"space-y-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[S.jsx(Fx,{className:"w-5 h-5 text-zinc-600 dark:text-zinc-400 flex-shrink-0"}),S.jsx("label",{className:"text-sm text-zinc-600 dark:text-zinc-400 whitespace-nowrap",children:"Brush:"}),S.jsx("input",{type:"range",min:"10",max:"100",value:v,onChange:z=>_(Number(z.target.value)),className:"flex-1 sm:w-32 accent-accent-500"}),S.jsxs("span",{className:"text-sm text-zinc-600 dark:text-zinc-500 w-12 text-right",children:[v,"px"]})]}),S.jsxs("button",{onClick:X,className:"btn-secondary flex items-center justify-center gap-2 text-sm py-2 px-4",children:[S.jsx(Tm,{className:"w-4 h-4"}),"Clear"]})]}),S.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-white dark:bg-zinc-800 flex justify-center",children:[S.jsx("canvas",{ref:V,onMouseDown:Y,onMouseUp:ke,onMouseLeave:ke,onMouseMove:be,onTouchStart:Y,onTouchEnd:ke,onTouchCancel:ke,onTouchMove:be,className:"cursor-crosshair max-w-full",style:{touchAction:"none"}}),S.jsx("canvas",{ref:J,className:"hidden"})]}),S.jsx("p",{className:"text-center text-zinc-600 dark:text-zinc-500 text-sm",children:'Paint over the watermark with your mouse, then click "Remove Watermark"'}),S.jsxs("div",{className:"flex justify-center gap-4",children:[S.jsx("button",{onClick:ie,className:"btn-secondary",children:"Cancel"}),S.jsx("button",{onClick:Ae,disabled:c||!C,className:"btn-primary flex items-center gap-2",children:c?S.jsxs(S.Fragment,{children:[S.jsx(ao,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):C?"Remove Watermark":"Loading..."})]})]}),p&&S.jsx("div",{className:"mt-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-600 dark:text-red-400 text-center",children:p}),o&&S.jsxs("div",{className:"space-y-6",children:[S.jsx("div",{className:"preview-container aspect-video flex items-center justify-center p-4",children:S.jsx("img",{src:o,alt:"Processed",className:"max-w-full max-h-full object-contain"})}),S.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-800/50 rounded-xl border border-accent-100 dark:border-accent-900/30",children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Download Format"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:Object.entries(Ya).map(([z,F])=>S.jsx("button",{onClick:()=>R(z),className:`
                     py-2 px-3 rounded-lg border text-sm font-medium transition-all
                    ${x===z?"border-accent-500 bg-accent-500/10 text-accent-600 dark:text-accent-400":"border-accent-200 dark:border-accent-900/30 bg-white dark:bg-zinc-800/50 text-zinc-700 dark:text-zinc-300 hover:border-accent-300 dark:hover:border-zinc-600"}
                  `,children:F.label},z))})]}),S.jsx("div",{className:"sticky bottom-20 sm:bottom-4 z-40",children:S.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4 p-3 sm:p-4 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm rounded-xl border border-accent-100 dark:border-accent-900/30 shadow-lg",children:[S.jsxs("button",{onClick:ie,className:"btn-secondary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:[S.jsx(Il,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:"Start Over"}),S.jsx("span",{className:"sm:hidden",children:"Reset"})]}),S.jsx("button",{onClick:Me,disabled:M,className:"btn-primary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:M?S.jsxs(S.Fragment,{children:[S.jsx(ao,{className:"w-4 h-4 animate-spin"}),"Converting..."]}):S.jsxs(S.Fragment,{children:[S.jsx(qd,{className:"w-4 h-4"}),S.jsxs("span",{className:"hidden sm:inline",children:["Download ",Ya[x].label]}),S.jsx("span",{className:"sm:hidden",children:"Download"})]})})]})})]})]})}function Qa(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qc={exports:{}},vv;function CS(){return vv||(vv=1,(function(s,e){(function(r){s.exports=r()})(function(){return(function r(i,o,l){function c(g,v){if(!o[g]){if(!i[g]){var _=typeof Qa=="function"&&Qa;if(!v&&_)return _(g,!0);if(d)return d(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var w=o[g]={exports:{}};i[g][0].call(w.exports,function(C){var k=i[g][1][C];return c(k||C)},w,w.exports,r,i,o,l)}return o[g].exports}for(var d=typeof Qa=="function"&&Qa,p=0;p<l.length;p++)c(l[p]);return c})({1:[function(r,i,o){function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}i.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(v){if(!d(v)||v<0||isNaN(v))throw TypeError("n must be a positive number");return this._maxListeners=v,this},l.prototype.emit=function(v){var _,y,w,C,k,x;if(this._events||(this._events={}),v==="error"&&(!this._events.error||p(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var R=new Error('Uncaught, unspecified "error" event. ('+_+")");throw R.context=_,R}if(y=this._events[v],g(y))return!1;if(c(y))switch(arguments.length){case 1:y.call(this);break;case 2:y.call(this,arguments[1]);break;case 3:y.call(this,arguments[1],arguments[2]);break;default:C=Array.prototype.slice.call(arguments,1),y.apply(this,C)}else if(p(y))for(C=Array.prototype.slice.call(arguments,1),x=y.slice(),w=x.length,k=0;k<w;k++)x[k].apply(this,C);return!0},l.prototype.addListener=function(v,_){var y;if(!c(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",v,c(_.listener)?_.listener:_),this._events[v]?p(this._events[v])?this._events[v].push(_):this._events[v]=[this._events[v],_]:this._events[v]=_,p(this._events[v])&&!this._events[v].warned&&(g(this._maxListeners)?y=l.defaultMaxListeners:y=this._maxListeners,y&&y>0&&this._events[v].length>y&&(this._events[v].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[v].length),typeof console.trace=="function"&&console.trace())),this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(v,_){if(!c(_))throw TypeError("listener must be a function");var y=!1;function w(){this.removeListener(v,w),y||(y=!0,_.apply(this,arguments))}return w.listener=_,this.on(v,w),this},l.prototype.removeListener=function(v,_){var y,w,C,k;if(!c(_))throw TypeError("listener must be a function");if(!this._events||!this._events[v])return this;if(y=this._events[v],C=y.length,w=-1,y===_||c(y.listener)&&y.listener===_)delete this._events[v],this._events.removeListener&&this.emit("removeListener",v,_);else if(p(y)){for(k=C;k-- >0;)if(y[k]===_||y[k].listener&&y[k].listener===_){w=k;break}if(w<0)return this;y.length===1?(y.length=0,delete this._events[v]):y.splice(w,1),this._events.removeListener&&this.emit("removeListener",v,_)}return this},l.prototype.removeAllListeners=function(v){var _,y;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[v]&&delete this._events[v],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(y=this._events[v],c(y))this.removeListener(v,y);else if(y)for(;y.length;)this.removeListener(v,y[y.length-1]);return delete this._events[v],this},l.prototype.listeners=function(v){var _;return!this._events||!this._events[v]?_=[]:c(this._events[v])?_=[this._events[v]]:_=this._events[v].slice(),_},l.prototype.listenerCount=function(v){if(this._events){var _=this._events[v];if(c(_))return 1;if(_)return _.length}return 0},l.listenerCount=function(v,_){return v.listenerCount(_)};function c(v){return typeof v=="function"}function d(v){return typeof v=="number"}function p(v){return typeof v=="object"&&v!==null}function g(v){return v===void 0}},{}],2:[function(r,i,o){var l,c,d,p,g;g=navigator.userAgent.toLowerCase(),p=navigator.platform.toLowerCase(),l=g.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],d=l[1]==="ie"&&document.documentMode,c={name:l[1]==="version"?l[3]:l[1],version:d||parseFloat(l[1]==="opera"&&l[4]?l[4]:l[2]),platform:{name:g.match(/ip(?:ad|od|hone)/)?"ios":(g.match(/(?:webos|android)/)||p.match(/mac|win|linux/)||["other"])[0]}},c[c.name]=!0,c[c.name+parseInt(c.version,10)]=!0,c.platform[c.platform.name]=!0,i.exports=c},{}],3:[function(r,i,o){var l,c,d,p=function(y,w){for(var C in w)g.call(w,C)&&(y[C]=w[C]);function k(){this.constructor=y}return k.prototype=w.prototype,y.prototype=new k,y.__super__=w.prototype,y},g={}.hasOwnProperty,v=[].indexOf||function(y){for(var w=0,C=this.length;w<C;w++)if(w in this&&this[w]===y)return w;return-1},_=[].slice;l=r("events").EventEmitter,d=r("./browser.coffee"),c=(function(y){var w,C;p(k,y),w={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},C={delay:500,copy:!1};function k(x){var R,M,D;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(x);for(M in w)D=w[M],(R=this.options)[M]==null&&(R[M]=D)}return k.prototype.setOption=function(x,R){if(this.options[x]=R,this._canvas!=null&&(x==="width"||x==="height"))return this._canvas[x]=R},k.prototype.setOptions=function(x){var R,M,D;M=[];for(R in x)g.call(x,R)&&(D=x[R],M.push(this.setOption(R,D)));return M},k.prototype.addFrame=function(x,R){var M,D;R==null&&(R={}),M={},M.transparent=this.options.transparent;for(D in C)M[D]=R[D]||C[D];if(this.options.width==null&&this.setOption("width",x.width),this.options.height==null&&this.setOption("height",x.height),typeof ImageData<"u"&&ImageData!==null&&x instanceof ImageData)M.data=x.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&x instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&x instanceof WebGLRenderingContext)R.copy?M.data=this.getContextData(x):M.context=x;else if(x.childNodes!=null)R.copy?M.data=this.getImageData(x):M.image=x;else throw new Error("Invalid image");return this.frames.push(M)},k.prototype.render=function(){var x,R,M;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var D,V,J;for(J=[],D=0,V=this.frames.length;0<=V?D<V:D>V;0<=V?++D:--D)J.push(null);return J}).call(this),R=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(x=0,M=R;0<=M?x<M:x>M;0<=M?++x:--x)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},k.prototype.abort=function(){for(var x;x=this.activeWorkers.shift(),x!=null;)this.log("killing active worker"),x.terminate();return this.running=!1,this.emit("abort")},k.prototype.spawnWorkers=function(){var x,R,M;return x=Math.min(this.options.workers,this.frames.length),(function(){M=[];for(var D=R=this.freeWorkers.length;R<=x?D<x:D>x;R<=x?D++:D--)M.push(D);return M}).apply(this).forEach((function(D){return function(V){var J;return D.log("spawning worker "+V),J=new Worker(D.options.workerScript),J.onmessage=function(me){return D.activeWorkers.splice(D.activeWorkers.indexOf(J),1),D.freeWorkers.push(J),D.frameFinished(me.data)},D.freeWorkers.push(J)}})(this)),x},k.prototype.frameFinished=function(x){var R,M;if(this.log("frame "+x.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[x.index]=x,this.options.globalPalette===!0&&(this.options.globalPalette=x.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(R=1,M=this.freeWorkers.length;1<=M?R<M:R>M;1<=M?++R:--R)this.renderNextFrame();return v.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},k.prototype.finishRendering=function(){var x,R,M,D,V,J,me,Z,Y,ke,be,X,Ae,Oe,Fe,Me;for(Z=0,Oe=this.imageParts,V=0,Y=Oe.length;V<Y;V++)R=Oe[V],Z+=(R.data.length-1)*R.pageSize+R.cursor;for(Z+=R.pageSize-R.cursor,this.log("rendering finished - filesize "+Math.round(Z/1e3)+"kb"),x=new Uint8Array(Z),X=0,Fe=this.imageParts,J=0,ke=Fe.length;J<ke;J++)for(R=Fe[J],Me=R.data,M=me=0,be=Me.length;me<be;M=++me)Ae=Me[M],x.set(Ae,X),M===R.data.length-1?X+=R.cursor:X+=R.pageSize;return D=new Blob([x],{type:"image/gif"}),this.emit("finished",D,x)},k.prototype.renderNextFrame=function(){var x,R,M;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return x=this.frames[this.nextFrame++],M=this.freeWorkers.shift(),R=this.getTask(x),this.log("starting frame "+(R.index+1)+" of "+this.frames.length),this.activeWorkers.push(M),M.postMessage(R)},k.prototype.getContextData=function(x){return x.getImageData(0,0,this.options.width,this.options.height).data},k.prototype.getImageData=function(x){var R;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),R=this._canvas.getContext("2d"),R.setFill=this.options.background,R.fillRect(0,0,this.options.width,this.options.height),R.drawImage(x,0,0),this.getContextData(R)},k.prototype.getTask=function(x){var R,M;if(R=this.frames.indexOf(x),M={index:R,last:R===this.frames.length-1,delay:x.delay,transparent:x.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:d.name==="chrome"},x.data!=null)M.data=x.data;else if(x.context!=null)M.data=this.getContextData(x.context);else if(x.image!=null)M.data=this.getImageData(x.image);else throw new Error("Invalid frame");return M},k.prototype.log=function(){var x;if(x=1<=arguments.length?_.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,x)},k})(l),i.exports=c},{"./browser.coffee":2,events:1}]},{},[3])(3)})})(Qc)),Qc.exports}var PS=CS();const mv=Ad(PS);function TS(){const s=ve.useRef(null),[e,r]=ve.useState(null),[i,o]=ve.useState(null),[l,c]=ve.useState("png"),[d,p]=ve.useState(.9),[g,v]=ve.useState(16),[_,y]=ve.useState("color"),[w,C]=ve.useState(!1),[k,x]=ve.useState(0),[R,M]=ve.useState(null),[D,V]=ve.useState(0),[J,me]=ve.useState(0),[Z,Y]=ve.useState(null),[ke,be]=ve.useState([]),[X,Ae]=ve.useState([]),Oe=[{id:"png",label:"PNG",mime:"image/png",description:"Lossless, transparency support",icon:"",warning:null},{id:"jpeg",label:"JPEG",mime:"image/jpeg",description:"Compressed photos, no transparency",icon:"",warning:null},{id:"webp",label:"WebP",mime:"image/webp",description:"Modern format, best compression",icon:"",warning:null},{id:"gif",label:"GIF",mime:"image/gif",description:"Animated or simple graphics",icon:"",warning:"Limited to 256 colors"},{id:"svg",label:"SVG",mime:"image/svg+xml",description:"Scalable vector graphics",icon:"",warning:"Best for icons & illustrations, not photos"}],Fe=Q=>{if(!Q)return null;const ae=Q.type.toLowerCase();return ae==="image/png"?"png":ae==="image/jpeg"||ae==="image/jpg"?"jpeg":ae==="image/webp"?"webp":ae==="image/gif"?"gif":ae==="image/svg+xml"?"svg":ae.startsWith("video/")?"video":null},Me=()=>Fe(e)==="video",z=(()=>{const Q=Fe(e);return Q==="video"?Oe.filter(ae=>ae.id==="gif"):Oe.filter(ae=>!(ae.id===Q||ae.id==="gif"&&Q!=="gif"&&Q!=="video"||ae.id==="svg"&&Q==="svg"))})(),F=Q=>{if(r(Q),V(Q?.size||0),o(null),me(0),M(null),Q){const ae=Fe(Q);if(ae==="video"){c("gif");return}(l===ae||l==="gif"&&ae!=="gif"&&ae!=="video"||l==="svg"&&ae==="svg")&&c("png")}},A=async()=>{if(e){C(!0),M(null);try{const Q=URL.createObjectURL(e);let ae;if(Me())ae=await O(Q);else{const xe=new Image;await new Promise((tt,De)=>{xe.onload=tt,xe.onerror=De,xe.src=Q}),l==="gif"?ae=await E(xe):l==="svg"?ae=await fe(xe):ae=await $(xe)}if(!ae)throw new Error("Conversion failed");const Re=URL.createObjectURL(ae);o(Re),me(ae.size),URL.revokeObjectURL(Q)}catch(Q){console.error("Conversion error:",Q),M(Q.message||"Failed to convert")}finally{C(!1)}}},$=async Q=>{const ae=document.createElement("canvas");ae.width=Q.width,ae.height=Q.height;const Re=ae.getContext("2d");(l==="jpeg"||l==="jpg")&&(Re.fillStyle="#FFFFFF",Re.fillRect(0,0,ae.width,ae.height)),Re.drawImage(Q,0,0);const xe=Oe.find(Ge=>Ge.id===l),tt=l==="png"?void 0:d;return await new Promise(Ge=>{ae.toBlob(Ge,xe.mime,tt)})},E=async Q=>new Promise((ae,Re)=>{try{const xe=document.createElement("canvas");xe.width=Q.width,xe.height=Q.height,xe.getContext("2d").drawImage(Q,0,0);const De=new mv({workers:2,quality:Math.round(20-d*10),width:Q.width,height:Q.height,workerScript:"/gif.worker.js"});De.addFrame(xe,{delay:100}),De.on("finished",Ge=>ae(Ge)),De.on("error",Ge=>Re(new Error(`GIF encoding failed: ${Ge.message}`))),De.render()}catch(xe){Re(new Error(`GIF conversion error: ${xe.message}`))}}),O=async Q=>new Promise((ae,Re)=>{try{const xe=document.createElement("video");xe.crossOrigin="anonymous",xe.muted=!0,xe.playsInline=!0,xe.onloadedmetadata=async()=>{try{const De=Math.min(1,480/xe.videoWidth),Ge=Math.round(xe.videoWidth*De),Xe=Math.round(xe.videoHeight*De),dr=Math.min(xe.duration,10),Nt=10,Nn=Math.floor(dr*Nt),Oo=1e3/Nt,ei=document.createElement("canvas");ei.width=Ge,ei.height=Xe;const Gi=ei.getContext("2d"),Ar=new mv({workers:2,quality:10,width:Ge,height:Xe,workerScript:"/gif.worker.js"});x(0);for(let It=0;It<Nn;It++){const jo=It/Nt;xe.currentTime=jo,await new Promise(In=>{xe.onseeked=In}),Gi.drawImage(xe,0,0,Ge,Xe),Ar.addFrame(Gi,{copy:!0,delay:Oo}),x(Math.round(It/Nn*70))}Ar.on("progress",It=>{x(70+Math.round(It*30))}),Ar.on("finished",It=>{x(100),ae(It)}),Ar.on("error",It=>Re(new Error(`GIF encoding failed: ${It.message}`))),Ar.render()}catch(tt){Re(new Error(`Frame capture error: ${tt.message}`))}},xe.onerror=()=>Re(new Error("Failed to load video")),xe.src=Q}catch(xe){Re(new Error(`Video conversion error: ${xe.message}`))}}),q=Q=>{const ae=[],Re=new Set,xe=/#([0-9A-Fa-f]{6}|[0-9A-Fa-f]{3})\b/g,tt=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/gi;let De;for(;(De=xe.exec(Q))!==null;){const Ge=De[0],Xe=Ge.toLowerCase();Xe!=="#ffffff"&&Xe!=="#fff"&&Xe!=="#000000"&&Xe!=="#000"&&(Re.has(Xe)||(Re.add(Xe),ae.push({original:Ge,hex:Xe})))}for(;(De=tt.exec(Q))!==null;){const Ge=De[0],Xe=parseInt(De[1]),qt=parseInt(De[2]),dr=parseInt(De[3]),Nt="#"+[Xe,qt,dr].map(Nn=>Nn.toString(16).padStart(2,"0")).join("");Nt!=="#ffffff"&&Nt!=="#000000"&&!Re.has(Nt)&&(Re.add(Nt),ae.push({original:Ge,hex:Nt}))}return ae.slice(0,12)},te=(Q,ae,Re)=>{const xe=ae.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),tt=new RegExp(xe,"gi");return Q.replace(tt,Re)},ce=(Q,ae)=>{if(!Z||!X[Q])return;const Re=[...ke];Re[Q]=ae,be(Re);let xe=Z;X.forEach((Ge,Xe)=>{const qt=Re[Xe];Ge.hex!==qt&&(xe=te(xe,Ge.original,qt))});const tt=new Blob([xe],{type:"image/svg+xml"}),De=URL.createObjectURL(tt);o(De),me(tt.size)},fe=async Q=>{try{const ae=document.createElement("canvas");ae.width=Q.width,ae.height=Q.height;const Re=ae.getContext("2d");Re.drawImage(Q,0,0);const xe=Re.getImageData(0,0,ae.width,ae.height),tt=_==="monochrome"?{numberOfColors:2,colorSamplingMode:"generate",fillStyle:"fill",strokeWidth:0,lineErrorMargin:.5,curveErrorMargin:.5,enhanceRightAngles:!0}:{numberOfColors:g,colorSamplingMode:"scan",fillStyle:"fill",strokeWidth:0,lineErrorMargin:1,curveErrorMargin:1,colorClusteringCycles:3,minColorQuota:.02},Ge=new Yd(tt).traceImage(xe);Y(Ge);const Xe=q(Ge),qt=Xe.map(Nt=>Nt.hex);return be(qt),Ae(Xe),new Blob([Ge],{type:"image/svg+xml"})}catch(ae){throw new Error(`SVG conversion error: ${ae.message}`)}};ve.useEffect(()=>{if(e){const Q=setTimeout(()=>{A()},300);return()=>clearTimeout(Q)}},[e,l,d,g,_]);const Ne=()=>{if(!i)return;const Q=document.createElement("a");if(l==="svg"&&Z&&X.length>0){let xe=Z;X.forEach((De,Ge)=>{const Xe=ke[Ge];De.hex!==Xe&&(xe=te(xe,De.original,Xe))});const tt=new Blob([xe],{type:"image/svg+xml"});Q.href=URL.createObjectURL(tt)}else Q.href=i;const ae=e.name.split(".").slice(0,-1).join("."),Re=l==="jpeg"?"jpg":l;Q.download=`${ae}.${Re}`,Q.click()},Le=()=>{r(null),o(null),me(0),M(null),Y(null),be([]),Ae([]),s.current&&s.current.reset()},Be=Q=>Q===0?"0 B":Q<1024?`${Q} B`:Q<1024*1024?`${(Q/1024).toFixed(1)} KB`:`${(Q/1024/1024).toFixed(2)} MB`,Ze=()=>!D||!J?null:(J-D)/D*100,cr=Oe.find(Q=>Q.id===l);return S.jsxs("div",{children:[S.jsx(Ol,{ref:s,onFileSelect:F,acceptedTypes:"image/*,video/*",maxSizeMB:50,helpText:"Images (PNG, JPEG, WebP, GIF, SVG) or videos for GIF"}),e&&S.jsxs("div",{className:"mt-8 space-y-6",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Output Format"}),S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:z.map(Q=>S.jsxs("button",{onClick:()=>c(Q.id),className:`
                    p-4 rounded-xl border text-left transition-all
                    ${l===Q.id?"border-accent-500 bg-accent-500/10 text-accent-600 dark:text-accent-400":"border-accent-200 dark:border-accent-900/30 bg-white dark:bg-zinc-800/50 text-zinc-700 dark:text-zinc-300 hover:border-accent-300 dark:hover:border-zinc-600"}
                  `,children:[S.jsx("div",{className:"font-semibold text-sm",children:Q.label}),S.jsx("div",{className:"text-xs text-zinc-600 dark:text-zinc-500 mt-1",children:Q.description})]},Q.id))})]}),cr?.warning&&S.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-900/30 rounded-lg flex gap-2",children:[S.jsx(Ox,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-500 flex-shrink-0 mt-0.5"}),S.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-600",children:cr.warning})]}),(l==="jpeg"||l==="webp"||l==="jpg")&&S.jsxs("div",{children:[S.jsxs("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:["Quality: ",Math.round(d*100),"%"]}),S.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:d,onChange:Q=>p(Number(Q.target.value)),className:"w-full accent-accent-500"}),S.jsxs("div",{className:"flex justify-between text-xs text-zinc-600 dark:text-zinc-500 mt-1",children:[S.jsx("span",{children:"Smaller file"}),S.jsx("span",{children:"Higher quality"})]})]}),l==="svg"&&S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Tracing Mode"}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("button",{onClick:()=>y("color"),className:`p-3 rounded-lg border text-left transition-all ${_==="color"?"border-accent-500 bg-accent-500/10 text-accent-600 dark:text-accent-400":"border-zinc-200 dark:border-accent-900/30 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[S.jsx("div",{className:"font-medium text-sm",children:"Color"}),S.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"Flat illustrations, logos"})]}),S.jsxs("button",{onClick:()=>y("monochrome"),className:`p-3 rounded-lg border text-left transition-all ${_==="monochrome"?"border-accent-500 bg-accent-500/10 text-accent-600 dark:text-accent-400":"border-zinc-200 dark:border-accent-900/30 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[S.jsx("div",{className:"font-medium text-sm",children:"Monochrome"}),S.jsx("div",{className:"text-xs text-zinc-500 mt-1",children:"Line art, icons, signatures"})]})]})]}),_==="color"&&S.jsxs("div",{children:[S.jsxs("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:["Colors: ",g]}),S.jsx("input",{type:"range",min:"2",max:"32",step:"1",value:g,onChange:Q=>v(Number(Q.target.value)),className:"w-full accent-accent-500"}),S.jsxs("div",{className:"flex justify-between text-xs text-zinc-600 dark:text-zinc-500 mt-1",children:[S.jsx("span",{children:"Simpler"}),S.jsx("span",{children:"More detailed"})]})]})]}),R&&S.jsx("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-600 dark:text-red-400 text-sm",children:R}),J>0&&!R&&S.jsx("div",{className:"p-4 bg-white dark:bg-zinc-800/50 rounded-xl border border-accent-100 dark:border-transparent",children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-zinc-600 dark:text-zinc-500 text-xs mb-1",children:"Original"}),S.jsx("div",{className:"text-zinc-800 dark:text-zinc-200 font-mono",children:Be(D)}),S.jsx("div",{className:"text-zinc-600 dark:text-zinc-500 text-xs mt-1",children:e.type.split("/")[1].toUpperCase()})]}),S.jsxs("div",{className:"flex flex-col items-center px-4",children:[S.jsx(jx,{className:"w-5 h-5 text-zinc-400 dark:text-zinc-600"}),Ze()!==null&&S.jsxs("div",{className:`text-xs mt-1 font-medium ${Ze()<0?"text-green-500":"text-yellow-500"}`,children:[Ze()>0?"+":"",Ze().toFixed(0),"%"]})]}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"text-zinc-600 dark:text-zinc-500 text-xs mb-1",children:"Converted"}),S.jsx("div",{className:"text-accent-600 dark:text-accent-400 font-mono",children:Be(J)}),S.jsx("div",{className:"text-zinc-600 dark:text-zinc-500 text-xs mt-1",children:l.toUpperCase()})]})]})}),w&&S.jsxs("div",{className:"p-4 bg-accent-50 dark:bg-accent-950/20 rounded-xl",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(ao,{className:"w-4 h-4 animate-spin text-accent-600 dark:text-accent-400"}),S.jsx("span",{className:"text-sm text-accent-600 dark:text-accent-400",children:Me()?k<70?"Capturing frames...":"Encoding GIF...":`Converting to ${cr?.label}...`})]}),Me()&&S.jsxs("span",{className:"text-sm font-medium text-accent-600 dark:text-accent-400",children:[k,"%"]})]}),Me()&&S.jsx("div",{className:"h-2 bg-accent-200 dark:bg-accent-900/50 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-accent-500 transition-all duration-200 ease-out",style:{width:`${k}%`}})})]}),i&&S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"preview-container aspect-video flex items-center justify-center p-4",children:S.jsx("img",{src:i,alt:"Converted",className:"max-w-full max-h-full object-contain"})}),l==="svg"&&ke.length>0&&S.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-800/50 rounded-xl border border-accent-100 dark:border-accent-900/30",children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Lx,{className:"w-4 h-4 text-accent-600 dark:text-accent-400"}),S.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Recolor SVG"})]}),S.jsxs("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[ke.length," color",ke.length!==1?"s":""," detected"]})]}),S.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-3",children:"Tap any color below to replace it"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:ke.map((Q,ae)=>S.jsxs("label",{className:"group relative w-10 h-10 rounded-full cursor-pointer transition-all hover:scale-110",children:[S.jsx("div",{className:"w-full h-full rounded-full border-2 border-white dark:border-zinc-600 shadow-md group-hover:shadow-lg group-hover:ring-2 group-hover:ring-accent-500/50",style:{backgroundColor:Q}}),S.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-full bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity",children:S.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),S.jsx("input",{type:"color",value:Q,onChange:Re=>ce(ae,Re.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"})]},ae))})]})]}),S.jsx("div",{className:"sticky bottom-20 sm:bottom-4 z-40",children:S.jsxs("div",{className:"flex justify-center gap-2 sm:gap-4 p-3 sm:p-4 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-sm rounded-xl border border-accent-100 dark:border-accent-900/30 shadow-lg",children:[S.jsxs("button",{onClick:Le,className:"btn-secondary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:[S.jsx(Il,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:"Start Over"}),S.jsx("span",{className:"sm:hidden",children:"Reset"})]}),S.jsxs("button",{onClick:Ne,disabled:!i||w,className:"btn-primary flex items-center gap-2 text-sm sm:text-base px-4 sm:px-6 py-2 sm:py-3",children:[S.jsx(qd,{className:"w-4 h-4"}),"Download ",cr?.label]})]})})]})]})}function RS(){const[s,e]=ve.useState(()=>{const d=localStorage.getItem("activeTab");return["background","watermark","converter"].includes(d)?d:"background"});ve.useEffect(()=>{localStorage.setItem("activeTab",s)},[s]);const[r,i]=ve.useState(()=>localStorage.getItem("theme")||"light");ve.useEffect(()=>{const d=document.documentElement;r==="dark"?d.classList.add("dark"):d.classList.remove("dark"),localStorage.setItem("theme",r)},[r]);const o=()=>{i(d=>d==="dark"?"light":"dark")},l=[{id:"background",label:"Background Remover",shortLabel:"Background",icon:Tm},{id:"watermark",label:"Watermark Remover",shortLabel:"Watermark",icon:Mx},{id:"converter",label:"Format Converter",shortLabel:"Convert",icon:Il}],c=l.find(d=>d.id===s);return S.jsxs("div",{className:"min-h-screen bg-white dark:bg-zinc-950",children:[S.jsx("header",{className:"border-b border-accent-100 dark:border-accent-900/30 bg-white dark:bg-transparent",children:S.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-4 sm:py-6",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("img",{src:r==="dark"?"/darkmode.svg":"/litemode.svg",alt:"Image Toolkit Logo",className:"w-10 h-10"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-xl font-bold text-zinc-900 dark:text-zinc-100",children:"Image Toolkit"}),S.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-500",children:"Free online image tools"})]})]}),S.jsx("button",{onClick:o,className:"p-2 rounded-lg bg-accent-50 dark:bg-accent-900/20 hover:bg-accent-100 dark:hover:bg-accent-900/40 transition-colors duration-200","aria-label":"Toggle theme",children:r==="dark"?S.jsx($x,{className:"w-5 h-5 text-zinc-700 dark:text-zinc-300"}):S.jsx(Ax,{className:"w-5 h-5 text-zinc-700 dark:text-zinc-300"})})]}),S.jsx("h2",{className:"sm:hidden text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:c?.label}),S.jsx("nav",{className:"hidden sm:flex gap-2",children:l.map(d=>{const p=d.icon;return S.jsxs("button",{onClick:()=>e(d.id),className:`tab flex items-center gap-2 ${s===d.id?"active":""}`,children:[S.jsx(p,{className:"w-4 h-4"}),S.jsx("span",{children:d.label})]},d.id)})})]})}),S.jsx("nav",{className:"sm:hidden fixed bottom-0 left-0 right-0 bg-white dark:bg-zinc-900 border-t border-accent-100 dark:border-accent-900/30 z-50",children:S.jsx("div",{className:"flex justify-around",children:l.map(d=>{const p=d.icon,g=s===d.id;return S.jsxs("button",{onClick:()=>e(d.id),className:`flex-1 flex flex-col items-center gap-1 py-3 transition-colors ${g?"text-accent-600 dark:text-accent-400":"text-zinc-500 dark:text-zinc-400"}`,children:[S.jsx(p,{className:`w-5 h-5 ${g?"stroke-[2.5]":""}`}),S.jsx("span",{className:"text-xs font-medium",children:d.shortLabel})]},d.id)})})}),S.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-8 pb-24 sm:pb-8",children:S.jsxs("div",{children:[s==="background"&&S.jsx(SS,{}),s==="watermark"&&S.jsx(ES,{}),s==="converter"&&S.jsx(TS,{})]})}),S.jsx("footer",{className:"mt-12 pb-6",children:S.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 text-center text-zinc-400 dark:text-zinc-600 text-xs",children:["Image Toolkit (c) 2025"," ",S.jsx("span",{style:{fontWeight:"bold",color:"#1698CB",cursor:"pointer"},onClick:()=>window.open("https://x.com/carlyne177","_blank"),children:"Carlyne"}),". All rights reserved."]})})]})}Tx.init("phc_bRWzJpNrGcFv0BlRuxjASNVFbr0CfV7yAMgebajmUbj",{api_host:"https://us.i.posthog.com",person_profiles:"identified_only"});fy.createRoot(document.getElementById("root")).render(S.jsx(sy.StrictMode,{children:S.jsx(RS,{})}));
